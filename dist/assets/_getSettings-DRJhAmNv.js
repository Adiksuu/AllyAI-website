import{d as s,c as a}from"./index-BFltlDJr.js";const m=async()=>{const e=await s.ref(`users/${a.currentUser.uid}/settings/`).once("value");if(e.exists())return{temperature:e.val().temperature||1,length:e.val().length||16384,language:e.val().language||"auto",rules:e.val().rules||"",experimental:e.val().experimental||!1,tone:e.val().tone||"neutral"};{const t={temperature:1,length:16384,language:"auto",rules:"",experimental:!1,tone:"neutral"};return await s.ref(`users/${a.currentUser.uid}/settings`).set(t),t}},p=(e,t,n,u,l,o,r,i,c,g)=>{if(e>=0&&e<=2&&t>0&&t<=16384&&r.length<=300)s.ref(`users/${a.currentUser.uid}/settings/`).update({temperature:e,length:t,language:l,rules:r,tone:c});else{const d={temperature:1,length:16384,language:"auto",rules:"",tone:"neutral"};s.ref(`users/${a.currentUser.uid}/settings`).set(d),n("1"),u("16384"),o("auto"),i(""),g("neutral")}},v=async()=>{const e=await s.ref(`users/${a.currentUser.uid}/custom/`).once("value");if(e.exists())return{rules:e.val().rules};{const t={rules:""};return await s.ref(`users/${a.currentUser.uid}/custom`).set(t),t}};export{m as _,v as a,p as b};
