import{r as n,j as e,F as f,c as y,h as P,d as w,i as U,a as I,u as D}from"./index-BFltlDJr.js";import{b as R,_ as C}from"./_getSettings-DRJhAmNv.js";import{h as T,D as k,E as O,F}from"./index-BtAHqjqB.js";import{t as v,b as H,S as $,_ as V,a as G}from"./Sidebar-eFX6kK0U.js";import{_ as M}from"./_unlockTheme-DqE_uakg.js";import{a as B}from"./_handleDelete-wUc0V8YD.js";import{_ as z}from"./_upgradeAccount-CtbiBU6f.js";const K=["auto","English","Spanish","French","German","Russian","Chinese","Japanese","Korean","Arabic","Portuguese","Italian","Hindi","Bengali","Persian","Punjabi","Vietnamese","Malay","Telugu","Tamil","Marathi","Turkish","Urdu","Indonesian","German","Swedish","Norwegian","Danish","Dutch","Polish","Czech","Slovak","Hungarian","Romanian","Greek","Finnish","Hebrew","Thai","Filipino"],J=["neutral","friendly","formal","informative","professional"];function Q(){const[a,i]=n.useState("Loading..."),[c,h]=n.useState("Loading..."),[r,t]=n.useState(!1),[l,u]=n.useState("auto"),[d,m]=n.useState("neutral"),[o,p]=n.useState(""),[x,j]=n.useState(!1),S=n.useRef(null);n.useEffect(()=>{(async()=>{const g=await C();i(g.temperature.toString()),h(g.length.toString()),u(g.language),p(g.rules),m(g.tone)})()},[]);function _(s){if(s===l){t(!r);return}u(s),t(!1)}function E(s){if(s===d){j(!x);return}m(s),j(!1)}const L=()=>{const s=S.current;s&&(s.style.height="auto",s.style.height=`${s.scrollHeight}px`)},A=s=>{p(s.target.value),L()};function b({lang:s}){return e.jsxs("div",{className:`language${s===l&&r?" primary":""}`,onClick:()=>_(s),children:[e.jsx("span",{children:s}),s===l?e.jsx("button",{children:e.jsx(f,{icon:T})}):null]})}function N({lang:s}){return e.jsxs("div",{className:`language${s===d&&x?" primary":""}`,onClick:()=>E(s),children:[e.jsx("span",{children:s}),s===d?e.jsx("button",{children:e.jsx(f,{icon:T})}):null]})}return e.jsxs("div",{className:"container",children:[e.jsx("h2",{children:"Output Settings"}),e.jsxs("div",{className:"list",children:[e.jsx("span",{children:"Temperature"}),e.jsx("p",{children:"Temperature controls the randomness of the output. Use higher values for more creative responses, and lower values for more deterministic responses. Values can range from [0.0, 2.0]."}),e.jsx("input",{type:"text",maxLength:1,placeholder:"Values can range from [0.0, 2.0].",value:a,onChange:s=>i(s.target.value)})]}),e.jsxs("div",{className:"list",children:[e.jsx("span",{children:"Output Language"}),e.jsx("p",{children:"Select the language in which you want to receive replies"}),e.jsxs("div",{className:"select_language",children:[e.jsx(b,{lang:l},"English"),r?e.jsx("div",{className:"lang_list",children:K.filter(s=>s!==l).map((s,g)=>e.jsx(b,{lang:s},g))}):null]})]}),e.jsxs("div",{className:"list",children:[e.jsx("span",{children:"Output Length"}),e.jsx("p",{children:"Control how long the text of the displayed response can be. Values can range from [1024, 16384]"}),e.jsx("input",{type:"text",placeholder:"Values can range from [1024, 16384].",value:c,onChange:s=>h(s.target.value)})]}),e.jsxs("div",{className:"list",children:[e.jsx("span",{children:"Output Tone"}),e.jsx("p",{children:"Control the tone of the messages you receive"}),e.jsxs("div",{className:"select_language",children:[e.jsx(N,{lang:d},"neutral"),x?e.jsx("div",{className:"lang_list",children:J.filter(s=>s!==d).map((s,g)=>e.jsx(N,{lang:s},g))}):null]})]}),e.jsxs("div",{className:"list",children:[e.jsx("span",{children:"Custom Instructions"}),e.jsx("p",{children:"Provide your own rules that AllyAI will follow in each of your chats"}),e.jsxs("div",{className:"rules",children:[e.jsx("textarea",{ref:S,value:o,onChange:A,maxLength:300,type:"text",placeholder:"Your instructions..."}),e.jsx("span",{children:300-o.length})]}),e.jsx("button",{onClick:()=>R(a,c,i,h,l,u,o,p,d,m),children:"SAVE SETTINGS"})]})]})}function q({tabs:a,selectedTab:i,setSelectedTab:c}){const h=t=>{c(t)};function r({tab:t}){return e.jsx("button",{onClick:()=>h(t),className:`settings_selecting_tab ${i===t?"active":""}`,children:t},t)}return e.jsxs("div",{className:"settings_selecting",children:[e.jsx("h2",{children:"Settings"}),e.jsx("div",{className:"settings_selecting_tabs",children:a.map((t,l)=>e.jsx(r,{tab:t.title},l))})]})}const X=()=>{y.signOut().then(()=>{localStorage.removeItem("user"),window.location.reload()})};function Y({isPremium:a}){const[i,c]=n.useState([v[0]]);n.useEffect(()=>{(async()=>{const l=await Promise.all(v.map(async u=>i.find(m=>m.name===u.name)?null:await M(u.name)?u:null));c([v[0],...l.filter(u=>u!==null)])})()},[]);function h(){return e.jsx("stripe-buy-button",{"buy-button-id":"buy_btn_1Qc57XP2S3Dculr8dq3ppuby","publishable-key":"pk_live_51Qc4feP2S3Dculr8fK4R12r5FZeWzaH0xG52XVPQpJ9FAH3jaTsB73HFtJm34MqyNuzCE7TjAdKkfwn1yelhw21400xAygROAl","customer-email":y.currentUser.email,"success-url":"https://ally-ai.lol/success?session_id={CHECKOUT_SESSION_ID}","cancel-url":"https://ally-ai.lol/settings"})}function r({theme:t}){return e.jsx("div",{onClick:()=>H(t.name),className:"theme",style:{backgroundImage:`url(${t.logo})`},children:e.jsx("span",{className:"theme-name",style:{color:t.color},children:t.name})})}return e.jsxs("div",{className:"container",children:[e.jsx("h2",{children:"User Settings"}),e.jsxs("div",{className:"list",children:[e.jsx("span",{children:"Premium account"}),e.jsx("p",{children:"Get access to additional features before the premiere by enabling access to the experimental features tab. Unlimited prompts and more"}),a?e.jsxs("div",{className:"checkbox checkbox-wide",children:["PREMIUM ENABLED ",e.jsx(f,{icon:P})]}):e.jsx(h,{})]}),i.length>0&&e.jsxs("div",{className:"list",children:[e.jsx("span",{children:"Appearance"}),e.jsx("p",{children:"Change the look of the entire site interface, including the Ally logo"}),e.jsx("div",{className:"themes",children:i.map((t,l)=>e.jsx(r,{theme:t},l))})]}),e.jsxs("div",{className:"list",children:[e.jsx("span",{children:"Logout"}),e.jsx("p",{children:"Log out of your account to prevent unwanted authorization, you will not be automatically logged in the next time you visit the site"}),e.jsx("button",{onClick:()=>X(),children:"LOGOUT"})]})]})}const W=a=>{w.ref(`users/${y.currentUser.uid}/custom`).update({rules:a})};function Z(){const[a,i]=n.useState(!1),[c,h]=n.useState(!1),r=n.useRef(null),[t,l]=n.useState("");n.useEffect(()=>{(async()=>{const p=await C();i(p.experimental)})()},[]);const u=()=>{i(!a),w.ref(`users/${y.currentUser.uid}/settings`).update({experimental:!a})},d=()=>{const o=r.current;o&&(o.style.height="auto",o.style.height=`${o.scrollHeight}px`)},m=o=>{l(o.target.value),d()};return e.jsxs("div",{className:"container",children:[e.jsx("h2",{children:"Experimental Settings"}),a&&e.jsxs("div",{className:"list",children:[e.jsx("span",{children:"Chats Management"}),e.jsx("p",{children:"Manage all the chats you own"}),e.jsxs("div",{className:`checkbox checkbox-wide${c?" active":""}`,onClick:()=>B(h),children:[e.jsx(f,{icon:c?k:O}),c?"Deleted successfully":"Delete all chats"]})]}),a&&e.jsxs("div",{className:"list",children:[e.jsx("span",{children:"AI Assistant"}),e.jsx("p",{children:"Set the rules for your own AI assistant"}),e.jsxs("div",{className:"rules",children:[e.jsx("textarea",{ref:r,value:t,onChange:m,maxLength:300,type:"text",placeholder:"Your instructions..."}),e.jsx("span",{children:300-t.length})]}),e.jsx("button",{onClick:()=>W(t),children:"SAVE RULES"})]}),e.jsxs("div",{className:"list",children:[e.jsx("span",{children:"Experimental Beta Features"}),e.jsx("p",{children:"Allow experimental changes that will appear in the next updates, may be unstable (run at your own risk)"}),e.jsx("div",{className:`checkbox ${a&&"active"}`,onClick:()=>u(),children:e.jsx(f,{icon:a?k:F})})]})]})}function ee(){const[a,i]=n.useState([]);return n.useEffect(()=>{(async()=>{i(await U())})()},[]),e.jsxs("div",{className:"container",children:[e.jsx("h2",{children:"Plugins List"}),e.jsxs("div",{className:"list",children:[e.jsx("span",{children:"Plugins - Temporarily disabled"}),e.jsx("p",{children:"Install verified additional website plugins to improve the Ally website experience"})]})]})}function re(){var o,p;const a=I(),i=D(),[c,h]=n.useState(((o=a.state)==null?void 0:o.category)||"User settings"),[r,t]=n.useState(!1),[l,u]=n.useState(v[0]);n.useEffect(()=>{(async()=>{const j=await V();u(G(j))})()},[]),n.useEffect(()=>{i("/settings",{replace:!0,state:null})},[i]),n.useEffect(()=>{(async()=>{const j=await z();t(j)})()},[]);const m=[{title:"Output settings",component:e.jsx(Q,{})},{title:"User settings",component:e.jsx(Y,{isPremium:r})},{title:"Experimental settings",component:e.jsx(Z,{}),display:r},{title:"Plugins",component:e.jsx(ee,{}),display:r}].filter(x=>!("display"in x)||x.display);return e.jsxs(e.Fragment,{children:[e.jsx($,{}),e.jsxs("section",{className:"settings",style:{"--theme-color":l.color},children:[e.jsx(q,{tabs:m,selectedTab:c,setSelectedTab:h}),(p=m.find(x=>x.title===c))==null?void 0:p.component]})]})}export{re as default};
