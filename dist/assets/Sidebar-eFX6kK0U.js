import{l as w,j as e,F as f,L as y,d as p,c as g,r as h}from"./index-BFltlDJr.js";import{N as b,O as N,P as S,g as A,Q as j,R as L,S as $,k,T as M,U,V as I}from"./index-BtAHqjqB.js";const B=[{name:"Ally-2",description:"Advanced language model, suitable for everyday use",icon:b,symbole:"a",defaultHistory:"Remember that: Your name is AllyAI and you are an artificial intelligence created and trained by the person at CodeAdiksuu. You help with many tasks, generate text, and can analyze and respond to photos.",dailyLimit:50},{name:"Ally-Lie",description:"Reworked Ally-2 model misleading in answers",icon:N,symbole:"b",defaultHistory:"Lie and mislead by providing false information in every subsequent message, regardless of the question asked, giving ridiculous and incorrect answers in response, even if they are untrue",dailyLimit:50},{name:"Ally-Imagine",description:"A model that allows you to replace text with a photo",icon:S,symbole:"c",defaultHistory:"",dailyLimit:5},{name:"Ally-Custom",description:"Create and configure your own AI assistant based on your preferences",icon:A,symbole:"x",defaultHistory:"",dailyLimit:20,experimental:!0}],_="/assets/logo-event-DPpB1xXS.png",E="/assets/logo-event-spring-tQPeRB3Y.png",v=[{name:"default",color:"#1678ff",logo:w,border:"22, 120, 255, 0.3"},{name:"women's day",color:"#cb6ce6",logo:_,border:"225, 19, 225, 0.3",description:["Event! Women's day ðŸŒ¹","Unlock a new theme until 2025/03/10"],during:!1,ends:"1741561200000"},{name:"spring",color:"#53db42",logo:E,border:"19, 225, 36, 0.3",description:["Event! Spring ðŸŒ¿","Unlock a new theme until 2025/03/22"],during:!1,ends:"1742598000000"}],T=t=>v.find(n=>n.name===t);function D({searching:t,setSearching:n,setActivate:c}){return e.jsxs("div",{className:"searchbar",children:[e.jsx("input",{onClick:()=>c(!0),type:"text",placeholder:"Search for chats...",value:t,onChange:s=>n(s.target.value)}),e.jsx("button",{"aria-label":"search",children:e.jsx(f,{icon:j})})]})}function H({setActivate:t}){const n=[{text:"Home",icon:L,path:"/"},{text:"Models",icon:$,path:"/models"},{text:"Settings",icon:k,path:"/settings"},{text:"Chats",icon:M,path:"/chats"}];function c({button:s}){return s.text!=="Chats"?e.jsx("li",{children:e.jsxs(y,{className:s!=null&&s.disabled?"disabled":"",to:s.path,children:[e.jsx(f,{icon:s.icon})," ",e.jsx("p",{children:s.text})]})}):e.jsx("li",{className:"",children:e.jsxs("a",{onClick:()=>t(!0),children:[e.jsx(f,{icon:s.icon})," ",e.jsx("p",{children:s.text})]})})}return e.jsx("ul",{className:"others",children:n.map((s,o)=>e.jsx(c,{button:s},o))})}function F(){return e.jsx("div",{className:"bottom",children:e.jsxs(y,{to:"/chats",className:"createChat",children:[e.jsx(f,{icon:U})," Create new chat"]})})}function O(t,n){(async()=>{const s=[];for(const o of B){const r=o.name,i=await p.ref(`chats/${g.currentUser.uid}/${r.toUpperCase()}`).once("value");i.exists()&&i.forEach(d=>{const m=d.key,u=`chats/${g.currentUser.uid}/${r.toUpperCase()}/${m}/`;p.ref(`${u}/message_000000`).once("value").then(a=>{const l=a.val();if(!l)return;const x={path:m,model:r,firstMessage:l.message.trim().length>=25?`${l.message.slice(0,25).trim()}...`:`${l.message.trim()}`};s.push(x),n([...s])})})}})()}function P(t){const n=new Date,c=new Date(parseInt(t)),s=Math.floor((n-c)/1e3);if(isNaN(s))return"Invalid Date";if(s<60)return`${s}s ago`;const o=Math.floor(s/60);if(o<60)return`${o}m ago`;const r=Math.floor(o/60);if(r<24)return`${r}h ago`;const i=Math.floor(r/24);if(i<30)return`${i}d ago`;const d=Math.floor(i/30);return d<12?`${d}mo ago`:`${Math.floor(d/12)}y ago`}function R({searching:t,setSearching:n,chatsList:c,setActivate:s}){const[o,r]=h.useState(""),i=()=>{s(!1)},d=a=>{i(),window.location=`/chat/${a.path}`};function m({chat:a}){const l=P(a.path.slice(1));return e.jsx("div",{className:"chat",onClick:()=>d(a),children:e.jsxs("p",{children:[a.firstMessage," ",e.jsx("span",{children:l})]})})}const u=c.filter(a=>a.firstMessage.toLowerCase().includes(t.trim().toLowerCase())&&a.model.toLowerCase().includes(o.trim().toLowerCase())).sort((a,l)=>{const x=parseInt(a.path.slice(1)),C=parseInt(l.path.slice(1));return x-C});return e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:()=>i(),className:"blurred-bg"}),e.jsxs("div",{className:"floating_chats",children:[e.jsxs("div",{className:"top",children:[e.jsxs("div",{className:"leftside",children:[e.jsx("span",{children:e.jsx(f,{icon:j})}),e.jsx("input",{type:"text",value:t,placeholder:"Search for chats...",onChange:a=>n(a.target.value)})]}),e.jsxs("div",{className:"rightside",children:[e.jsx("span",{children:e.jsx(f,{icon:I})}),e.jsx("input",{type:"text",value:o,placeholder:"Filter by model",onChange:a=>r(a.target.value)})]})]}),u.length>0?e.jsx("div",{className:"list",children:u.reverse().map((a,l)=>e.jsx(m,{chat:a},l))}):e.jsx("div",{className:"bottom",children:e.jsx("div",{className:"text",children:e.jsx("p",{children:"Oops, we couldn't find what you're looking for now"})})})]})]})}const Y=async()=>await p.ref(`users/${g.currentUser.uid}/theme/`).once("value").then(t=>t.val()&&t.val().theme||"default"),G=async t=>{await p.ref(`users/${g.currentUser.uid}/theme/`).update({theme:t}),window.location.reload()};function Q(){const[t,n]=h.useState([]),[c,s]=h.useState(""),[o,r]=h.useState(!1),[i,d]=h.useState(v[0]);return h.useEffect(()=>{(async()=>{const u=await Y();d(T(u))})()},[]),h.useEffect(()=>{n([]),O(t,n)},[o]),e.jsxs("div",{className:"sidebar",style:{"--theme-color":i.color},children:[e.jsx("div",{className:"top",children:e.jsxs("div",{children:[e.jsx("img",{src:i.logo,alt:"logo of app",loading:"lazy"}),e.jsx("h1",{children:"AllyAI"})]})}),e.jsx(D,{searching:c,setSearching:s,setActivate:r}),o?e.jsx(R,{searching:c,setSearching:s,chatsList:t,setActivate:r}):null,e.jsx(H,{setActivate:r}),e.jsx(F,{theme:i})]})}export{Q as S,Y as _,T as a,G as b,B as m,v as t};
