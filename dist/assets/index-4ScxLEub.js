function px(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var G_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function J0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jv={exports:{}},dh={},zv={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kl=Symbol.for("react.element"),mx=Symbol.for("react.portal"),gx=Symbol.for("react.fragment"),_x=Symbol.for("react.strict_mode"),Ex=Symbol.for("react.profiler"),yx=Symbol.for("react.provider"),Tx=Symbol.for("react.context"),vx=Symbol.for("react.forward_ref"),bx=Symbol.for("react.suspense"),Cx=Symbol.for("react.memo"),wx=Symbol.for("react.lazy"),q_=Symbol.iterator;function Ix(e){return e===null||typeof e!="object"?null:(e=q_&&e[q_]||e["@@iterator"],typeof e=="function"?e:null)}var Wv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vv=Object.assign,$v={};function lo(e,t,n){this.props=e,this.context=t,this.refs=$v,this.updater=n||Wv}lo.prototype.isReactComponent={};lo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};lo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Yv(){}Yv.prototype=lo.prototype;function Z0(e,t,n){this.props=e,this.context=t,this.refs=$v,this.updater=n||Wv}var eg=Z0.prototype=new Yv;eg.constructor=Z0;Vv(eg,lo.prototype);eg.isPureReactComponent=!0;var K_=Array.isArray,Gv=Object.prototype.hasOwnProperty,tg={current:null},qv={key:!0,ref:!0,__self:!0,__source:!0};function Kv(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)Gv.call(t,r)&&!qv.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var u=Array(o),l=0;l<o;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:kl,type:e,key:s,ref:a,props:i,_owner:tg.current}}function Sx(e,t){return{$$typeof:kl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ng(e){return typeof e=="object"&&e!==null&&e.$$typeof===kl}function Ax(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Q_=/\/+/g;function wf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ax(""+e.key):t.toString(36)}function Fc(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case kl:case mx:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+wf(a,0):r,K_(i)?(n="",e!=null&&(n=e.replace(Q_,"$&/")+"/"),Fc(i,t,n,"",function(l){return l})):i!=null&&(ng(i)&&(i=Sx(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Q_,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",K_(e))for(var o=0;o<e.length;o++){s=e[o];var u=r+wf(s,o);a+=Fc(s,t,n,u,i)}else if(u=Ix(e),typeof u=="function")for(e=u.call(e),o=0;!(s=e.next()).done;)s=s.value,u=r+wf(s,o++),a+=Fc(s,t,n,u,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function dc(e,t,n){if(e==null)return e;var r=[],i=0;return Fc(e,r,"","",function(s){return t.call(n,s,i++)}),r}function kx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var jt={current:null},Uc={transition:null},xx={ReactCurrentDispatcher:jt,ReactCurrentBatchConfig:Uc,ReactCurrentOwner:tg};function Qv(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:dc,forEach:function(e,t,n){dc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return dc(e,function(){t++}),t},toArray:function(e){return dc(e,function(t){return t})||[]},only:function(e){if(!ng(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fe.Component=lo;fe.Fragment=gx;fe.Profiler=Ex;fe.PureComponent=Z0;fe.StrictMode=_x;fe.Suspense=bx;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xx;fe.act=Qv;fe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Vv({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=tg.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(u in t)Gv.call(t,u)&&!qv.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&o!==void 0?o[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){o=Array(u);for(var l=0;l<u;l++)o[l]=arguments[l+2];r.children=o}return{$$typeof:kl,type:e.type,key:i,ref:s,props:r,_owner:a}};fe.createContext=function(e){return e={$$typeof:Tx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:yx,_context:e},e.Consumer=e};fe.createElement=Kv;fe.createFactory=function(e){var t=Kv.bind(null,e);return t.type=e,t};fe.createRef=function(){return{current:null}};fe.forwardRef=function(e){return{$$typeof:vx,render:e}};fe.isValidElement=ng;fe.lazy=function(e){return{$$typeof:wx,_payload:{_status:-1,_result:e},_init:kx}};fe.memo=function(e,t){return{$$typeof:Cx,type:e,compare:t===void 0?null:t}};fe.startTransition=function(e){var t=Uc.transition;Uc.transition={};try{e()}finally{Uc.transition=t}};fe.unstable_act=Qv;fe.useCallback=function(e,t){return jt.current.useCallback(e,t)};fe.useContext=function(e){return jt.current.useContext(e)};fe.useDebugValue=function(){};fe.useDeferredValue=function(e){return jt.current.useDeferredValue(e)};fe.useEffect=function(e,t){return jt.current.useEffect(e,t)};fe.useId=function(){return jt.current.useId()};fe.useImperativeHandle=function(e,t,n){return jt.current.useImperativeHandle(e,t,n)};fe.useInsertionEffect=function(e,t){return jt.current.useInsertionEffect(e,t)};fe.useLayoutEffect=function(e,t){return jt.current.useLayoutEffect(e,t)};fe.useMemo=function(e,t){return jt.current.useMemo(e,t)};fe.useReducer=function(e,t,n){return jt.current.useReducer(e,t,n)};fe.useRef=function(e){return jt.current.useRef(e)};fe.useState=function(e){return jt.current.useState(e)};fe.useSyncExternalStore=function(e,t,n){return jt.current.useSyncExternalStore(e,t,n)};fe.useTransition=function(){return jt.current.useTransition()};fe.version="18.3.1";zv.exports=fe;var R=zv.exports;const rg=J0(R),Nx=px({__proto__:null,default:rg},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rx=R,Px=Symbol.for("react.element"),Ox=Symbol.for("react.fragment"),Lx=Object.prototype.hasOwnProperty,Dx=Rx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Mx={key:!0,ref:!0,__self:!0,__source:!0};function Xv(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Lx.call(t,r)&&!Mx.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Px,type:e,key:s,ref:a,props:i,_owner:Dx.current}}dh.Fragment=Ox;dh.jsx=Xv;dh.jsxs=Xv;jv.exports=dh;var m=jv.exports,Jv={exports:{}},Tn={},Zv={exports:{}},eb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,J){var C=$.length;$.push(J);e:for(;0<C;){var Ee=C-1>>>1,Ie=$[Ee];if(0<i(Ie,J))$[Ee]=J,$[C]=Ie,C=Ee;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var J=$[0],C=$.pop();if(C!==J){$[0]=C;e:for(var Ee=0,Ie=$.length,S=Ie>>>1;Ee<S;){var ut=2*(Ee+1)-1,Hn=$[ut],De=ut+1,rr=$[De];if(0>i(Hn,C))De<Ie&&0>i(rr,Hn)?($[Ee]=rr,$[De]=C,Ee=De):($[Ee]=Hn,$[ut]=C,Ee=ut);else if(De<Ie&&0>i(rr,C))$[Ee]=rr,$[De]=C,Ee=De;else break e}}return J}function i($,J){var C=$.sortIndex-J.sortIndex;return C!==0?C:$.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var u=[],l=[],d=1,c=null,f=3,p=!1,g=!1,T=!1,w=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y($){for(var J=n(l);J!==null;){if(J.callback===null)r(l);else if(J.startTime<=$)r(l),J.sortIndex=J.expirationTime,t(u,J);else break;J=n(l)}}function k($){if(T=!1,y($),!g)if(n(u)!==null)g=!0,nt(L);else{var J=n(l);J!==null&&Je(k,J.startTime-$)}}function L($,J){g=!1,T&&(T=!1,_(B),B=-1),p=!0;var C=f;try{for(y(J),c=n(u);c!==null&&(!(c.expirationTime>J)||$&&!Y());){var Ee=c.callback;if(typeof Ee=="function"){c.callback=null,f=c.priorityLevel;var Ie=Ee(c.expirationTime<=J);J=e.unstable_now(),typeof Ie=="function"?c.callback=Ie:c===n(u)&&r(u),y(J)}else r(u);c=n(u)}if(c!==null)var S=!0;else{var ut=n(l);ut!==null&&Je(k,ut.startTime-J),S=!1}return S}finally{c=null,f=C,p=!1}}var A=!1,P=null,B=-1,Q=5,x=-1;function Y(){return!(e.unstable_now()-x<Q)}function K(){if(P!==null){var $=e.unstable_now();x=$;var J=!0;try{J=P(!0,$)}finally{J?_e():(A=!1,P=null)}}else A=!1}var _e;if(typeof E=="function")_e=function(){E(K)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,pe=xe.port2;xe.port1.onmessage=K,_e=function(){pe.postMessage(null)}}else _e=function(){w(K,0)};function nt($){P=$,A||(A=!0,_e())}function Je($,J){B=w(function(){$(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,nt(L))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function($){switch(f){case 1:case 2:case 3:var J=3;break;default:J=f}var C=f;f=J;try{return $()}finally{f=C}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,J){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var C=f;f=$;try{return J()}finally{f=C}},e.unstable_scheduleCallback=function($,J,C){var Ee=e.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?Ee+C:Ee):C=Ee,$){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=C+Ie,$={id:d++,callback:J,priorityLevel:$,startTime:C,expirationTime:Ie,sortIndex:-1},C>Ee?($.sortIndex=C,t(l,$),n(u)===null&&$===n(l)&&(T?(_(B),B=-1):T=!0,Je(k,C-Ee))):($.sortIndex=Ie,t(u,$),g||p||(g=!0,nt(L))),$},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function($){var J=f;return function(){var C=f;f=J;try{return $.apply(this,arguments)}finally{f=C}}}})(eb);Zv.exports=eb;var Fx=Zv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ux=R,_n=Fx;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tb=new Set,Uu={};function zs(e,t){ja(e,t),ja(e+"Capture",t)}function ja(e,t){for(Uu[e]=t,e=0;e<t.length;e++)tb.add(t[e])}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jp=Object.prototype.hasOwnProperty,Bx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,X_={},J_={};function Hx(e){return jp.call(J_,e)?!0:jp.call(X_,e)?!1:Bx.test(e)?J_[e]=!0:(X_[e]=!0,!1)}function jx(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function zx(e,t,n,r){if(t===null||typeof t>"u"||jx(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function zt(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var At={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){At[e]=new zt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];At[t]=new zt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){At[e]=new zt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){At[e]=new zt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){At[e]=new zt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){At[e]=new zt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){At[e]=new zt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){At[e]=new zt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){At[e]=new zt(e,5,!1,e.toLowerCase(),null,!1,!1)});var ig=/[\-:]([a-z])/g;function sg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ig,sg);At[t]=new zt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ig,sg);At[t]=new zt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ig,sg);At[t]=new zt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){At[e]=new zt(e,1,!1,e.toLowerCase(),null,!1,!1)});At.xlinkHref=new zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){At[e]=new zt(e,1,!1,e.toLowerCase(),null,!0,!0)});function ag(e,t,n,r){var i=At.hasOwnProperty(t)?At[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(zx(t,n,i,r)&&(n=null),r||i===null?Hx(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Qr=Ux.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hc=Symbol.for("react.element"),ca=Symbol.for("react.portal"),da=Symbol.for("react.fragment"),og=Symbol.for("react.strict_mode"),zp=Symbol.for("react.profiler"),nb=Symbol.for("react.provider"),rb=Symbol.for("react.context"),ug=Symbol.for("react.forward_ref"),Wp=Symbol.for("react.suspense"),Vp=Symbol.for("react.suspense_list"),lg=Symbol.for("react.memo"),ui=Symbol.for("react.lazy"),ib=Symbol.for("react.offscreen"),Z_=Symbol.iterator;function Oo(e){return e===null||typeof e!="object"?null:(e=Z_&&e[Z_]||e["@@iterator"],typeof e=="function"?e:null)}var Ye=Object.assign,If;function Zo(e){if(If===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);If=t&&t[1]||""}return`
`+If+e}var Sf=!1;function Af(e,t){if(!e||Sf)return"";Sf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var u=`
`+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=o);break}}}finally{Sf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Zo(e):""}function Wx(e){switch(e.tag){case 5:return Zo(e.type);case 16:return Zo("Lazy");case 13:return Zo("Suspense");case 19:return Zo("SuspenseList");case 0:case 2:case 15:return e=Af(e.type,!1),e;case 11:return e=Af(e.type.render,!1),e;case 1:return e=Af(e.type,!0),e;default:return""}}function $p(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case da:return"Fragment";case ca:return"Portal";case zp:return"Profiler";case og:return"StrictMode";case Wp:return"Suspense";case Vp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rb:return(e.displayName||"Context")+".Consumer";case nb:return(e._context.displayName||"Context")+".Provider";case ug:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lg:return t=e.displayName||null,t!==null?t:$p(e.type)||"Memo";case ui:t=e._payload,e=e._init;try{return $p(e(t))}catch{}}return null}function Vx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $p(t);case 8:return t===og?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Mi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $x(e){var t=sb(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fc(e){e._valueTracker||(e._valueTracker=$x(e))}function ab(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=sb(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ad(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Yp(e,t){var n=t.checked;return Ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function eE(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Mi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ob(e,t){t=t.checked,t!=null&&ag(e,"checked",t,!1)}function Gp(e,t){ob(e,t);var n=Mi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?qp(e,t.type,n):t.hasOwnProperty("defaultValue")&&qp(e,t.type,Mi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function tE(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function qp(e,t,n){(t!=="number"||ad(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var eu=Array.isArray;function Sa(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Mi(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Kp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return Ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function nE(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(H(92));if(eu(n)){if(1<n.length)throw Error(H(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Mi(n)}}function ub(e,t){var n=Mi(t.value),r=Mi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function rE(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function lb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?lb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var pc,cb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(pc=pc||document.createElement("div"),pc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Bu(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var lu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yx=["Webkit","ms","Moz","O"];Object.keys(lu).forEach(function(e){Yx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),lu[t]=lu[e]})});function db(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||lu.hasOwnProperty(e)&&lu[e]?(""+t).trim():t+"px"}function hb(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=db(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Gx=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xp(e,t){if(t){if(Gx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function Jp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zp=null;function cg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var em=null,Aa=null,ka=null;function iE(e){if(e=Rl(e)){if(typeof em!="function")throw Error(H(280));var t=e.stateNode;t&&(t=gh(t),em(e.stateNode,e.type,t))}}function fb(e){Aa?ka?ka.push(e):ka=[e]:Aa=e}function pb(){if(Aa){var e=Aa,t=ka;if(ka=Aa=null,iE(e),t)for(e=0;e<t.length;e++)iE(t[e])}}function mb(e,t){return e(t)}function gb(){}var kf=!1;function _b(e,t,n){if(kf)return e(t,n);kf=!0;try{return mb(e,t,n)}finally{kf=!1,(Aa!==null||ka!==null)&&(gb(),pb())}}function Hu(e,t){var n=e.stateNode;if(n===null)return null;var r=gh(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(H(231,t,typeof n));return n}var tm=!1;if(jr)try{var Lo={};Object.defineProperty(Lo,"passive",{get:function(){tm=!0}}),window.addEventListener("test",Lo,Lo),window.removeEventListener("test",Lo,Lo)}catch{tm=!1}function qx(e,t,n,r,i,s,a,o,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(d){this.onError(d)}}var cu=!1,od=null,ud=!1,nm=null,Kx={onError:function(e){cu=!0,od=e}};function Qx(e,t,n,r,i,s,a,o,u){cu=!1,od=null,qx.apply(Kx,arguments)}function Xx(e,t,n,r,i,s,a,o,u){if(Qx.apply(this,arguments),cu){if(cu){var l=od;cu=!1,od=null}else throw Error(H(198));ud||(ud=!0,nm=l)}}function Ws(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Eb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sE(e){if(Ws(e)!==e)throw Error(H(188))}function Jx(e){var t=e.alternate;if(!t){if(t=Ws(e),t===null)throw Error(H(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return sE(i),e;if(s===r)return sE(i),t;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?e:t}function yb(e){return e=Jx(e),e!==null?Tb(e):null}function Tb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Tb(e);if(t!==null)return t;e=e.sibling}return null}var vb=_n.unstable_scheduleCallback,aE=_n.unstable_cancelCallback,Zx=_n.unstable_shouldYield,eN=_n.unstable_requestPaint,Ze=_n.unstable_now,tN=_n.unstable_getCurrentPriorityLevel,dg=_n.unstable_ImmediatePriority,bb=_n.unstable_UserBlockingPriority,ld=_n.unstable_NormalPriority,nN=_n.unstable_LowPriority,Cb=_n.unstable_IdlePriority,hh=null,_r=null;function rN(e){if(_r&&typeof _r.onCommitFiberRoot=="function")try{_r.onCommitFiberRoot(hh,e,void 0,(e.current.flags&128)===128)}catch{}}var qn=Math.clz32?Math.clz32:aN,iN=Math.log,sN=Math.LN2;function aN(e){return e>>>=0,e===0?32:31-(iN(e)/sN|0)|0}var mc=64,gc=4194304;function tu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=tu(o):(s&=a,s!==0&&(r=tu(s)))}else a=n&~i,a!==0?r=tu(a):s!==0&&(r=tu(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-qn(t),i=1<<n,r|=e[n],t&=~i;return r}function oN(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uN(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-qn(s),o=1<<a,u=i[a];u===-1?(!(o&n)||o&r)&&(i[a]=oN(o,t)):u<=t&&(e.expiredLanes|=o),s&=~o}}function rm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wb(){var e=mc;return mc<<=1,!(mc&4194240)&&(mc=64),e}function xf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-qn(t),e[t]=n}function lN(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-qn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function hg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-qn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var we=0;function Ib(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Sb,fg,Ab,kb,xb,im=!1,_c=[],vi=null,bi=null,Ci=null,ju=new Map,zu=new Map,di=[],cN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oE(e,t){switch(e){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":Ci=null;break;case"pointerover":case"pointerout":ju.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zu.delete(t.pointerId)}}function Do(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Rl(t),t!==null&&fg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function dN(e,t,n,r,i){switch(t){case"focusin":return vi=Do(vi,e,t,n,r,i),!0;case"dragenter":return bi=Do(bi,e,t,n,r,i),!0;case"mouseover":return Ci=Do(Ci,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return ju.set(s,Do(ju.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,zu.set(s,Do(zu.get(s)||null,e,t,n,r,i)),!0}return!1}function Nb(e){var t=hs(e.target);if(t!==null){var n=Ws(t);if(n!==null){if(t=n.tag,t===13){if(t=Eb(n),t!==null){e.blockedOn=t,xb(e.priority,function(){Ab(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=sm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Zp=r,n.target.dispatchEvent(r),Zp=null}else return t=Rl(n),t!==null&&fg(t),e.blockedOn=n,!1;t.shift()}return!0}function uE(e,t,n){Bc(e)&&n.delete(t)}function hN(){im=!1,vi!==null&&Bc(vi)&&(vi=null),bi!==null&&Bc(bi)&&(bi=null),Ci!==null&&Bc(Ci)&&(Ci=null),ju.forEach(uE),zu.forEach(uE)}function Mo(e,t){e.blockedOn===t&&(e.blockedOn=null,im||(im=!0,_n.unstable_scheduleCallback(_n.unstable_NormalPriority,hN)))}function Wu(e){function t(i){return Mo(i,e)}if(0<_c.length){Mo(_c[0],e);for(var n=1;n<_c.length;n++){var r=_c[n];r.blockedOn===e&&(r.blockedOn=null)}}for(vi!==null&&Mo(vi,e),bi!==null&&Mo(bi,e),Ci!==null&&Mo(Ci,e),ju.forEach(t),zu.forEach(t),n=0;n<di.length;n++)r=di[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<di.length&&(n=di[0],n.blockedOn===null);)Nb(n),n.blockedOn===null&&di.shift()}var xa=Qr.ReactCurrentBatchConfig,dd=!0;function fN(e,t,n,r){var i=we,s=xa.transition;xa.transition=null;try{we=1,pg(e,t,n,r)}finally{we=i,xa.transition=s}}function pN(e,t,n,r){var i=we,s=xa.transition;xa.transition=null;try{we=4,pg(e,t,n,r)}finally{we=i,xa.transition=s}}function pg(e,t,n,r){if(dd){var i=sm(e,t,n,r);if(i===null)Bf(e,t,r,hd,n),oE(e,r);else if(dN(i,e,t,n,r))r.stopPropagation();else if(oE(e,r),t&4&&-1<cN.indexOf(e)){for(;i!==null;){var s=Rl(i);if(s!==null&&Sb(s),s=sm(e,t,n,r),s===null&&Bf(e,t,r,hd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Bf(e,t,r,null,n)}}var hd=null;function sm(e,t,n,r){if(hd=null,e=cg(r),e=hs(e),e!==null)if(t=Ws(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Eb(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hd=e,null}function Rb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tN()){case dg:return 1;case bb:return 4;case ld:case nN:return 16;case Cb:return 536870912;default:return 16}default:return 16}}var fi=null,mg=null,Hc=null;function Pb(){if(Hc)return Hc;var e,t=mg,n=t.length,r,i="value"in fi?fi.value:fi.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return Hc=i.slice(e,1<r?1-r:void 0)}function jc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ec(){return!0}function lE(){return!1}function vn(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ec:lE,this.isPropagationStopped=lE,this}return Ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ec)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ec)},persist:function(){},isPersistent:Ec}),t}var co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gg=vn(co),Nl=Ye({},co,{view:0,detail:0}),mN=vn(Nl),Nf,Rf,Fo,fh=Ye({},Nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_g,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fo&&(Fo&&e.type==="mousemove"?(Nf=e.screenX-Fo.screenX,Rf=e.screenY-Fo.screenY):Rf=Nf=0,Fo=e),Nf)},movementY:function(e){return"movementY"in e?e.movementY:Rf}}),cE=vn(fh),gN=Ye({},fh,{dataTransfer:0}),_N=vn(gN),EN=Ye({},Nl,{relatedTarget:0}),Pf=vn(EN),yN=Ye({},co,{animationName:0,elapsedTime:0,pseudoElement:0}),TN=vn(yN),vN=Ye({},co,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bN=vn(vN),CN=Ye({},co,{data:0}),dE=vn(CN),wN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=SN[e])?!!t[e]:!1}function _g(){return AN}var kN=Ye({},Nl,{key:function(e){if(e.key){var t=wN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=jc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?IN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_g,charCode:function(e){return e.type==="keypress"?jc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xN=vn(kN),NN=Ye({},fh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hE=vn(NN),RN=Ye({},Nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_g}),PN=vn(RN),ON=Ye({},co,{propertyName:0,elapsedTime:0,pseudoElement:0}),LN=vn(ON),DN=Ye({},fh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),MN=vn(DN),FN=[9,13,27,32],Eg=jr&&"CompositionEvent"in window,du=null;jr&&"documentMode"in document&&(du=document.documentMode);var UN=jr&&"TextEvent"in window&&!du,Ob=jr&&(!Eg||du&&8<du&&11>=du),fE=" ",pE=!1;function Lb(e,t){switch(e){case"keyup":return FN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Db(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ha=!1;function BN(e,t){switch(e){case"compositionend":return Db(t);case"keypress":return t.which!==32?null:(pE=!0,fE);case"textInput":return e=t.data,e===fE&&pE?null:e;default:return null}}function HN(e,t){if(ha)return e==="compositionend"||!Eg&&Lb(e,t)?(e=Pb(),Hc=mg=fi=null,ha=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ob&&t.locale!=="ko"?null:t.data;default:return null}}var jN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jN[e.type]:t==="textarea"}function Mb(e,t,n,r){fb(r),t=fd(t,"onChange"),0<t.length&&(n=new gg("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var hu=null,Vu=null;function zN(e){Gb(e,0)}function ph(e){var t=ma(e);if(ab(t))return e}function WN(e,t){if(e==="change")return t}var Fb=!1;if(jr){var Of;if(jr){var Lf="oninput"in document;if(!Lf){var gE=document.createElement("div");gE.setAttribute("oninput","return;"),Lf=typeof gE.oninput=="function"}Of=Lf}else Of=!1;Fb=Of&&(!document.documentMode||9<document.documentMode)}function _E(){hu&&(hu.detachEvent("onpropertychange",Ub),Vu=hu=null)}function Ub(e){if(e.propertyName==="value"&&ph(Vu)){var t=[];Mb(t,Vu,e,cg(e)),_b(zN,t)}}function VN(e,t,n){e==="focusin"?(_E(),hu=t,Vu=n,hu.attachEvent("onpropertychange",Ub)):e==="focusout"&&_E()}function $N(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ph(Vu)}function YN(e,t){if(e==="click")return ph(t)}function GN(e,t){if(e==="input"||e==="change")return ph(t)}function qN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zn=typeof Object.is=="function"?Object.is:qN;function $u(e,t){if(Zn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!jp.call(t,i)||!Zn(e[i],t[i]))return!1}return!0}function EE(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yE(e,t){var n=EE(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=EE(n)}}function Bb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Bb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hb(){for(var e=window,t=ad();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ad(e.document)}return t}function yg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function KN(e){var t=Hb(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Bb(n.ownerDocument.documentElement,n)){if(r!==null&&yg(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=yE(n,s);var a=yE(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var QN=jr&&"documentMode"in document&&11>=document.documentMode,fa=null,am=null,fu=null,om=!1;function TE(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;om||fa==null||fa!==ad(r)||(r=fa,"selectionStart"in r&&yg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fu&&$u(fu,r)||(fu=r,r=fd(am,"onSelect"),0<r.length&&(t=new gg("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=fa)))}function yc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pa={animationend:yc("Animation","AnimationEnd"),animationiteration:yc("Animation","AnimationIteration"),animationstart:yc("Animation","AnimationStart"),transitionend:yc("Transition","TransitionEnd")},Df={},jb={};jr&&(jb=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function mh(e){if(Df[e])return Df[e];if(!pa[e])return e;var t=pa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in jb)return Df[e]=t[n];return e}var zb=mh("animationend"),Wb=mh("animationiteration"),Vb=mh("animationstart"),$b=mh("transitionend"),Yb=new Map,vE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ki(e,t){Yb.set(e,t),zs(t,[e])}for(var Mf=0;Mf<vE.length;Mf++){var Ff=vE[Mf],XN=Ff.toLowerCase(),JN=Ff[0].toUpperCase()+Ff.slice(1);Ki(XN,"on"+JN)}Ki(zb,"onAnimationEnd");Ki(Wb,"onAnimationIteration");Ki(Vb,"onAnimationStart");Ki("dblclick","onDoubleClick");Ki("focusin","onFocus");Ki("focusout","onBlur");Ki($b,"onTransitionEnd");ja("onMouseEnter",["mouseout","mouseover"]);ja("onMouseLeave",["mouseout","mouseover"]);ja("onPointerEnter",["pointerout","pointerover"]);ja("onPointerLeave",["pointerout","pointerover"]);zs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zs("onBeforeInput",["compositionend","keypress","textInput","paste"]);zs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZN=new Set("cancel close invalid load scroll toggle".split(" ").concat(nu));function bE(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Xx(r,t,void 0,e),e.currentTarget=null}function Gb(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],u=o.instance,l=o.currentTarget;if(o=o.listener,u!==s&&i.isPropagationStopped())break e;bE(i,o,l),s=u}else for(a=0;a<r.length;a++){if(o=r[a],u=o.instance,l=o.currentTarget,o=o.listener,u!==s&&i.isPropagationStopped())break e;bE(i,o,l),s=u}}}if(ud)throw e=nm,ud=!1,nm=null,e}function Me(e,t){var n=t[hm];n===void 0&&(n=t[hm]=new Set);var r=e+"__bubble";n.has(r)||(qb(t,e,2,!1),n.add(r))}function Uf(e,t,n){var r=0;t&&(r|=4),qb(n,e,r,t)}var Tc="_reactListening"+Math.random().toString(36).slice(2);function Yu(e){if(!e[Tc]){e[Tc]=!0,tb.forEach(function(n){n!=="selectionchange"&&(ZN.has(n)||Uf(n,!1,e),Uf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Tc]||(t[Tc]=!0,Uf("selectionchange",!1,t))}}function qb(e,t,n,r){switch(Rb(t)){case 1:var i=fN;break;case 4:i=pN;break;default:i=pg}n=i.bind(null,t,n,e),i=void 0,!tm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Bf(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;o!==null;){if(a=hs(o),a===null)return;if(u=a.tag,u===5||u===6){r=s=a;continue e}o=o.parentNode}}r=r.return}_b(function(){var l=s,d=cg(n),c=[];e:{var f=Yb.get(e);if(f!==void 0){var p=gg,g=e;switch(e){case"keypress":if(jc(n)===0)break e;case"keydown":case"keyup":p=xN;break;case"focusin":g="focus",p=Pf;break;case"focusout":g="blur",p=Pf;break;case"beforeblur":case"afterblur":p=Pf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=cE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=_N;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=PN;break;case zb:case Wb:case Vb:p=TN;break;case $b:p=LN;break;case"scroll":p=mN;break;case"wheel":p=MN;break;case"copy":case"cut":case"paste":p=bN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=hE}var T=(t&4)!==0,w=!T&&e==="scroll",_=T?f!==null?f+"Capture":null:f;T=[];for(var E=l,y;E!==null;){y=E;var k=y.stateNode;if(y.tag===5&&k!==null&&(y=k,_!==null&&(k=Hu(E,_),k!=null&&T.push(Gu(E,k,y)))),w)break;E=E.return}0<T.length&&(f=new p(f,g,null,n,d),c.push({event:f,listeners:T}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==Zp&&(g=n.relatedTarget||n.fromElement)&&(hs(g)||g[zr]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=l,g=g?hs(g):null,g!==null&&(w=Ws(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=l),p!==g)){if(T=cE,k="onMouseLeave",_="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(T=hE,k="onPointerLeave",_="onPointerEnter",E="pointer"),w=p==null?f:ma(p),y=g==null?f:ma(g),f=new T(k,E+"leave",p,n,d),f.target=w,f.relatedTarget=y,k=null,hs(d)===l&&(T=new T(_,E+"enter",g,n,d),T.target=y,T.relatedTarget=w,k=T),w=k,p&&g)t:{for(T=p,_=g,E=0,y=T;y;y=ia(y))E++;for(y=0,k=_;k;k=ia(k))y++;for(;0<E-y;)T=ia(T),E--;for(;0<y-E;)_=ia(_),y--;for(;E--;){if(T===_||_!==null&&T===_.alternate)break t;T=ia(T),_=ia(_)}T=null}else T=null;p!==null&&CE(c,f,p,T,!1),g!==null&&w!==null&&CE(c,w,g,T,!0)}}e:{if(f=l?ma(l):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var L=WN;else if(mE(f))if(Fb)L=GN;else{L=$N;var A=VN}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(L=YN);if(L&&(L=L(e,l))){Mb(c,L,n,d);break e}A&&A(e,f,l),e==="focusout"&&(A=f._wrapperState)&&A.controlled&&f.type==="number"&&qp(f,"number",f.value)}switch(A=l?ma(l):window,e){case"focusin":(mE(A)||A.contentEditable==="true")&&(fa=A,am=l,fu=null);break;case"focusout":fu=am=fa=null;break;case"mousedown":om=!0;break;case"contextmenu":case"mouseup":case"dragend":om=!1,TE(c,n,d);break;case"selectionchange":if(QN)break;case"keydown":case"keyup":TE(c,n,d)}var P;if(Eg)e:{switch(e){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else ha?Lb(e,n)&&(B="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(B="onCompositionStart");B&&(Ob&&n.locale!=="ko"&&(ha||B!=="onCompositionStart"?B==="onCompositionEnd"&&ha&&(P=Pb()):(fi=d,mg="value"in fi?fi.value:fi.textContent,ha=!0)),A=fd(l,B),0<A.length&&(B=new dE(B,e,null,n,d),c.push({event:B,listeners:A}),P?B.data=P:(P=Db(n),P!==null&&(B.data=P)))),(P=UN?BN(e,n):HN(e,n))&&(l=fd(l,"onBeforeInput"),0<l.length&&(d=new dE("onBeforeInput","beforeinput",null,n,d),c.push({event:d,listeners:l}),d.data=P))}Gb(c,t)})}function Gu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fd(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Hu(e,n),s!=null&&r.unshift(Gu(e,s,i)),s=Hu(e,t),s!=null&&r.push(Gu(e,s,i))),e=e.return}return r}function ia(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function CE(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var o=n,u=o.alternate,l=o.stateNode;if(u!==null&&u===r)break;o.tag===5&&l!==null&&(o=l,i?(u=Hu(n,s),u!=null&&a.unshift(Gu(n,u,o))):i||(u=Hu(n,s),u!=null&&a.push(Gu(n,u,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var e4=/\r\n?/g,t4=/\u0000|\uFFFD/g;function wE(e){return(typeof e=="string"?e:""+e).replace(e4,`
`).replace(t4,"")}function vc(e,t,n){if(t=wE(t),wE(e)!==t&&n)throw Error(H(425))}function pd(){}var um=null,lm=null;function cm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var dm=typeof setTimeout=="function"?setTimeout:void 0,n4=typeof clearTimeout=="function"?clearTimeout:void 0,IE=typeof Promise=="function"?Promise:void 0,r4=typeof queueMicrotask=="function"?queueMicrotask:typeof IE<"u"?function(e){return IE.resolve(null).then(e).catch(i4)}:dm;function i4(e){setTimeout(function(){throw e})}function Hf(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Wu(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Wu(t)}function wi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function SE(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ho=Math.random().toString(36).slice(2),lr="__reactFiber$"+ho,qu="__reactProps$"+ho,zr="__reactContainer$"+ho,hm="__reactEvents$"+ho,s4="__reactListeners$"+ho,a4="__reactHandles$"+ho;function hs(e){var t=e[lr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[zr]||n[lr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=SE(e);e!==null;){if(n=e[lr])return n;e=SE(e)}return t}e=n,n=e.parentNode}return null}function Rl(e){return e=e[lr]||e[zr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ma(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function gh(e){return e[qu]||null}var fm=[],ga=-1;function Qi(e){return{current:e}}function Fe(e){0>ga||(e.current=fm[ga],fm[ga]=null,ga--)}function Oe(e,t){ga++,fm[ga]=e.current,e.current=t}var Fi={},Lt=Qi(Fi),Xt=Qi(!1),Ss=Fi;function za(e,t){var n=e.type.contextTypes;if(!n)return Fi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Jt(e){return e=e.childContextTypes,e!=null}function md(){Fe(Xt),Fe(Lt)}function AE(e,t,n){if(Lt.current!==Fi)throw Error(H(168));Oe(Lt,t),Oe(Xt,n)}function Kb(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(H(108,Vx(e)||"Unknown",i));return Ye({},n,r)}function gd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fi,Ss=Lt.current,Oe(Lt,e),Oe(Xt,Xt.current),!0}function kE(e,t,n){var r=e.stateNode;if(!r)throw Error(H(169));n?(e=Kb(e,t,Ss),r.__reactInternalMemoizedMergedChildContext=e,Fe(Xt),Fe(Lt),Oe(Lt,e)):Fe(Xt),Oe(Xt,n)}var Nr=null,_h=!1,jf=!1;function Qb(e){Nr===null?Nr=[e]:Nr.push(e)}function o4(e){_h=!0,Qb(e)}function Xi(){if(!jf&&Nr!==null){jf=!0;var e=0,t=we;try{var n=Nr;for(we=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Nr=null,_h=!1}catch(i){throw Nr!==null&&(Nr=Nr.slice(e+1)),vb(dg,Xi),i}finally{we=t,jf=!1}}return null}var _a=[],Ea=0,_d=null,Ed=0,Cn=[],wn=0,As=null,Pr=1,Or="";function as(e,t){_a[Ea++]=Ed,_a[Ea++]=_d,_d=e,Ed=t}function Xb(e,t,n){Cn[wn++]=Pr,Cn[wn++]=Or,Cn[wn++]=As,As=e;var r=Pr;e=Or;var i=32-qn(r)-1;r&=~(1<<i),n+=1;var s=32-qn(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Pr=1<<32-qn(t)+i|n<<i|r,Or=s+e}else Pr=1<<s|n<<i|r,Or=e}function Tg(e){e.return!==null&&(as(e,1),Xb(e,1,0))}function vg(e){for(;e===_d;)_d=_a[--Ea],_a[Ea]=null,Ed=_a[--Ea],_a[Ea]=null;for(;e===As;)As=Cn[--wn],Cn[wn]=null,Or=Cn[--wn],Cn[wn]=null,Pr=Cn[--wn],Cn[wn]=null}var fn=null,dn=null,He=!1,Yn=null;function Jb(e,t){var n=kn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function xE(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,fn=e,dn=wi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,fn=e,dn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=As!==null?{id:Pr,overflow:Or}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=kn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,fn=e,dn=null,!0):!1;default:return!1}}function pm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function mm(e){if(He){var t=dn;if(t){var n=t;if(!xE(e,t)){if(pm(e))throw Error(H(418));t=wi(n.nextSibling);var r=fn;t&&xE(e,t)?Jb(r,n):(e.flags=e.flags&-4097|2,He=!1,fn=e)}}else{if(pm(e))throw Error(H(418));e.flags=e.flags&-4097|2,He=!1,fn=e}}}function NE(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;fn=e}function bc(e){if(e!==fn)return!1;if(!He)return NE(e),He=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!cm(e.type,e.memoizedProps)),t&&(t=dn)){if(pm(e))throw Zb(),Error(H(418));for(;t;)Jb(e,t),t=wi(t.nextSibling)}if(NE(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){dn=wi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}dn=null}}else dn=fn?wi(e.stateNode.nextSibling):null;return!0}function Zb(){for(var e=dn;e;)e=wi(e.nextSibling)}function Wa(){dn=fn=null,He=!1}function bg(e){Yn===null?Yn=[e]:Yn.push(e)}var u4=Qr.ReactCurrentBatchConfig;function Uo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,e))}return e}function Cc(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function RE(e){var t=e._init;return t(e._payload)}function eC(e){function t(_,E){if(e){var y=_.deletions;y===null?(_.deletions=[E],_.flags|=16):y.push(E)}}function n(_,E){if(!e)return null;for(;E!==null;)t(_,E),E=E.sibling;return null}function r(_,E){for(_=new Map;E!==null;)E.key!==null?_.set(E.key,E):_.set(E.index,E),E=E.sibling;return _}function i(_,E){return _=ki(_,E),_.index=0,_.sibling=null,_}function s(_,E,y){return _.index=y,e?(y=_.alternate,y!==null?(y=y.index,y<E?(_.flags|=2,E):y):(_.flags|=2,E)):(_.flags|=1048576,E)}function a(_){return e&&_.alternate===null&&(_.flags|=2),_}function o(_,E,y,k){return E===null||E.tag!==6?(E=qf(y,_.mode,k),E.return=_,E):(E=i(E,y),E.return=_,E)}function u(_,E,y,k){var L=y.type;return L===da?d(_,E,y.props.children,k,y.key):E!==null&&(E.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===ui&&RE(L)===E.type)?(k=i(E,y.props),k.ref=Uo(_,E,y),k.return=_,k):(k=qc(y.type,y.key,y.props,null,_.mode,k),k.ref=Uo(_,E,y),k.return=_,k)}function l(_,E,y,k){return E===null||E.tag!==4||E.stateNode.containerInfo!==y.containerInfo||E.stateNode.implementation!==y.implementation?(E=Kf(y,_.mode,k),E.return=_,E):(E=i(E,y.children||[]),E.return=_,E)}function d(_,E,y,k,L){return E===null||E.tag!==7?(E=ys(y,_.mode,k,L),E.return=_,E):(E=i(E,y),E.return=_,E)}function c(_,E,y){if(typeof E=="string"&&E!==""||typeof E=="number")return E=qf(""+E,_.mode,y),E.return=_,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case hc:return y=qc(E.type,E.key,E.props,null,_.mode,y),y.ref=Uo(_,null,E),y.return=_,y;case ca:return E=Kf(E,_.mode,y),E.return=_,E;case ui:var k=E._init;return c(_,k(E._payload),y)}if(eu(E)||Oo(E))return E=ys(E,_.mode,y,null),E.return=_,E;Cc(_,E)}return null}function f(_,E,y,k){var L=E!==null?E.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return L!==null?null:o(_,E,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case hc:return y.key===L?u(_,E,y,k):null;case ca:return y.key===L?l(_,E,y,k):null;case ui:return L=y._init,f(_,E,L(y._payload),k)}if(eu(y)||Oo(y))return L!==null?null:d(_,E,y,k,null);Cc(_,y)}return null}function p(_,E,y,k,L){if(typeof k=="string"&&k!==""||typeof k=="number")return _=_.get(y)||null,o(E,_,""+k,L);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case hc:return _=_.get(k.key===null?y:k.key)||null,u(E,_,k,L);case ca:return _=_.get(k.key===null?y:k.key)||null,l(E,_,k,L);case ui:var A=k._init;return p(_,E,y,A(k._payload),L)}if(eu(k)||Oo(k))return _=_.get(y)||null,d(E,_,k,L,null);Cc(E,k)}return null}function g(_,E,y,k){for(var L=null,A=null,P=E,B=E=0,Q=null;P!==null&&B<y.length;B++){P.index>B?(Q=P,P=null):Q=P.sibling;var x=f(_,P,y[B],k);if(x===null){P===null&&(P=Q);break}e&&P&&x.alternate===null&&t(_,P),E=s(x,E,B),A===null?L=x:A.sibling=x,A=x,P=Q}if(B===y.length)return n(_,P),He&&as(_,B),L;if(P===null){for(;B<y.length;B++)P=c(_,y[B],k),P!==null&&(E=s(P,E,B),A===null?L=P:A.sibling=P,A=P);return He&&as(_,B),L}for(P=r(_,P);B<y.length;B++)Q=p(P,_,B,y[B],k),Q!==null&&(e&&Q.alternate!==null&&P.delete(Q.key===null?B:Q.key),E=s(Q,E,B),A===null?L=Q:A.sibling=Q,A=Q);return e&&P.forEach(function(Y){return t(_,Y)}),He&&as(_,B),L}function T(_,E,y,k){var L=Oo(y);if(typeof L!="function")throw Error(H(150));if(y=L.call(y),y==null)throw Error(H(151));for(var A=L=null,P=E,B=E=0,Q=null,x=y.next();P!==null&&!x.done;B++,x=y.next()){P.index>B?(Q=P,P=null):Q=P.sibling;var Y=f(_,P,x.value,k);if(Y===null){P===null&&(P=Q);break}e&&P&&Y.alternate===null&&t(_,P),E=s(Y,E,B),A===null?L=Y:A.sibling=Y,A=Y,P=Q}if(x.done)return n(_,P),He&&as(_,B),L;if(P===null){for(;!x.done;B++,x=y.next())x=c(_,x.value,k),x!==null&&(E=s(x,E,B),A===null?L=x:A.sibling=x,A=x);return He&&as(_,B),L}for(P=r(_,P);!x.done;B++,x=y.next())x=p(P,_,B,x.value,k),x!==null&&(e&&x.alternate!==null&&P.delete(x.key===null?B:x.key),E=s(x,E,B),A===null?L=x:A.sibling=x,A=x);return e&&P.forEach(function(K){return t(_,K)}),He&&as(_,B),L}function w(_,E,y,k){if(typeof y=="object"&&y!==null&&y.type===da&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case hc:e:{for(var L=y.key,A=E;A!==null;){if(A.key===L){if(L=y.type,L===da){if(A.tag===7){n(_,A.sibling),E=i(A,y.props.children),E.return=_,_=E;break e}}else if(A.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===ui&&RE(L)===A.type){n(_,A.sibling),E=i(A,y.props),E.ref=Uo(_,A,y),E.return=_,_=E;break e}n(_,A);break}else t(_,A);A=A.sibling}y.type===da?(E=ys(y.props.children,_.mode,k,y.key),E.return=_,_=E):(k=qc(y.type,y.key,y.props,null,_.mode,k),k.ref=Uo(_,E,y),k.return=_,_=k)}return a(_);case ca:e:{for(A=y.key;E!==null;){if(E.key===A)if(E.tag===4&&E.stateNode.containerInfo===y.containerInfo&&E.stateNode.implementation===y.implementation){n(_,E.sibling),E=i(E,y.children||[]),E.return=_,_=E;break e}else{n(_,E);break}else t(_,E);E=E.sibling}E=Kf(y,_.mode,k),E.return=_,_=E}return a(_);case ui:return A=y._init,w(_,E,A(y._payload),k)}if(eu(y))return g(_,E,y,k);if(Oo(y))return T(_,E,y,k);Cc(_,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,E!==null&&E.tag===6?(n(_,E.sibling),E=i(E,y),E.return=_,_=E):(n(_,E),E=qf(y,_.mode,k),E.return=_,_=E),a(_)):n(_,E)}return w}var Va=eC(!0),tC=eC(!1),yd=Qi(null),Td=null,ya=null,Cg=null;function wg(){Cg=ya=Td=null}function Ig(e){var t=yd.current;Fe(yd),e._currentValue=t}function gm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Na(e,t){Td=e,Cg=ya=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Kt=!0),e.firstContext=null)}function On(e){var t=e._currentValue;if(Cg!==e)if(e={context:e,memoizedValue:t,next:null},ya===null){if(Td===null)throw Error(H(308));ya=e,Td.dependencies={lanes:0,firstContext:e}}else ya=ya.next=e;return t}var fs=null;function Sg(e){fs===null?fs=[e]:fs.push(e)}function nC(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Sg(t)):(n.next=i.next,i.next=n),t.interleaved=n,Wr(e,r)}function Wr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var li=!1;function Ag(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ur(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ii(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ye&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Wr(e,n)}return i=r.interleaved,i===null?(t.next=t,Sg(r)):(t.next=i.next,i.next=t),r.interleaved=t,Wr(e,n)}function zc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,hg(e,n)}}function PE(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function vd(e,t,n,r){var i=e.updateQueue;li=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var u=o,l=u.next;u.next=null,a===null?s=l:a.next=l,a=u;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=u))}if(s!==null){var c=i.baseState;a=0,d=l=u=null,o=s;do{var f=o.lane,p=o.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,T=o;switch(f=t,p=n,T.tag){case 1:if(g=T.payload,typeof g=="function"){c=g.call(p,c,f);break e}c=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=T.payload,f=typeof g=="function"?g.call(p,c,f):g,f==null)break e;c=Ye({},c,f);break e;case 2:li=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(l=d=p,u=c):d=d.next=p,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(u=c),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);xs|=a,e.lanes=a,e.memoizedState=c}}function OE(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var Pl={},Er=Qi(Pl),Ku=Qi(Pl),Qu=Qi(Pl);function ps(e){if(e===Pl)throw Error(H(174));return e}function kg(e,t){switch(Oe(Qu,t),Oe(Ku,e),Oe(Er,Pl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Qp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Qp(t,e)}Fe(Er),Oe(Er,t)}function $a(){Fe(Er),Fe(Ku),Fe(Qu)}function iC(e){ps(Qu.current);var t=ps(Er.current),n=Qp(t,e.type);t!==n&&(Oe(Ku,e),Oe(Er,n))}function xg(e){Ku.current===e&&(Fe(Er),Fe(Ku))}var We=Qi(0);function bd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zf=[];function Ng(){for(var e=0;e<zf.length;e++)zf[e]._workInProgressVersionPrimary=null;zf.length=0}var Wc=Qr.ReactCurrentDispatcher,Wf=Qr.ReactCurrentBatchConfig,ks=0,$e=null,lt=null,gt=null,Cd=!1,pu=!1,Xu=0,l4=0;function xt(){throw Error(H(321))}function Rg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zn(e[n],t[n]))return!1;return!0}function Pg(e,t,n,r,i,s){if(ks=s,$e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wc.current=e===null||e.memoizedState===null?f4:p4,e=n(r,i),pu){s=0;do{if(pu=!1,Xu=0,25<=s)throw Error(H(301));s+=1,gt=lt=null,t.updateQueue=null,Wc.current=m4,e=n(r,i)}while(pu)}if(Wc.current=wd,t=lt!==null&&lt.next!==null,ks=0,gt=lt=$e=null,Cd=!1,t)throw Error(H(300));return e}function Og(){var e=Xu!==0;return Xu=0,e}function sr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?$e.memoizedState=gt=e:gt=gt.next=e,gt}function Ln(){if(lt===null){var e=$e.alternate;e=e!==null?e.memoizedState:null}else e=lt.next;var t=gt===null?$e.memoizedState:gt.next;if(t!==null)gt=t,lt=e;else{if(e===null)throw Error(H(310));lt=e,e={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},gt===null?$e.memoizedState=gt=e:gt=gt.next=e}return gt}function Ju(e,t){return typeof t=="function"?t(e):t}function Vf(e){var t=Ln(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=lt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,u=null,l=s;do{var d=l.lane;if((ks&d)===d)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var c={lane:d,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(o=u=c,a=r):u=u.next=c,$e.lanes|=d,xs|=d}l=l.next}while(l!==null&&l!==s);u===null?a=r:u.next=o,Zn(r,t.memoizedState)||(Kt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,$e.lanes|=s,xs|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function $f(e){var t=Ln(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);Zn(s,t.memoizedState)||(Kt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function sC(){}function aC(e,t){var n=$e,r=Ln(),i=t(),s=!Zn(r.memoizedState,i);if(s&&(r.memoizedState=i,Kt=!0),r=r.queue,Lg(lC.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||gt!==null&&gt.memoizedState.tag&1){if(n.flags|=2048,Zu(9,uC.bind(null,n,r,i,t),void 0,null),vt===null)throw Error(H(349));ks&30||oC(n,t,i)}return i}function oC(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function uC(e,t,n,r){t.value=n,t.getSnapshot=r,cC(t)&&dC(e)}function lC(e,t,n){return n(function(){cC(t)&&dC(e)})}function cC(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zn(e,n)}catch{return!0}}function dC(e){var t=Wr(e,1);t!==null&&Kn(t,e,1,-1)}function LE(e){var t=sr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ju,lastRenderedState:e},t.queue=e,e=e.dispatch=h4.bind(null,$e,e),[t.memoizedState,e]}function Zu(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function hC(){return Ln().memoizedState}function Vc(e,t,n,r){var i=sr();$e.flags|=e,i.memoizedState=Zu(1|t,n,void 0,r===void 0?null:r)}function Eh(e,t,n,r){var i=Ln();r=r===void 0?null:r;var s=void 0;if(lt!==null){var a=lt.memoizedState;if(s=a.destroy,r!==null&&Rg(r,a.deps)){i.memoizedState=Zu(t,n,s,r);return}}$e.flags|=e,i.memoizedState=Zu(1|t,n,s,r)}function DE(e,t){return Vc(8390656,8,e,t)}function Lg(e,t){return Eh(2048,8,e,t)}function fC(e,t){return Eh(4,2,e,t)}function pC(e,t){return Eh(4,4,e,t)}function mC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gC(e,t,n){return n=n!=null?n.concat([e]):null,Eh(4,4,mC.bind(null,t,e),n)}function Dg(){}function _C(e,t){var n=Ln();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Rg(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function EC(e,t){var n=Ln();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Rg(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function yC(e,t,n){return ks&21?(Zn(n,t)||(n=wb(),$e.lanes|=n,xs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Kt=!0),e.memoizedState=n)}function c4(e,t){var n=we;we=n!==0&&4>n?n:4,e(!0);var r=Wf.transition;Wf.transition={};try{e(!1),t()}finally{we=n,Wf.transition=r}}function TC(){return Ln().memoizedState}function d4(e,t,n){var r=Ai(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},vC(e))bC(t,n);else if(n=nC(e,t,n,r),n!==null){var i=Ht();Kn(n,e,r,i),CC(n,t,r)}}function h4(e,t,n){var r=Ai(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(vC(e))bC(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Zn(o,a)){var u=t.interleaved;u===null?(i.next=i,Sg(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=nC(e,t,i,r),n!==null&&(i=Ht(),Kn(n,e,r,i),CC(n,t,r))}}function vC(e){var t=e.alternate;return e===$e||t!==null&&t===$e}function bC(e,t){pu=Cd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function CC(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,hg(e,n)}}var wd={readContext:On,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},f4={readContext:On,useCallback:function(e,t){return sr().memoizedState=[e,t===void 0?null:t],e},useContext:On,useEffect:DE,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Vc(4194308,4,mC.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vc(4,2,e,t)},useMemo:function(e,t){var n=sr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=sr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=d4.bind(null,$e,e),[r.memoizedState,e]},useRef:function(e){var t=sr();return e={current:e},t.memoizedState=e},useState:LE,useDebugValue:Dg,useDeferredValue:function(e){return sr().memoizedState=e},useTransition:function(){var e=LE(!1),t=e[0];return e=c4.bind(null,e[1]),sr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=$e,i=sr();if(He){if(n===void 0)throw Error(H(407));n=n()}else{if(n=t(),vt===null)throw Error(H(349));ks&30||oC(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,DE(lC.bind(null,r,s,e),[e]),r.flags|=2048,Zu(9,uC.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=sr(),t=vt.identifierPrefix;if(He){var n=Or,r=Pr;n=(r&~(1<<32-qn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Xu++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=l4++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},p4={readContext:On,useCallback:_C,useContext:On,useEffect:Lg,useImperativeHandle:gC,useInsertionEffect:fC,useLayoutEffect:pC,useMemo:EC,useReducer:Vf,useRef:hC,useState:function(){return Vf(Ju)},useDebugValue:Dg,useDeferredValue:function(e){var t=Ln();return yC(t,lt.memoizedState,e)},useTransition:function(){var e=Vf(Ju)[0],t=Ln().memoizedState;return[e,t]},useMutableSource:sC,useSyncExternalStore:aC,useId:TC,unstable_isNewReconciler:!1},m4={readContext:On,useCallback:_C,useContext:On,useEffect:Lg,useImperativeHandle:gC,useInsertionEffect:fC,useLayoutEffect:pC,useMemo:EC,useReducer:$f,useRef:hC,useState:function(){return $f(Ju)},useDebugValue:Dg,useDeferredValue:function(e){var t=Ln();return lt===null?t.memoizedState=e:yC(t,lt.memoizedState,e)},useTransition:function(){var e=$f(Ju)[0],t=Ln().memoizedState;return[e,t]},useMutableSource:sC,useSyncExternalStore:aC,useId:TC,unstable_isNewReconciler:!1};function Vn(e,t){if(e&&e.defaultProps){t=Ye({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function _m(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ye({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var yh={isMounted:function(e){return(e=e._reactInternals)?Ws(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ht(),i=Ai(e),s=Ur(r,i);s.payload=t,n!=null&&(s.callback=n),t=Ii(e,s,i),t!==null&&(Kn(t,e,i,r),zc(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ht(),i=Ai(e),s=Ur(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Ii(e,s,i),t!==null&&(Kn(t,e,i,r),zc(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ht(),r=Ai(e),i=Ur(n,r);i.tag=2,t!=null&&(i.callback=t),t=Ii(e,i,r),t!==null&&(Kn(t,e,r,n),zc(t,e,r))}};function ME(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!$u(n,r)||!$u(i,s):!0}function wC(e,t,n){var r=!1,i=Fi,s=t.contextType;return typeof s=="object"&&s!==null?s=On(s):(i=Jt(t)?Ss:Lt.current,r=t.contextTypes,s=(r=r!=null)?za(e,i):Fi),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function FE(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yh.enqueueReplaceState(t,t.state,null)}function Em(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ag(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=On(s):(s=Jt(t)?Ss:Lt.current,i.context=za(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(_m(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&yh.enqueueReplaceState(i,i.state,null),vd(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ya(e,t){try{var n="",r=t;do n+=Wx(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Yf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ym(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var g4=typeof WeakMap=="function"?WeakMap:Map;function IC(e,t,n){n=Ur(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Sd||(Sd=!0,xm=r),ym(e,t)},n}function SC(e,t,n){n=Ur(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ym(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ym(e,t),typeof r!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function UE(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new g4;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=N4.bind(null,e,t,n),t.then(e,e))}function BE(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function HE(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ur(-1,1),t.tag=2,Ii(n,t,1))),n.lanes|=1),e)}var _4=Qr.ReactCurrentOwner,Kt=!1;function Ft(e,t,n,r){t.child=e===null?tC(t,null,n,r):Va(t,e.child,n,r)}function jE(e,t,n,r,i){n=n.render;var s=t.ref;return Na(t,i),r=Pg(e,t,n,r,s,i),n=Og(),e!==null&&!Kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vr(e,t,i)):(He&&n&&Tg(t),t.flags|=1,Ft(e,t,r,i),t.child)}function zE(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Wg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,AC(e,t,s,r,i)):(e=qc(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:$u,n(a,r)&&e.ref===t.ref)return Vr(e,t,i)}return t.flags|=1,e=ki(s,r),e.ref=t.ref,e.return=t,t.child=e}function AC(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if($u(s,r)&&e.ref===t.ref)if(Kt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Kt=!0);else return t.lanes=e.lanes,Vr(e,t,i)}return Tm(e,t,n,r,i)}function kC(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(va,un),un|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oe(va,un),un|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Oe(va,un),un|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Oe(va,un),un|=r;return Ft(e,t,i,n),t.child}function xC(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tm(e,t,n,r,i){var s=Jt(n)?Ss:Lt.current;return s=za(t,s),Na(t,i),n=Pg(e,t,n,r,s,i),r=Og(),e!==null&&!Kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vr(e,t,i)):(He&&r&&Tg(t),t.flags|=1,Ft(e,t,n,i),t.child)}function WE(e,t,n,r,i){if(Jt(n)){var s=!0;gd(t)}else s=!1;if(Na(t,i),t.stateNode===null)$c(e,t),wC(t,n,r),Em(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var u=a.context,l=n.contextType;typeof l=="object"&&l!==null?l=On(l):(l=Jt(n)?Ss:Lt.current,l=za(t,l));var d=n.getDerivedStateFromProps,c=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";c||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||u!==l)&&FE(t,a,r,l),li=!1;var f=t.memoizedState;a.state=f,vd(t,r,a,i),u=t.memoizedState,o!==r||f!==u||Xt.current||li?(typeof d=="function"&&(_m(t,n,d,r),u=t.memoizedState),(o=li||ME(t,n,o,r,f,u,l))?(c||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=l,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,rC(e,t),o=t.memoizedProps,l=t.type===t.elementType?o:Vn(t.type,o),a.props=l,c=t.pendingProps,f=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=On(u):(u=Jt(n)?Ss:Lt.current,u=za(t,u));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==c||f!==u)&&FE(t,a,r,u),li=!1,f=t.memoizedState,a.state=f,vd(t,r,a,i);var g=t.memoizedState;o!==c||f!==g||Xt.current||li?(typeof p=="function"&&(_m(t,n,p,r),g=t.memoizedState),(l=li||ME(t,n,l,r,f,g,u)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),a.props=r,a.state=g,a.context=u,r=l):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return vm(e,t,n,r,s,i)}function vm(e,t,n,r,i,s){xC(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&kE(t,n,!1),Vr(e,t,s);r=t.stateNode,_4.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Va(t,e.child,null,s),t.child=Va(t,null,o,s)):Ft(e,t,o,s),t.memoizedState=r.state,i&&kE(t,n,!0),t.child}function NC(e){var t=e.stateNode;t.pendingContext?AE(e,t.pendingContext,t.pendingContext!==t.context):t.context&&AE(e,t.context,!1),kg(e,t.containerInfo)}function VE(e,t,n,r,i){return Wa(),bg(i),t.flags|=256,Ft(e,t,n,r),t.child}var bm={dehydrated:null,treeContext:null,retryLane:0};function Cm(e){return{baseLanes:e,cachePool:null,transitions:null}}function RC(e,t,n){var r=t.pendingProps,i=We.current,s=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Oe(We,i&1),e===null)return mm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=bh(a,r,0,null),e=ys(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Cm(n),t.memoizedState=bm,e):Mg(t,a));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return E4(e,t,a,r,o,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,o=i.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=ki(i,u),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=ki(o,s):(s=ys(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?Cm(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=bm,r}return s=e.child,e=s.sibling,r=ki(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Mg(e,t){return t=bh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function wc(e,t,n,r){return r!==null&&bg(r),Va(t,e.child,null,n),e=Mg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function E4(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=Yf(Error(H(422))),wc(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=bh({mode:"visible",children:r.children},i,0,null),s=ys(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Va(t,e.child,null,a),t.child.memoizedState=Cm(a),t.memoizedState=bm,s);if(!(t.mode&1))return wc(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(H(419)),r=Yf(s,r,void 0),wc(e,t,a,r)}if(o=(a&e.childLanes)!==0,Kt||o){if(r=vt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Wr(e,i),Kn(r,e,i,-1))}return zg(),r=Yf(Error(H(421))),wc(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=R4.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,dn=wi(i.nextSibling),fn=t,He=!0,Yn=null,e!==null&&(Cn[wn++]=Pr,Cn[wn++]=Or,Cn[wn++]=As,Pr=e.id,Or=e.overflow,As=t),t=Mg(t,r.children),t.flags|=4096,t)}function $E(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),gm(e.return,t,n)}function Gf(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function PC(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Ft(e,t,r.children,n),r=We.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$E(e,n,t);else if(e.tag===19)$E(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Oe(We,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&bd(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Gf(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&bd(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Gf(t,!0,n,null,s);break;case"together":Gf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $c(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),xs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,n=ki(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ki(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function y4(e,t,n){switch(t.tag){case 3:NC(t),Wa();break;case 5:iC(t);break;case 1:Jt(t.type)&&gd(t);break;case 4:kg(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Oe(yd,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Oe(We,We.current&1),t.flags|=128,null):n&t.child.childLanes?RC(e,t,n):(Oe(We,We.current&1),e=Vr(e,t,n),e!==null?e.sibling:null);Oe(We,We.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return PC(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Oe(We,We.current),r)break;return null;case 22:case 23:return t.lanes=0,kC(e,t,n)}return Vr(e,t,n)}var OC,wm,LC,DC;OC=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wm=function(){};LC=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ps(Er.current);var s=null;switch(n){case"input":i=Yp(e,i),r=Yp(e,r),s=[];break;case"select":i=Ye({},i,{value:void 0}),r=Ye({},r,{value:void 0}),s=[];break;case"textarea":i=Kp(e,i),r=Kp(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=pd)}Xp(n,r);var a;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var o=i[l];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Uu.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var u=r[l];if(o=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==o&&(u!=null||o!=null))if(l==="style")if(o){for(a in o)!o.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&o[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Uu.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Me("scroll",e),s||o===u||(s=[])):(s=s||[]).push(l,u))}n&&(s=s||[]).push("style",n);var l=s;(t.updateQueue=l)&&(t.flags|=4)}};DC=function(e,t,n,r){n!==r&&(t.flags|=4)};function Bo(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function T4(e,t,n){var r=t.pendingProps;switch(vg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(t),null;case 1:return Jt(t.type)&&md(),Nt(t),null;case 3:return r=t.stateNode,$a(),Fe(Xt),Fe(Lt),Ng(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(bc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Yn!==null&&(Pm(Yn),Yn=null))),wm(e,t),Nt(t),null;case 5:xg(t);var i=ps(Qu.current);if(n=t.type,e!==null&&t.stateNode!=null)LC(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(H(166));return Nt(t),null}if(e=ps(Er.current),bc(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[lr]=t,r[qu]=s,e=(t.mode&1)!==0,n){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(i=0;i<nu.length;i++)Me(nu[i],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":eE(r,s),Me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Me("invalid",r);break;case"textarea":nE(r,s),Me("invalid",r)}Xp(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&vc(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&vc(r.textContent,o,e),i=["children",""+o]):Uu.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Me("scroll",r)}switch(n){case"input":fc(r),tE(r,s,!0);break;case"textarea":fc(r),rE(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=pd)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=lb(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[lr]=t,e[qu]=r,OC(e,t,!1,!1),t.stateNode=e;e:{switch(a=Jp(n,r),n){case"dialog":Me("cancel",e),Me("close",e),i=r;break;case"iframe":case"object":case"embed":Me("load",e),i=r;break;case"video":case"audio":for(i=0;i<nu.length;i++)Me(nu[i],e);i=r;break;case"source":Me("error",e),i=r;break;case"img":case"image":case"link":Me("error",e),Me("load",e),i=r;break;case"details":Me("toggle",e),i=r;break;case"input":eE(e,r),i=Yp(e,r),Me("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ye({},r,{value:void 0}),Me("invalid",e);break;case"textarea":nE(e,r),i=Kp(e,r),Me("invalid",e);break;default:i=r}Xp(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var u=o[s];s==="style"?hb(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&cb(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Bu(e,u):typeof u=="number"&&Bu(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Uu.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Me("scroll",e):u!=null&&ag(e,s,u,a))}switch(n){case"input":fc(e),tE(e,r,!1);break;case"textarea":fc(e),rE(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Mi(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Sa(e,!!r.multiple,s,!1):r.defaultValue!=null&&Sa(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=pd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Nt(t),null;case 6:if(e&&t.stateNode!=null)DC(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(H(166));if(n=ps(Qu.current),ps(Er.current),bc(t)){if(r=t.stateNode,n=t.memoizedProps,r[lr]=t,(s=r.nodeValue!==n)&&(e=fn,e!==null))switch(e.tag){case 3:vc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vc(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[lr]=t,t.stateNode=r}return Nt(t),null;case 13:if(Fe(We),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&dn!==null&&t.mode&1&&!(t.flags&128))Zb(),Wa(),t.flags|=98560,s=!1;else if(s=bc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(H(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[lr]=t}else Wa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Nt(t),s=!1}else Yn!==null&&(Pm(Yn),Yn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||We.current&1?dt===0&&(dt=3):zg())),t.updateQueue!==null&&(t.flags|=4),Nt(t),null);case 4:return $a(),wm(e,t),e===null&&Yu(t.stateNode.containerInfo),Nt(t),null;case 10:return Ig(t.type._context),Nt(t),null;case 17:return Jt(t.type)&&md(),Nt(t),null;case 19:if(Fe(We),s=t.memoizedState,s===null)return Nt(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)Bo(s,!1);else{if(dt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=bd(e),a!==null){for(t.flags|=128,Bo(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Oe(We,We.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ze()>Ga&&(t.flags|=128,r=!0,Bo(s,!1),t.lanes=4194304)}else{if(!r)if(e=bd(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Bo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!He)return Nt(t),null}else 2*Ze()-s.renderingStartTime>Ga&&n!==1073741824&&(t.flags|=128,r=!0,Bo(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ze(),t.sibling=null,n=We.current,Oe(We,r?n&1|2:n&1),t):(Nt(t),null);case 22:case 23:return jg(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?un&1073741824&&(Nt(t),t.subtreeFlags&6&&(t.flags|=8192)):Nt(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function v4(e,t){switch(vg(t),t.tag){case 1:return Jt(t.type)&&md(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $a(),Fe(Xt),Fe(Lt),Ng(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xg(t),null;case 13:if(Fe(We),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));Wa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Fe(We),null;case 4:return $a(),null;case 10:return Ig(t.type._context),null;case 22:case 23:return jg(),null;case 24:return null;default:return null}}var Ic=!1,Rt=!1,b4=typeof WeakSet=="function"?WeakSet:Set,G=null;function Ta(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qe(e,t,r)}else n.current=null}function Im(e,t,n){try{n()}catch(r){qe(e,t,r)}}var YE=!1;function C4(e,t){if(um=dd,e=Hb(),yg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,u=-1,l=0,d=0,c=e,f=null;t:for(;;){for(var p;c!==n||i!==0&&c.nodeType!==3||(o=a+i),c!==s||r!==0&&c.nodeType!==3||(u=a+r),c.nodeType===3&&(a+=c.nodeValue.length),(p=c.firstChild)!==null;)f=c,c=p;for(;;){if(c===e)break t;if(f===n&&++l===i&&(o=a),f===s&&++d===r&&(u=a),(p=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=p}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(lm={focusedElem:e,selectionRange:n},dd=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var T=g.memoizedProps,w=g.memoizedState,_=t.stateNode,E=_.getSnapshotBeforeUpdate(t.elementType===t.type?T:Vn(t.type,T),w);_.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(k){qe(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return g=YE,YE=!1,g}function mu(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Im(t,n,s)}i=i.next}while(i!==r)}}function Th(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Sm(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function MC(e){var t=e.alternate;t!==null&&(e.alternate=null,MC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[lr],delete t[qu],delete t[hm],delete t[s4],delete t[a4])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function FC(e){return e.tag===5||e.tag===3||e.tag===4}function GE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||FC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Am(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=pd));else if(r!==4&&(e=e.child,e!==null))for(Am(e,t,n),e=e.sibling;e!==null;)Am(e,t,n),e=e.sibling}function km(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(km(e,t,n),e=e.sibling;e!==null;)km(e,t,n),e=e.sibling}var It=null,$n=!1;function ni(e,t,n){for(n=n.child;n!==null;)UC(e,t,n),n=n.sibling}function UC(e,t,n){if(_r&&typeof _r.onCommitFiberUnmount=="function")try{_r.onCommitFiberUnmount(hh,n)}catch{}switch(n.tag){case 5:Rt||Ta(n,t);case 6:var r=It,i=$n;It=null,ni(e,t,n),It=r,$n=i,It!==null&&($n?(e=It,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):It.removeChild(n.stateNode));break;case 18:It!==null&&($n?(e=It,n=n.stateNode,e.nodeType===8?Hf(e.parentNode,n):e.nodeType===1&&Hf(e,n),Wu(e)):Hf(It,n.stateNode));break;case 4:r=It,i=$n,It=n.stateNode.containerInfo,$n=!0,ni(e,t,n),It=r,$n=i;break;case 0:case 11:case 14:case 15:if(!Rt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Im(n,t,a),i=i.next}while(i!==r)}ni(e,t,n);break;case 1:if(!Rt&&(Ta(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){qe(n,t,o)}ni(e,t,n);break;case 21:ni(e,t,n);break;case 22:n.mode&1?(Rt=(r=Rt)||n.memoizedState!==null,ni(e,t,n),Rt=r):ni(e,t,n);break;default:ni(e,t,n)}}function qE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new b4),t.forEach(function(r){var i=P4.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function zn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:It=o.stateNode,$n=!1;break e;case 3:It=o.stateNode.containerInfo,$n=!0;break e;case 4:It=o.stateNode.containerInfo,$n=!0;break e}o=o.return}if(It===null)throw Error(H(160));UC(s,a,i),It=null,$n=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){qe(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)BC(t,e),t=t.sibling}function BC(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zn(t,e),ir(e),r&4){try{mu(3,e,e.return),Th(3,e)}catch(T){qe(e,e.return,T)}try{mu(5,e,e.return)}catch(T){qe(e,e.return,T)}}break;case 1:zn(t,e),ir(e),r&512&&n!==null&&Ta(n,n.return);break;case 5:if(zn(t,e),ir(e),r&512&&n!==null&&Ta(n,n.return),e.flags&32){var i=e.stateNode;try{Bu(i,"")}catch(T){qe(e,e.return,T)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,o=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&ob(i,s),Jp(o,a);var l=Jp(o,s);for(a=0;a<u.length;a+=2){var d=u[a],c=u[a+1];d==="style"?hb(i,c):d==="dangerouslySetInnerHTML"?cb(i,c):d==="children"?Bu(i,c):ag(i,d,c,l)}switch(o){case"input":Gp(i,s);break;case"textarea":ub(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Sa(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Sa(i,!!s.multiple,s.defaultValue,!0):Sa(i,!!s.multiple,s.multiple?[]:"",!1))}i[qu]=s}catch(T){qe(e,e.return,T)}}break;case 6:if(zn(t,e),ir(e),r&4){if(e.stateNode===null)throw Error(H(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(T){qe(e,e.return,T)}}break;case 3:if(zn(t,e),ir(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wu(t.containerInfo)}catch(T){qe(e,e.return,T)}break;case 4:zn(t,e),ir(e);break;case 13:zn(t,e),ir(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Bg=Ze())),r&4&&qE(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Rt=(l=Rt)||d,zn(t,e),Rt=l):zn(t,e),ir(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!d&&e.mode&1)for(G=e,d=e.child;d!==null;){for(c=G=d;G!==null;){switch(f=G,p=f.child,f.tag){case 0:case 11:case 14:case 15:mu(4,f,f.return);break;case 1:Ta(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(T){qe(r,n,T)}}break;case 5:Ta(f,f.return);break;case 22:if(f.memoizedState!==null){QE(c);continue}}p!==null?(p.return=f,G=p):QE(c)}d=d.sibling}e:for(d=null,c=e;;){if(c.tag===5){if(d===null){d=c;try{i=c.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=c.stateNode,u=c.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=db("display",a))}catch(T){qe(e,e.return,T)}}}else if(c.tag===6){if(d===null)try{c.stateNode.nodeValue=l?"":c.memoizedProps}catch(T){qe(e,e.return,T)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:zn(t,e),ir(e),r&4&&qE(e);break;case 21:break;default:zn(t,e),ir(e)}}function ir(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(FC(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Bu(i,""),r.flags&=-33);var s=GE(e);km(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=GE(e);Am(e,o,a);break;default:throw Error(H(161))}}catch(u){qe(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function w4(e,t,n){G=e,HC(e)}function HC(e,t,n){for(var r=(e.mode&1)!==0;G!==null;){var i=G,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Ic;if(!a){var o=i.alternate,u=o!==null&&o.memoizedState!==null||Rt;o=Ic;var l=Rt;if(Ic=a,(Rt=u)&&!l)for(G=i;G!==null;)a=G,u=a.child,a.tag===22&&a.memoizedState!==null?XE(i):u!==null?(u.return=a,G=u):XE(i);for(;s!==null;)G=s,HC(s),s=s.sibling;G=i,Ic=o,Rt=l}KE(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,G=s):KE(e)}}function KE(e){for(;G!==null;){var t=G;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Rt||Th(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Rt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Vn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&OE(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}OE(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var d=l.memoizedState;if(d!==null){var c=d.dehydrated;c!==null&&Wu(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Rt||t.flags&512&&Sm(t)}catch(f){qe(t,t.return,f)}}if(t===e){G=null;break}if(n=t.sibling,n!==null){n.return=t.return,G=n;break}G=t.return}}function QE(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var n=t.sibling;if(n!==null){n.return=t.return,G=n;break}G=t.return}}function XE(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Th(4,t)}catch(u){qe(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){qe(t,i,u)}}var s=t.return;try{Sm(t)}catch(u){qe(t,s,u)}break;case 5:var a=t.return;try{Sm(t)}catch(u){qe(t,a,u)}}}catch(u){qe(t,t.return,u)}if(t===e){G=null;break}var o=t.sibling;if(o!==null){o.return=t.return,G=o;break}G=t.return}}var I4=Math.ceil,Id=Qr.ReactCurrentDispatcher,Fg=Qr.ReactCurrentOwner,Rn=Qr.ReactCurrentBatchConfig,ye=0,vt=null,at=null,St=0,un=0,va=Qi(0),dt=0,el=null,xs=0,vh=0,Ug=0,gu=null,Yt=null,Bg=0,Ga=1/0,xr=null,Sd=!1,xm=null,Si=null,Sc=!1,pi=null,Ad=0,_u=0,Nm=null,Yc=-1,Gc=0;function Ht(){return ye&6?Ze():Yc!==-1?Yc:Yc=Ze()}function Ai(e){return e.mode&1?ye&2&&St!==0?St&-St:u4.transition!==null?(Gc===0&&(Gc=wb()),Gc):(e=we,e!==0||(e=window.event,e=e===void 0?16:Rb(e.type)),e):1}function Kn(e,t,n,r){if(50<_u)throw _u=0,Nm=null,Error(H(185));xl(e,n,r),(!(ye&2)||e!==vt)&&(e===vt&&(!(ye&2)&&(vh|=n),dt===4&&hi(e,St)),Zt(e,r),n===1&&ye===0&&!(t.mode&1)&&(Ga=Ze()+500,_h&&Xi()))}function Zt(e,t){var n=e.callbackNode;uN(e,t);var r=cd(e,e===vt?St:0);if(r===0)n!==null&&aE(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&aE(n),t===1)e.tag===0?o4(JE.bind(null,e)):Qb(JE.bind(null,e)),r4(function(){!(ye&6)&&Xi()}),n=null;else{switch(Ib(r)){case 1:n=dg;break;case 4:n=bb;break;case 16:n=ld;break;case 536870912:n=Cb;break;default:n=ld}n=qC(n,jC.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function jC(e,t){if(Yc=-1,Gc=0,ye&6)throw Error(H(327));var n=e.callbackNode;if(Ra()&&e.callbackNode!==n)return null;var r=cd(e,e===vt?St:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=kd(e,r);else{t=r;var i=ye;ye|=2;var s=WC();(vt!==e||St!==t)&&(xr=null,Ga=Ze()+500,Es(e,t));do try{k4();break}catch(o){zC(e,o)}while(!0);wg(),Id.current=s,ye=i,at!==null?t=0:(vt=null,St=0,t=dt)}if(t!==0){if(t===2&&(i=rm(e),i!==0&&(r=i,t=Rm(e,i))),t===1)throw n=el,Es(e,0),hi(e,r),Zt(e,Ze()),n;if(t===6)hi(e,r);else{if(i=e.current.alternate,!(r&30)&&!S4(i)&&(t=kd(e,r),t===2&&(s=rm(e),s!==0&&(r=s,t=Rm(e,s))),t===1))throw n=el,Es(e,0),hi(e,r),Zt(e,Ze()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(H(345));case 2:os(e,Yt,xr);break;case 3:if(hi(e,r),(r&130023424)===r&&(t=Bg+500-Ze(),10<t)){if(cd(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ht(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=dm(os.bind(null,e,Yt,xr),t);break}os(e,Yt,xr);break;case 4:if(hi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-qn(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=Ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*I4(r/1960))-r,10<r){e.timeoutHandle=dm(os.bind(null,e,Yt,xr),r);break}os(e,Yt,xr);break;case 5:os(e,Yt,xr);break;default:throw Error(H(329))}}}return Zt(e,Ze()),e.callbackNode===n?jC.bind(null,e):null}function Rm(e,t){var n=gu;return e.current.memoizedState.isDehydrated&&(Es(e,t).flags|=256),e=kd(e,t),e!==2&&(t=Yt,Yt=n,t!==null&&Pm(t)),e}function Pm(e){Yt===null?Yt=e:Yt.push.apply(Yt,e)}function S4(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Zn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hi(e,t){for(t&=~Ug,t&=~vh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qn(t),r=1<<n;e[n]=-1,t&=~r}}function JE(e){if(ye&6)throw Error(H(327));Ra();var t=cd(e,0);if(!(t&1))return Zt(e,Ze()),null;var n=kd(e,t);if(e.tag!==0&&n===2){var r=rm(e);r!==0&&(t=r,n=Rm(e,r))}if(n===1)throw n=el,Es(e,0),hi(e,t),Zt(e,Ze()),n;if(n===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,os(e,Yt,xr),Zt(e,Ze()),null}function Hg(e,t){var n=ye;ye|=1;try{return e(t)}finally{ye=n,ye===0&&(Ga=Ze()+500,_h&&Xi())}}function Ns(e){pi!==null&&pi.tag===0&&!(ye&6)&&Ra();var t=ye;ye|=1;var n=Rn.transition,r=we;try{if(Rn.transition=null,we=1,e)return e()}finally{we=r,Rn.transition=n,ye=t,!(ye&6)&&Xi()}}function jg(){un=va.current,Fe(va)}function Es(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,n4(n)),at!==null)for(n=at.return;n!==null;){var r=n;switch(vg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&md();break;case 3:$a(),Fe(Xt),Fe(Lt),Ng();break;case 5:xg(r);break;case 4:$a();break;case 13:Fe(We);break;case 19:Fe(We);break;case 10:Ig(r.type._context);break;case 22:case 23:jg()}n=n.return}if(vt=e,at=e=ki(e.current,null),St=un=t,dt=0,el=null,Ug=vh=xs=0,Yt=gu=null,fs!==null){for(t=0;t<fs.length;t++)if(n=fs[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}fs=null}return e}function zC(e,t){do{var n=at;try{if(wg(),Wc.current=wd,Cd){for(var r=$e.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Cd=!1}if(ks=0,gt=lt=$e=null,pu=!1,Xu=0,Fg.current=null,n===null||n.return===null){dt=1,el=t,at=null;break}e:{var s=e,a=n.return,o=n,u=t;if(t=St,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,d=o,c=d.tag;if(!(d.mode&1)&&(c===0||c===11||c===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=BE(a);if(p!==null){p.flags&=-257,HE(p,a,o,s,t),p.mode&1&&UE(s,l,t),t=p,u=l;var g=t.updateQueue;if(g===null){var T=new Set;T.add(u),t.updateQueue=T}else g.add(u);break e}else{if(!(t&1)){UE(s,l,t),zg();break e}u=Error(H(426))}}else if(He&&o.mode&1){var w=BE(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),HE(w,a,o,s,t),bg(Ya(u,o));break e}}s=u=Ya(u,o),dt!==4&&(dt=2),gu===null?gu=[s]:gu.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var _=IC(s,u,t);PE(s,_);break e;case 1:o=u;var E=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Si===null||!Si.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var k=SC(s,o,t);PE(s,k);break e}}s=s.return}while(s!==null)}$C(n)}catch(L){t=L,at===n&&n!==null&&(at=n=n.return);continue}break}while(!0)}function WC(){var e=Id.current;return Id.current=wd,e===null?wd:e}function zg(){(dt===0||dt===3||dt===2)&&(dt=4),vt===null||!(xs&268435455)&&!(vh&268435455)||hi(vt,St)}function kd(e,t){var n=ye;ye|=2;var r=WC();(vt!==e||St!==t)&&(xr=null,Es(e,t));do try{A4();break}catch(i){zC(e,i)}while(!0);if(wg(),ye=n,Id.current=r,at!==null)throw Error(H(261));return vt=null,St=0,dt}function A4(){for(;at!==null;)VC(at)}function k4(){for(;at!==null&&!Zx();)VC(at)}function VC(e){var t=GC(e.alternate,e,un);e.memoizedProps=e.pendingProps,t===null?$C(e):at=t,Fg.current=null}function $C(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=v4(n,t),n!==null){n.flags&=32767,at=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{dt=6,at=null;return}}else if(n=T4(n,t,un),n!==null){at=n;return}if(t=t.sibling,t!==null){at=t;return}at=t=e}while(t!==null);dt===0&&(dt=5)}function os(e,t,n){var r=we,i=Rn.transition;try{Rn.transition=null,we=1,x4(e,t,n,r)}finally{Rn.transition=i,we=r}return null}function x4(e,t,n,r){do Ra();while(pi!==null);if(ye&6)throw Error(H(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(lN(e,s),e===vt&&(at=vt=null,St=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Sc||(Sc=!0,qC(ld,function(){return Ra(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Rn.transition,Rn.transition=null;var a=we;we=1;var o=ye;ye|=4,Fg.current=null,C4(e,n),BC(n,e),KN(lm),dd=!!um,lm=um=null,e.current=n,w4(n),eN(),ye=o,we=a,Rn.transition=s}else e.current=n;if(Sc&&(Sc=!1,pi=e,Ad=i),s=e.pendingLanes,s===0&&(Si=null),rN(n.stateNode),Zt(e,Ze()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Sd)throw Sd=!1,e=xm,xm=null,e;return Ad&1&&e.tag!==0&&Ra(),s=e.pendingLanes,s&1?e===Nm?_u++:(_u=0,Nm=e):_u=0,Xi(),null}function Ra(){if(pi!==null){var e=Ib(Ad),t=Rn.transition,n=we;try{if(Rn.transition=null,we=16>e?16:e,pi===null)var r=!1;else{if(e=pi,pi=null,Ad=0,ye&6)throw Error(H(331));var i=ye;for(ye|=4,G=e.current;G!==null;){var s=G,a=s.child;if(G.flags&16){var o=s.deletions;if(o!==null){for(var u=0;u<o.length;u++){var l=o[u];for(G=l;G!==null;){var d=G;switch(d.tag){case 0:case 11:case 15:mu(8,d,s)}var c=d.child;if(c!==null)c.return=d,G=c;else for(;G!==null;){d=G;var f=d.sibling,p=d.return;if(MC(d),d===l){G=null;break}if(f!==null){f.return=p,G=f;break}G=p}}}var g=s.alternate;if(g!==null){var T=g.child;if(T!==null){g.child=null;do{var w=T.sibling;T.sibling=null,T=w}while(T!==null)}}G=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,G=a;else e:for(;G!==null;){if(s=G,s.flags&2048)switch(s.tag){case 0:case 11:case 15:mu(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,G=_;break e}G=s.return}}var E=e.current;for(G=E;G!==null;){a=G;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,G=y;else e:for(a=E;G!==null;){if(o=G,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Th(9,o)}}catch(L){qe(o,o.return,L)}if(o===a){G=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,G=k;break e}G=o.return}}if(ye=i,Xi(),_r&&typeof _r.onPostCommitFiberRoot=="function")try{_r.onPostCommitFiberRoot(hh,e)}catch{}r=!0}return r}finally{we=n,Rn.transition=t}}return!1}function ZE(e,t,n){t=Ya(n,t),t=IC(e,t,1),e=Ii(e,t,1),t=Ht(),e!==null&&(xl(e,1,t),Zt(e,t))}function qe(e,t,n){if(e.tag===3)ZE(e,e,n);else for(;t!==null;){if(t.tag===3){ZE(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Si===null||!Si.has(r))){e=Ya(n,e),e=SC(t,e,1),t=Ii(t,e,1),e=Ht(),t!==null&&(xl(t,1,e),Zt(t,e));break}}t=t.return}}function N4(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ht(),e.pingedLanes|=e.suspendedLanes&n,vt===e&&(St&n)===n&&(dt===4||dt===3&&(St&130023424)===St&&500>Ze()-Bg?Es(e,0):Ug|=n),Zt(e,t)}function YC(e,t){t===0&&(e.mode&1?(t=gc,gc<<=1,!(gc&130023424)&&(gc=4194304)):t=1);var n=Ht();e=Wr(e,t),e!==null&&(xl(e,t,n),Zt(e,n))}function R4(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),YC(e,n)}function P4(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(t),YC(e,n)}var GC;GC=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xt.current)Kt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Kt=!1,y4(e,t,n);Kt=!!(e.flags&131072)}else Kt=!1,He&&t.flags&1048576&&Xb(t,Ed,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;$c(e,t),e=t.pendingProps;var i=za(t,Lt.current);Na(t,n),i=Pg(null,t,r,e,i,n);var s=Og();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Jt(r)?(s=!0,gd(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ag(t),i.updater=yh,t.stateNode=i,i._reactInternals=t,Em(t,r,e,n),t=vm(null,t,r,!0,s,n)):(t.tag=0,He&&s&&Tg(t),Ft(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch($c(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=L4(r),e=Vn(r,e),i){case 0:t=Tm(null,t,r,e,n);break e;case 1:t=WE(null,t,r,e,n);break e;case 11:t=jE(null,t,r,e,n);break e;case 14:t=zE(null,t,r,Vn(r.type,e),n);break e}throw Error(H(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Vn(r,i),Tm(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Vn(r,i),WE(e,t,r,i,n);case 3:e:{if(NC(t),e===null)throw Error(H(387));r=t.pendingProps,s=t.memoizedState,i=s.element,rC(e,t),vd(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Ya(Error(H(423)),t),t=VE(e,t,r,n,i);break e}else if(r!==i){i=Ya(Error(H(424)),t),t=VE(e,t,r,n,i);break e}else for(dn=wi(t.stateNode.containerInfo.firstChild),fn=t,He=!0,Yn=null,n=tC(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wa(),r===i){t=Vr(e,t,n);break e}Ft(e,t,r,n)}t=t.child}return t;case 5:return iC(t),e===null&&mm(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,cm(r,i)?a=null:s!==null&&cm(r,s)&&(t.flags|=32),xC(e,t),Ft(e,t,a,n),t.child;case 6:return e===null&&mm(t),null;case 13:return RC(e,t,n);case 4:return kg(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Va(t,null,r,n):Ft(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Vn(r,i),jE(e,t,r,i,n);case 7:return Ft(e,t,t.pendingProps,n),t.child;case 8:return Ft(e,t,t.pendingProps.children,n),t.child;case 12:return Ft(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Oe(yd,r._currentValue),r._currentValue=a,s!==null)if(Zn(s.value,a)){if(s.children===i.children&&!Xt.current){t=Vr(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var u=o.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Ur(-1,n&-n),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var d=l.pending;d===null?u.next=u:(u.next=d.next,d.next=u),l.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),gm(s.return,n,t),o.lanes|=n;break}u=u.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(H(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),gm(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Ft(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Na(t,n),i=On(i),r=r(i),t.flags|=1,Ft(e,t,r,n),t.child;case 14:return r=t.type,i=Vn(r,t.pendingProps),i=Vn(r.type,i),zE(e,t,r,i,n);case 15:return AC(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Vn(r,i),$c(e,t),t.tag=1,Jt(r)?(e=!0,gd(t)):e=!1,Na(t,n),wC(t,r,i),Em(t,r,i,n),vm(null,t,r,!0,e,n);case 19:return PC(e,t,n);case 22:return kC(e,t,n)}throw Error(H(156,t.tag))};function qC(e,t){return vb(e,t)}function O4(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(e,t,n,r){return new O4(e,t,n,r)}function Wg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function L4(e){if(typeof e=="function")return Wg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ug)return 11;if(e===lg)return 14}return 2}function ki(e,t){var n=e.alternate;return n===null?(n=kn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qc(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")Wg(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case da:return ys(n.children,i,s,t);case og:a=8,i|=8;break;case zp:return e=kn(12,n,t,i|2),e.elementType=zp,e.lanes=s,e;case Wp:return e=kn(13,n,t,i),e.elementType=Wp,e.lanes=s,e;case Vp:return e=kn(19,n,t,i),e.elementType=Vp,e.lanes=s,e;case ib:return bh(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nb:a=10;break e;case rb:a=9;break e;case ug:a=11;break e;case lg:a=14;break e;case ui:a=16,r=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=kn(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function ys(e,t,n,r){return e=kn(7,e,r,t),e.lanes=n,e}function bh(e,t,n,r){return e=kn(22,e,r,t),e.elementType=ib,e.lanes=n,e.stateNode={isHidden:!1},e}function qf(e,t,n){return e=kn(6,e,null,t),e.lanes=n,e}function Kf(e,t,n){return t=kn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function D4(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xf(0),this.expirationTimes=xf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vg(e,t,n,r,i,s,a,o,u){return e=new D4(e,t,n,o,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=kn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ag(s),e}function M4(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ca,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function KC(e){if(!e)return Fi;e=e._reactInternals;e:{if(Ws(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Jt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var n=e.type;if(Jt(n))return Kb(e,n,t)}return t}function QC(e,t,n,r,i,s,a,o,u){return e=Vg(n,r,!0,e,i,s,a,o,u),e.context=KC(null),n=e.current,r=Ht(),i=Ai(n),s=Ur(r,i),s.callback=t??null,Ii(n,s,i),e.current.lanes=i,xl(e,i,r),Zt(e,r),e}function Ch(e,t,n,r){var i=t.current,s=Ht(),a=Ai(i);return n=KC(n),t.context===null?t.context=n:t.pendingContext=n,t=Ur(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ii(i,t,a),e!==null&&(Kn(e,i,a,s),zc(e,i,a)),a}function xd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ey(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function $g(e,t){ey(e,t),(e=e.alternate)&&ey(e,t)}function F4(){return null}var XC=typeof reportError=="function"?reportError:function(e){console.error(e)};function Yg(e){this._internalRoot=e}wh.prototype.render=Yg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));Ch(e,t,null,null)};wh.prototype.unmount=Yg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ns(function(){Ch(null,e,null,null)}),t[zr]=null}};function wh(e){this._internalRoot=e}wh.prototype.unstable_scheduleHydration=function(e){if(e){var t=kb();e={blockedOn:null,target:e,priority:t};for(var n=0;n<di.length&&t!==0&&t<di[n].priority;n++);di.splice(n,0,e),n===0&&Nb(e)}};function Gg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ih(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ty(){}function U4(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=xd(a);s.call(l)}}var a=QC(t,r,e,0,null,!1,!1,"",ty);return e._reactRootContainer=a,e[zr]=a.current,Yu(e.nodeType===8?e.parentNode:e),Ns(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var l=xd(u);o.call(l)}}var u=Vg(e,0,!1,null,null,!1,!1,"",ty);return e._reactRootContainer=u,e[zr]=u.current,Yu(e.nodeType===8?e.parentNode:e),Ns(function(){Ch(t,u,n,r)}),u}function Sh(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var u=xd(a);o.call(u)}}Ch(t,a,e,i)}else a=U4(n,t,e,i,r);return xd(a)}Sb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=tu(t.pendingLanes);n!==0&&(hg(t,n|1),Zt(t,Ze()),!(ye&6)&&(Ga=Ze()+500,Xi()))}break;case 13:Ns(function(){var r=Wr(e,1);if(r!==null){var i=Ht();Kn(r,e,1,i)}}),$g(e,1)}};fg=function(e){if(e.tag===13){var t=Wr(e,134217728);if(t!==null){var n=Ht();Kn(t,e,134217728,n)}$g(e,134217728)}};Ab=function(e){if(e.tag===13){var t=Ai(e),n=Wr(e,t);if(n!==null){var r=Ht();Kn(n,e,t,r)}$g(e,t)}};kb=function(){return we};xb=function(e,t){var n=we;try{return we=e,t()}finally{we=n}};em=function(e,t,n){switch(t){case"input":if(Gp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=gh(r);if(!i)throw Error(H(90));ab(r),Gp(r,i)}}}break;case"textarea":ub(e,n);break;case"select":t=n.value,t!=null&&Sa(e,!!n.multiple,t,!1)}};mb=Hg;gb=Ns;var B4={usingClientEntryPoint:!1,Events:[Rl,ma,gh,fb,pb,Hg]},Ho={findFiberByHostInstance:hs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},H4={bundleType:Ho.bundleType,version:Ho.version,rendererPackageName:Ho.rendererPackageName,rendererConfig:Ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yb(e),e===null?null:e.stateNode},findFiberByHostInstance:Ho.findFiberByHostInstance||F4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{hh=Ac.inject(H4),_r=Ac}catch{}}Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B4;Tn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gg(t))throw Error(H(200));return M4(e,t,null,n)};Tn.createRoot=function(e,t){if(!Gg(e))throw Error(H(299));var n=!1,r="",i=XC;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Vg(e,1,!1,null,null,n,!1,r,i),e[zr]=t.current,Yu(e.nodeType===8?e.parentNode:e),new Yg(t)};Tn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=yb(t),e=e===null?null:e.stateNode,e};Tn.flushSync=function(e){return Ns(e)};Tn.hydrate=function(e,t,n){if(!Ih(t))throw Error(H(200));return Sh(null,e,t,!0,n)};Tn.hydrateRoot=function(e,t,n){if(!Gg(e))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=XC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=QC(t,null,e,1,n??null,i,!1,s,a),e[zr]=t.current,Yu(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new wh(t)};Tn.render=function(e,t,n){if(!Ih(t))throw Error(H(200));return Sh(null,e,t,!1,n)};Tn.unmountComponentAtNode=function(e){if(!Ih(e))throw Error(H(40));return e._reactRootContainer?(Ns(function(){Sh(null,null,e,!1,function(){e._reactRootContainer=null,e[zr]=null})}),!0):!1};Tn.unstable_batchedUpdates=Hg;Tn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ih(n))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return Sh(e,t,n,!1,r)};Tn.version="18.3.1-next-f1338f8080-20240426";function JC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JC)}catch(e){console.error(e)}}JC(),Jv.exports=Tn;var j4=Jv.exports,ZC,ny=j4;ZC=ny.createRoot,ny.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tl(){return tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tl.apply(this,arguments)}var mi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(mi||(mi={}));const ry="popstate";function z4(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:a,hash:o}=r.location;return Om("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Nd(i)}return V4(t,n,null,e)}function ot(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ew(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function W4(){return Math.random().toString(36).substr(2,8)}function iy(e,t){return{usr:e.state,key:e.key,idx:t}}function Om(e,t,n,r){return n===void 0&&(n=null),tl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?fo(t):t,{state:n,key:t&&t.key||r||W4()})}function Nd(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function fo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function V4(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=mi.Pop,u=null,l=d();l==null&&(l=0,a.replaceState(tl({},a.state,{idx:l}),""));function d(){return(a.state||{idx:null}).idx}function c(){o=mi.Pop;let w=d(),_=w==null?null:w-l;l=w,u&&u({action:o,location:T.location,delta:_})}function f(w,_){o=mi.Push;let E=Om(T.location,w,_);l=d()+1;let y=iy(E,l),k=T.createHref(E);try{a.pushState(y,"",k)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(k)}s&&u&&u({action:o,location:T.location,delta:1})}function p(w,_){o=mi.Replace;let E=Om(T.location,w,_);l=d();let y=iy(E,l),k=T.createHref(E);a.replaceState(y,"",k),s&&u&&u({action:o,location:T.location,delta:0})}function g(w){let _=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof w=="string"?w:Nd(w);return E=E.replace(/ $/,"%20"),ot(_,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,_)}let T={get action(){return o},get location(){return e(i,a)},listen(w){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(ry,c),u=w,()=>{i.removeEventListener(ry,c),u=null}},createHref(w){return t(i,w)},createURL:g,encodeLocation(w){let _=g(w);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:p,go(w){return a.go(w)}};return T}var sy;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(sy||(sy={}));function $4(e,t,n){return n===void 0&&(n="/"),Y4(e,t,n,!1)}function Y4(e,t,n,r){let i=typeof t=="string"?fo(t):t,s=qg(i.pathname||"/",n);if(s==null)return null;let a=tw(e);G4(a);let o=null;for(let u=0;o==null&&u<a.length;++u){let l=i6(s);o=n6(a[u],l,r)}return o}function tw(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let u={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(ot(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=xi([r,u.relativePath]),d=n.concat(u);s.children&&s.children.length>0&&(ot(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),tw(s.children,t,d,l)),!(s.path==null&&!s.index)&&t.push({path:l,score:e6(l,s.index),routesMeta:d})};return e.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let u of nw(s.path))i(s,a,u)}),t}function nw(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=nw(r.join("/")),o=[];return o.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&o.push(...a),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function G4(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:t6(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const q4=/^:[\w-]+$/,K4=3,Q4=2,X4=1,J4=10,Z4=-2,ay=e=>e==="*";function e6(e,t){let n=e.split("/"),r=n.length;return n.some(ay)&&(r+=Z4),t&&(r+=Q4),n.filter(i=>!ay(i)).reduce((i,s)=>i+(q4.test(s)?K4:s===""?X4:J4),r)}function t6(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function n6(e,t,n){let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let u=r[o],l=o===r.length-1,d=s==="/"?t:t.slice(s.length)||"/",c=oy({path:u.relativePath,caseSensitive:u.caseSensitive,end:l},d),f=u.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=oy({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!c)return null;Object.assign(i,c.params),a.push({params:i,pathname:xi([s,c.pathname]),pathnameBase:u6(xi([s,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(s=xi([s,c.pathnameBase]))}return a}function oy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=r6(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((l,d,c)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let T=o[c]||"";a=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const g=o[c];return p&&!g?l[f]=void 0:l[f]=(g||"").replace(/%2F/g,"/"),l},{}),pathname:s,pathnameBase:a,pattern:e}}function r6(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ew(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,u)=>(r.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function i6(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ew(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function qg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function s6(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?fo(e):e;return{pathname:n?n.startsWith("/")?n:a6(n,t):t,search:l6(r),hash:c6(i)}}function a6(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Qf(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function o6(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function rw(e,t){let n=o6(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function iw(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=fo(e):(i=tl({},e),ot(!i.pathname||!i.pathname.includes("?"),Qf("?","pathname","search",i)),ot(!i.pathname||!i.pathname.includes("#"),Qf("#","pathname","hash",i)),ot(!i.search||!i.search.includes("#"),Qf("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let c=t.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),c-=1;i.pathname=f.join("/")}o=c>=0?t[c]:"/"}let u=s6(i,o),l=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||d)&&(u.pathname+="/"),u}const xi=e=>e.join("/").replace(/\/\/+/g,"/"),u6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),l6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,c6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function d6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const sw=["post","put","patch","delete"];new Set(sw);const h6=["get",...sw];new Set(h6);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nl(){return nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nl.apply(this,arguments)}const Kg=R.createContext(null),f6=R.createContext(null),Vs=R.createContext(null),Ah=R.createContext(null),Ji=R.createContext({outlet:null,matches:[],isDataRoute:!1}),aw=R.createContext(null);function p6(e,t){let{relative:n}=t===void 0?{}:t;Ol()||ot(!1);let{basename:r,navigator:i}=R.useContext(Vs),{hash:s,pathname:a,search:o}=lw(e,{relative:n}),u=a;return r!=="/"&&(u=a==="/"?r:xi([r,a])),i.createHref({pathname:u,search:o,hash:s})}function Ol(){return R.useContext(Ah)!=null}function Zi(){return Ol()||ot(!1),R.useContext(Ah).location}function ow(e){R.useContext(Vs).static||R.useLayoutEffect(e)}function Fn(){let{isDataRoute:e}=R.useContext(Ji);return e?A6():m6()}function m6(){Ol()||ot(!1);let e=R.useContext(Kg),{basename:t,future:n,navigator:r}=R.useContext(Vs),{matches:i}=R.useContext(Ji),{pathname:s}=Zi(),a=JSON.stringify(rw(i,n.v7_relativeSplatPath)),o=R.useRef(!1);return ow(()=>{o.current=!0}),R.useCallback(function(l,d){if(d===void 0&&(d={}),!o.current)return;if(typeof l=="number"){r.go(l);return}let c=iw(l,JSON.parse(a),s,d.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:xi([t,c.pathname])),(d.replace?r.replace:r.push)(c,d.state,d)},[t,r,a,s,e])}function uw(){let{matches:e}=R.useContext(Ji),t=e[e.length-1];return t?t.params:{}}function lw(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=R.useContext(Vs),{matches:i}=R.useContext(Ji),{pathname:s}=Zi(),a=JSON.stringify(rw(i,r.v7_relativeSplatPath));return R.useMemo(()=>iw(e,JSON.parse(a),s,n==="path"),[e,a,s,n])}function g6(e,t){return _6(e,t)}function _6(e,t,n,r){Ol()||ot(!1);let{navigator:i}=R.useContext(Vs),{matches:s}=R.useContext(Ji),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let l=Zi(),d;if(t){var c;let w=typeof t=="string"?fo(t):t;u==="/"||(c=w.pathname)!=null&&c.startsWith(u)||ot(!1),d=w}else d=l;let f=d.pathname||"/",p=f;if(u!=="/"){let w=u.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=$4(e,{pathname:p}),T=b6(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:xi([u,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:xi([u,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return t&&T?R.createElement(Ah.Provider,{value:{location:nl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:mi.Pop}},T):T}function E6(){let e=S6(),t=d6(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},t),n?R.createElement("pre",{style:i},n):null,null)}const y6=R.createElement(E6,null);class T6 extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?R.createElement(Ji.Provider,{value:this.props.routeContext},R.createElement(aw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function v6(e){let{routeContext:t,match:n,children:r}=e,i=R.useContext(Kg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(Ji.Provider,{value:t},r)}function b6(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=(i=n)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id])!==void 0);d>=0||ot(!1),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let c=a[d];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(l=d),c.route.id){let{loaderData:f,errors:p}=n,g=c.route.loader&&f[c.route.id]===void 0&&(!p||p[c.route.id]===void 0);if(c.route.lazy||g){u=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((d,c,f)=>{let p,g=!1,T=null,w=null;n&&(p=o&&c.route.id?o[c.route.id]:void 0,T=c.route.errorElement||y6,u&&(l<0&&f===0?(g=!0,w=null):l===f&&(g=!0,w=c.route.hydrateFallbackElement||null)));let _=t.concat(a.slice(0,f+1)),E=()=>{let y;return p?y=T:g?y=w:c.route.Component?y=R.createElement(c.route.Component,null):c.route.element?y=c.route.element:y=d,R.createElement(v6,{match:c,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:y})};return n&&(c.route.ErrorBoundary||c.route.errorElement||f===0)?R.createElement(T6,{location:n.location,revalidation:n.revalidation,component:T,error:p,children:E(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):E()},null)}var cw=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(cw||{}),Rd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Rd||{});function C6(e){let t=R.useContext(Kg);return t||ot(!1),t}function w6(e){let t=R.useContext(f6);return t||ot(!1),t}function I6(e){let t=R.useContext(Ji);return t||ot(!1),t}function dw(e){let t=I6(),n=t.matches[t.matches.length-1];return n.route.id||ot(!1),n.route.id}function S6(){var e;let t=R.useContext(aw),n=w6(Rd.UseRouteError),r=dw(Rd.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function A6(){let{router:e}=C6(cw.UseNavigateStable),t=dw(Rd.UseNavigateStable),n=R.useRef(!1);return ow(()=>{n.current=!0}),R.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,nl({fromRouteId:t},s)))},[e,t])}const uy={};function k6(e,t){uy[t]||(uy[t]=!0,console.warn(t))}const ly=(e,t,n)=>k6(e," React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function x6(e,t){e!=null&&e.v7_startTransition||ly("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(e!=null&&e.v7_relativeSplatPath)&&!t&&ly("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function hw(e){ot(!1)}function N6(e){let{basename:t="/",children:n=null,location:r,navigationType:i=mi.Pop,navigator:s,static:a=!1,future:o}=e;Ol()&&ot(!1);let u=t.replace(/^\/*/,"/"),l=R.useMemo(()=>({basename:u,navigator:s,static:a,future:nl({v7_relativeSplatPath:!1},o)}),[u,o,s,a]);typeof r=="string"&&(r=fo(r));let{pathname:d="/",search:c="",hash:f="",state:p=null,key:g="default"}=r,T=R.useMemo(()=>{let w=qg(d,u);return w==null?null:{location:{pathname:w,search:c,hash:f,state:p,key:g},navigationType:i}},[u,d,c,f,p,g,i]);return T==null?null:R.createElement(Vs.Provider,{value:l},R.createElement(Ah.Provider,{children:n,value:T}))}function R6(e){let{children:t,location:n}=e;return g6(Lm(t),n)}new Promise(()=>{});function Lm(e,t){t===void 0&&(t=[]);let n=[];return R.Children.forEach(e,(r,i)=>{if(!R.isValidElement(r))return;let s=[...t,i];if(r.type===R.Fragment){n.push.apply(n,Lm(r.props.children,s));return}r.type!==hw&&ot(!1),!r.props.index||!r.props.children||ot(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Lm(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dm(){return Dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dm.apply(this,arguments)}function P6(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function O6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function L6(e,t){return e.button===0&&(!t||t==="_self")&&!O6(e)}const D6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],M6="6";try{window.__reactRouterVersion=M6}catch{}const F6="startTransition",cy=Nx[F6];function U6(e){let{basename:t,children:n,future:r,window:i}=e,s=R.useRef();s.current==null&&(s.current=z4({window:i,v5Compat:!0}));let a=s.current,[o,u]=R.useState({action:a.action,location:a.location}),{v7_startTransition:l}=r||{},d=R.useCallback(c=>{l&&cy?cy(()=>u(c)):u(c)},[u,l]);return R.useLayoutEffect(()=>a.listen(d),[a,d]),R.useEffect(()=>x6(r),[r]),R.createElement(N6,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const B6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",H6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ll=R.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:u,to:l,preventScrollReset:d,viewTransition:c}=t,f=P6(t,D6),{basename:p}=R.useContext(Vs),g,T=!1;if(typeof l=="string"&&H6.test(l)&&(g=l,B6))try{let y=new URL(window.location.href),k=l.startsWith("//")?new URL(y.protocol+l):new URL(l),L=qg(k.pathname,p);k.origin===y.origin&&L!=null?l=L+k.search+k.hash:T=!0}catch{}let w=p6(l,{relative:i}),_=j6(l,{replace:a,state:o,target:u,preventScrollReset:d,relative:i,viewTransition:c});function E(y){r&&r(y),y.defaultPrevented||_(y)}return R.createElement("a",Dm({},f,{href:g||w,onClick:T||s?r:E,ref:n,target:u}))});var dy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(dy||(dy={}));var hy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(hy||(hy={}));function j6(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=t===void 0?{}:t,u=Fn(),l=Zi(),d=lw(e,{relative:a});return R.useCallback(c=>{if(L6(c,n)){c.preventDefault();let f=r!==void 0?r:Nd(l)===Nd(d);u(e,{replace:f,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[l,u,d,r,i,n,e,s,a,o])}const z6={prefix:"fas",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M135.2 17.7C140.6 6.8 151.7 0 163.8 0L284.2 0c12.1 0 23.2 6.8 28.6 17.7L320 32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 7.2-14.3zM32 128l384 0 0 320c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-320zm96 64c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16z"]},W6={prefix:"fas",iconName:"message",icon:[512,512,["comment-alt"],"f27a","M64 0C28.7 0 0 28.7 0 64L0 352c0 35.3 28.7 64 64 64l96 0 0 80c0 6.1 3.4 11.6 8.8 14.3s11.9 2.1 16.8-1.5L309.3 416 448 416c35.3 0 64-28.7 64-64l0-288c0-35.3-28.7-64-64-64L64 0z"]},V6={prefix:"fas",iconName:"comments",icon:[640,512,[128490,61670],"f086","M208 352c114.9 0 208-78.8 208-176S322.9 0 208 0S0 78.8 0 176c0 38.6 14.7 74.3 39.6 103.4c-3.5 9.4-8.7 17.7-14.2 24.7c-4.8 6.2-9.7 11-13.3 14.3c-1.8 1.6-3.3 2.9-4.3 3.7c-.5 .4-.9 .7-1.1 .8l-.2 .2s0 0 0 0s0 0 0 0C1 327.2-1.4 334.4 .8 340.9S9.1 352 16 352c21.8 0 43.8-5.6 62.1-12.5c9.2-3.5 17.8-7.4 25.2-11.4C134.1 343.3 169.8 352 208 352zM448 176c0 112.3-99.1 196.9-216.5 207C255.8 457.4 336.4 512 432 512c38.2 0 73.9-8.7 104.7-23.9c7.5 4 16 7.9 25.2 11.4c18.3 6.9 40.3 12.5 62.1 12.5c6.9 0 13.1-4.5 15.2-11.1c2.1-6.6-.2-13.8-5.8-17.9c0 0 0 0 0 0s0 0 0 0l-.2-.2c-.2-.2-.6-.4-1.1-.8c-1-.8-2.5-2-4.3-3.7c-3.6-3.3-8.5-8.1-13.3-14.3c-5.5-7-10.7-15.4-14.2-24.7c24.9-29 39.6-64.7 39.6-103.4c0-92.8-84.9-168.9-192.6-175.5c.4 5.1 .6 10.3 .6 15.5z"]},$6={prefix:"fas",iconName:"share-nodes",icon:[448,512,["share-alt"],"f1e0","M352 224c53 0 96-43 96-96s-43-96-96-96s-96 43-96 96c0 4 .2 8 .7 11.9l-94.1 47C145.4 170.2 121.9 160 96 160c-53 0-96 43-96 96s43 96 96 96c25.9 0 49.4-10.2 66.6-26.9l94.1 47c-.5 3.9-.7 7.8-.7 11.9c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-25.9 0-49.4 10.2-66.6 26.9l-94.1-47c.5-3.9 .7-7.8 .7-11.9s-.2-8-.7-11.9l94.1-47C302.6 213.8 326.1 224 352 224z"]},Y6=$6,G6={prefix:"fas",iconName:"face-kiss",icon:[512,512,[128535,"kiss"],"f596","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm48.7-198.3c4.3 5.1 7.3 11.4 7.3 18.3s-3.1 13.2-7.3 18.3c-4.3 5.2-10.1 9.7-16.7 13.4c-2.7 1.5-5.7 3-8.7 4.3c3.1 1.3 6 2.7 8.7 4.3c6.6 3.7 12.5 8.2 16.7 13.4c4.3 5.1 7.3 11.4 7.3 18.3s-3.1 13.2-7.3 18.3c-4.3 5.2-10.1 9.7-16.7 13.4C274.7 443.1 257.4 448 240 448c-3.6 0-6.8-2.5-7.7-6s.6-7.2 3.8-9c0 0 0 0 0 0s0 0 0 0s0 0 0 0c0 0 0 0 0 0l.2-.1c.2-.1 .5-.3 .9-.5c.8-.5 2-1.2 3.4-2.1c2.8-1.9 6.5-4.5 10.2-7.6c3.7-3.1 7.2-6.6 9.6-10.1c2.5-3.5 3.5-6.4 3.5-8.6s-1-5-3.5-8.6c-2.5-3.5-5.9-6.9-9.6-10.1c-3.7-3.1-7.4-5.7-10.2-7.6c-1.4-.9-2.6-1.6-3.4-2.1c-.4-.2-.7-.4-.9-.5l-.2-.1c0 0 0 0 0 0c0 0 0 0 0 0s0 0 0 0c-2.5-1.4-4.1-4.1-4.1-7s1.6-5.6 4.1-7c0 0 0 0 0 0s0 0 0 0s0 0 0 0s0 0 0 0c0 0 0 0 0 0l.2-.1 .3-.2 .6-.4c.8-.5 2-1.2 3.4-2.1c2.8-1.9 6.5-4.5 10.2-7.6c3.7-3.1 7.2-6.6 9.6-10.1c2.5-3.5 3.5-6.4 3.5-8.6s-1-5-3.5-8.6c-2.5-3.5-5.9-6.9-9.6-10.1c-3.7-3.1-7.4-5.7-10.2-7.6c-1.4-.9-2.6-1.6-3.4-2.1l-.4-.3-.5-.3-.2-.1c0 0 0 0 0 0c0 0 0 0 0 0s0 0 0 0c-3.2-1.8-4.7-5.5-3.8-9s4.1-6 7.7-6c17.4 0 34.7 4.9 47.9 12.3c6.6 3.7 12.5 8.2 16.7 13.4zM144.4 208a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm192-32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},fw={prefix:"fas",iconName:"wand-magic-sparkles",icon:[576,512,["magic-wand-sparkles"],"e2ca","M234.7 42.7L197 56.8c-3 1.1-5 4-5 7.2s2 6.1 5 7.2l37.7 14.1L248.8 123c1.1 3 4 5 7.2 5s6.1-2 7.2-5l14.1-37.7L315 71.2c3-1.1 5-4 5-7.2s-2-6.1-5-7.2L277.3 42.7 263.2 5c-1.1-3-4-5-7.2-5s-6.1 2-7.2 5L234.7 42.7zM46.1 395.4c-18.7 18.7-18.7 49.1 0 67.9l34.6 34.6c18.7 18.7 49.1 18.7 67.9 0L529.9 116.5c18.7-18.7 18.7-49.1 0-67.9L495.3 14.1c-18.7-18.7-49.1-18.7-67.9 0L46.1 395.4zM484.6 82.6l-105 105-23.3-23.3 105-105 23.3 23.3zM7.5 117.2C3 118.9 0 123.2 0 128s3 9.1 7.5 10.8L64 160l21.2 56.5c1.7 4.5 6 7.5 10.8 7.5s9.1-3 10.8-7.5L128 160l56.5-21.2c4.5-1.7 7.5-6 7.5-10.8s-3-9.1-7.5-10.8L128 96 106.8 39.5C105.1 35 100.8 32 96 32s-9.1 3-10.8 7.5L64 96 7.5 117.2zm352 256c-4.5 1.7-7.5 6-7.5 10.8s3 9.1 7.5 10.8L416 416l21.2 56.5c1.7 4.5 6 7.5 10.8 7.5s9.1-3 10.8-7.5L480 416l56.5-21.2c4.5-1.7 7.5-6 7.5-10.8s-3-9.1-7.5-10.8L480 352l-21.2-56.5c-1.7-4.5-6-7.5-10.8-7.5s-9.1 3-10.8 7.5L416 352l-56.5 21.2z"]},q6={prefix:"fas",iconName:"crown",icon:[576,512,[128081],"f521","M309 106c11.4-7 19-19.7 19-34c0-22.1-17.9-40-40-40s-40 17.9-40 40c0 14.4 7.6 27 19 34L209.7 220.6c-9.1 18.2-32.7 23.4-48.6 10.7L72 160c5-6.7 8-15 8-24c0-22.1-17.9-40-40-40S0 113.9 0 136s17.9 40 40 40c.2 0 .5 0 .7 0L86.4 427.4c5.5 30.4 32 52.6 63 52.6l277.2 0c30.9 0 57.4-22.1 63-52.6L535.3 176c.2 0 .5 0 .7 0c22.1 0 40-17.9 40-40s-17.9-40-40-40s-40 17.9-40 40c0 9 3 17.3 8 24l-89.1 71.3c-15.9 12.7-39.5 7.5-48.6-10.7L309 106z"]},K6={prefix:"fas",iconName:"file-arrow-up",icon:[384,512,["file-upload"],"f574","M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-288-128 0c-17.7 0-32-14.3-32-32L224 0 64 0zM256 0l0 128 128 0L256 0zM216 408c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-102.1-31 31c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l72-72c9.4-9.4 24.6-9.4 33.9 0l72 72c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-31-31L216 408z"]},Q6=K6,X6={prefix:"fas",iconName:"image",icon:[512,512,[],"f03e","M0 96C0 60.7 28.7 32 64 32l384 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zM323.8 202.5c-4.5-6.6-11.9-10.5-19.8-10.5s-15.4 3.9-19.8 10.5l-87 127.6L170.7 297c-4.6-5.7-11.5-9-18.7-9s-14.2 3.3-18.7 9l-64 80c-5.8 7.2-6.9 17.1-2.9 25.4s12.4 13.6 21.6 13.6l96 0 32 0 208 0c8.9 0 17.1-4.9 21.2-12.8s3.6-17.4-1.4-24.7l-120-176zM112 192a48 48 0 1 0 0-96 48 48 0 1 0 0 96z"]},J6={prefix:"fas",iconName:"arrows-rotate",icon:[512,512,[128472,"refresh","sync"],"f021","M105.1 202.6c7.7-21.8 20.2-42.3 37.8-59.8c62.5-62.5 163.8-62.5 226.3 0L386.3 160 352 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l111.5 0c0 0 0 0 0 0l.4 0c17.7 0 32-14.3 32-32l0-112c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 35.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0C73.2 122 55.6 150.7 44.8 181.4c-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5zM39 289.3c-5 1.5-9.8 4.2-13.7 8.2c-4 4-6.7 8.8-8.1 14c-.3 1.2-.6 2.5-.8 3.8c-.3 1.7-.4 3.4-.4 5.1L16 432c0 17.7 14.3 32 32 32s32-14.3 32-32l0-35.1 17.6 17.5c0 0 0 0 0 0c87.5 87.4 229.3 87.4 316.7 0c24.4-24.4 42.1-53.1 52.9-83.8c5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8c-62.5 62.5-163.8 62.5-226.3 0l-.1-.1L125.6 352l34.4 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L48.4 288c-1.6 0-3.2 .1-4.8 .3s-3.1 .5-4.6 1z"]},Z6=J6,eR={prefix:"fas",iconName:"layer-group",icon:[576,512,[],"f5fd","M264.5 5.2c14.9-6.9 32.1-6.9 47 0l218.6 101c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L45.9 149.8C37.4 145.8 32 137.3 32 128s5.4-17.9 13.9-21.8L264.5 5.2zM476.9 209.6l53.2 24.6c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L45.9 277.8C37.4 273.8 32 265.3 32 256s5.4-17.9 13.9-21.8l53.2-24.6 152 70.2c23.4 10.8 50.4 10.8 73.8 0l152-70.2zm-152 198.2l152-70.2 53.2 24.6c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L45.9 405.8C37.4 401.8 32 393.3 32 384s5.4-17.9 13.9-21.8l53.2-24.6 152 70.2c23.4 10.8 50.4 10.8 73.8 0z"]},tR={prefix:"fas",iconName:"code-branch",icon:[448,512,[],"f126","M80 104a24 24 0 1 0 0-48 24 24 0 1 0 0 48zm80-24c0 32.8-19.7 61-48 73.3l0 87.8c18.8-10.9 40.7-17.1 64-17.1l96 0c35.3 0 64-28.7 64-64l0-6.7C307.7 141 288 112.8 288 80c0-44.2 35.8-80 80-80s80 35.8 80 80c0 32.8-19.7 61-48 73.3l0 6.7c0 70.7-57.3 128-128 128l-96 0c-35.3 0-64 28.7-64 64l0 6.7c28.3 12.3 48 40.5 48 73.3c0 44.2-35.8 80-80 80s-80-35.8-80-80c0-32.8 19.7-61 48-73.3l0-6.7 0-198.7C19.7 141 0 112.8 0 80C0 35.8 35.8 0 80 0s80 35.8 80 80zm232 0a24 24 0 1 0 -48 0 24 24 0 1 0 48 0zM80 456a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"]},nR={prefix:"fas",iconName:"face-frown",icon:[512,512,[9785,"frown"],"f119","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM159.3 388.7c-2.6 8.4-11.6 13.2-20 10.5s-13.2-11.6-10.5-20C145.2 326.1 196.3 288 256 288s110.8 38.1 127.3 91.3c2.6 8.4-2.1 17.4-10.5 20s-17.4-2.1-20-10.5C340.5 349.4 302.1 320 256 320s-84.5 29.4-96.7 68.7zM144.4 208a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm192-32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},rR={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-7.2-14.3C307.4 6.8 296.3 0 284.2 0L163.8 0c-12.1 0-23.2 6.8-28.6 17.7zM416 128L32 128 53.2 467c1.6 25.3 22.6 45 47.9 45l245.8 0c25.3 0 46.3-19.7 47.9-45L416 128z"]},iR={prefix:"fas",iconName:"poo",icon:[512,512,[128169],"f2fe","M268.9 .9c-5.5-.7-11 1.4-14.5 5.7s-4.6 10.1-2.8 15.4c2.8 8.2 4.3 16.9 4.3 26.1c0 44.1-35.7 79.9-79.8 80L160 128c-35.3 0-64 28.7-64 64c0 19.1 8.4 36.3 21.7 48L104 240c-39.8 0-72 32.2-72 72c0 23.2 11 43.8 28 57c-34.1 5.7-60 35.3-60 71c0 39.8 32.2 72 72 72l368 0c39.8 0 72-32.2 72-72c0-35.7-25.9-65.3-60-71c17-13.2 28-33.8 28-57c0-39.8-32.2-72-72-72l-13.7 0c13.3-11.7 21.7-28.9 21.7-48c0-35.3-28.7-64-64-64l-5.5 0c3.5-10 5.5-20.8 5.5-32c0-48.6-36.2-88.8-83.1-95.1zM192 256a32 32 0 1 1 0 64 32 32 0 1 1 0-64zm96 32a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm64 108.3c0 2.4-.7 4.8-2.2 6.7c-8.2 10.5-39.5 45-93.8 45s-85.6-34.6-93.8-45c-1.5-1.9-2.2-4.3-2.2-6.7c0-6.8 5.5-12.3 12.3-12.3l167.4 0c6.8 0 12.3 5.5 12.3 12.3z"]},sR={prefix:"fas",iconName:"up-right-from-square",icon:[512,512,["external-link-alt"],"f35d","M352 0c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9L370.7 96 201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L416 141.3l41.4 41.4c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6l0-128c0-17.7-14.3-32-32-32L352 0zM80 32C35.8 32 0 67.8 0 112L0 432c0 44.2 35.8 80 80 80l320 0c44.2 0 80-35.8 80-80l0-112c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 112c0 8.8-7.2 16-16 16L80 448c-8.8 0-16-7.2-16-16l0-320c0-8.8 7.2-16 16-16l112 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 32z"]},pw={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},aR={prefix:"fas",iconName:"face-meh",icon:[512,512,[128528,"meh"],"f11a","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM176.4 176a32 32 0 1 1 0 64 32 32 0 1 1 0-64zm128 32a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zM160 336l192 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-192 0c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]},oR={prefix:"fas",iconName:"house",icon:[576,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5c0 18-15 32.1-32 32.1l-32 0 .7 160.2c0 2.7-.2 5.4-.5 8.1l0 16.2c0 22.1-17.9 40-40 40l-16 0c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1L416 512l-24 0c-22.1 0-40-17.9-40-40l0-24 0-64c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32 14.3-32 32l0 64 0 24c0 22.1-17.9 40-40 40l-24 0-31.9 0c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2l-16 0c-22.1 0-40-17.9-40-40l0-112c0-.9 0-1.9 .1-2.8l0-69.7-32 0c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"]},uR=oR,lR={prefix:"fas",iconName:"file",icon:[384,512,[128196,128459,61462],"f15b","M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 288c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128z"]},mw={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},gw=mw,Mm={prefix:"fas",iconName:"chevron-down",icon:[512,512,[],"f078","M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},_w={prefix:"fas",iconName:"arrow-up",icon:[384,512,[8593],"f062","M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2 160 448c0 17.7 14.3 32 32 32s32-14.3 32-32l0-306.7L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"]},cR={prefix:"fas",iconName:"copy",icon:[448,512,[],"f0c5","M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"]},dR={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"]},hR={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},fR=hR,pR={prefix:"fas",iconName:"face-smile",icon:[512,512,[128578,"smile"],"f118","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM164.1 325.5C182 346.2 212.6 368 256 368s74-21.8 91.9-42.5c5.8-6.7 15.9-7.4 22.6-1.6s7.4 15.9 1.6 22.6C349.8 372.1 311.1 400 256 400s-93.8-27.9-116.1-53.5c-5.8-6.7-5.1-16.8 1.6-22.6s16.8-5.1 22.6 1.6zM144.4 208a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm192-32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},mR={prefix:"fas",iconName:"arrow-up-z-a",icon:[576,512,["sort-alpha-up-alt"],"f882","M183.6 42.4C177.5 35.8 169 32 160 32s-17.5 3.8-23.6 10.4l-88 96c-11.9 13-11.1 33.3 2 45.2s33.3 11.1 45.2-2L128 146.3 128 448c0 17.7 14.3 32 32 32s32-14.3 32-32l0-301.7 32.4 35.4c11.9 13 32.2 13.9 45.2 2s13.9-32.2 2-45.2l-88-96zM320 64c0 17.7 14.3 32 32 32l50.7 0-73.4 73.4c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8l128 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-50.7 0 73.4-73.4c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L352 32c-17.7 0-32 14.3-32 32zm96 192c-12.1 0-23.2 6.8-28.6 17.7l-64 128-16 32c-7.9 15.8-1.5 35 14.3 42.9s35 1.5 42.9-14.3l7.2-14.3 88.4 0 7.2 14.3c7.9 15.8 27.1 22.2 42.9 14.3s22.2-27.1 14.3-42.9l-16-32-64-128C439.2 262.8 428.1 256 416 256zM395.8 400L416 359.6 436.2 400l-40.4 0z"]},gR={prefix:"fas",iconName:"face-angry",icon:[512,512,[128544,"angry"],"f556","M0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zM338.7 395.9c6.6-5.9 7.1-16 1.2-22.6C323.8 355.4 295.7 336 256 336s-67.8 19.4-83.9 37.3c-5.9 6.6-5.4 16.7 1.2 22.6s16.7 5.4 22.6-1.2c11.7-13 31.6-26.7 60.1-26.7s48.4 13.7 60.1 26.7c5.9 6.6 16 7.1 22.6 1.2zM176.4 272c17.7 0 32-14.3 32-32c0-1.5-.1-3-.3-4.4l10.9 3.6c8.4 2.8 17.4-1.7 20.2-10.1s-1.7-17.4-10.1-20.2l-96-32c-8.4-2.8-17.4 1.7-20.2 10.1s1.7 17.4 10.1 20.2l30.7 10.2c-5.8 5.8-9.3 13.8-9.3 22.6c0 17.7 14.3 32 32 32zm192-32c0-8.9-3.6-17-9.5-22.8l30.2-10.1c8.4-2.8 12.9-11.9 10.1-20.2s-11.9-12.9-20.2-10.1l-96 32c-8.4 2.8-12.9 11.9-10.1 20.2s11.9 12.9 20.2 10.1l11.7-3.9c-.2 1.5-.3 3.1-.3 4.7c0 17.7 14.3 32 32 32s32-14.3 32-32z"]},fy={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},_R={prefix:"fas",iconName:"dice",icon:[640,512,[127922],"f522","M274.9 34.3c-28.1-28.1-73.7-28.1-101.8 0L34.3 173.1c-28.1 28.1-28.1 73.7 0 101.8L173.1 413.7c28.1 28.1 73.7 28.1 101.8 0L413.7 274.9c28.1-28.1 28.1-73.7 0-101.8L274.9 34.3zM200 224a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zM96 200a24 24 0 1 1 0 48 24 24 0 1 1 0-48zM224 376a24 24 0 1 1 0-48 24 24 0 1 1 0 48zM352 200a24 24 0 1 1 0 48 24 24 0 1 1 0-48zM224 120a24 24 0 1 1 0-48 24 24 0 1 1 0 48zm96 328c0 35.3 28.7 64 64 64l192 0c35.3 0 64-28.7 64-64l0-192c0-35.3-28.7-64-64-64l-114.3 0c11.6 36 3.1 77-25.4 105.5L320 413.8l0 34.2zM480 328a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},ER={prefix:"fas",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"]},yR=ER,TR={prefix:"fas",iconName:"face-sad-tear",icon:[512,512,[128546,"sad-tear"],"f5b4","M0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zm240 80c0-8.8 7.2-16 16-16c45 0 85.6 20.5 115.7 53.1c6 6.5 5.6 16.6-.9 22.6s-16.6 5.6-22.6-.9c-25-27.1-57.4-42.9-92.3-42.9c-8.8 0-16-7.2-16-16zm-80 80c-26.5 0-48-21-48-47c0-20 28.6-60.4 41.6-77.7c3.2-4.4 9.6-4.4 12.8 0C179.6 308.6 208 349 208 369c0 26-21.5 47-48 47zM367.6 208a32 32 0 1 1 -64 0 32 32 0 1 1 64 0zm-192-32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},vR={prefix:"fas",iconName:"graduation-cap",icon:[640,512,[127891,"mortar-board"],"f19d","M320 32c-8.1 0-16.1 1.4-23.7 4.1L15.8 137.4C6.3 140.9 0 149.9 0 160s6.3 19.1 15.8 22.6l57.9 20.9C57.3 229.3 48 259.8 48 291.9l0 28.1c0 28.4-10.8 57.7-22.3 80.8c-6.5 13-13.9 25.8-22.5 37.6C0 442.7-.9 448.3 .9 453.4s6 8.9 11.2 10.2l64 16c4.2 1.1 8.7 .3 12.4-2s6.3-6.1 7.1-10.4c8.6-42.8 4.3-81.2-2.1-108.7C90.3 344.3 86 329.8 80 316.5l0-24.6c0-30.2 10.2-58.7 27.9-81.5c12.9-15.5 29.6-28 49.2-35.7l157-61.7c8.2-3.2 17.5 .8 20.7 9s-.8 17.5-9 20.7l-157 61.7c-12.4 4.9-23.3 12.4-32.2 21.6l159.6 57.6c7.6 2.7 15.6 4.1 23.7 4.1s16.1-1.4 23.7-4.1L624.2 182.6c9.5-3.4 15.8-12.5 15.8-22.6s-6.3-19.1-15.8-22.6L343.7 36.1C336.1 33.4 328.1 32 320 32zM128 408c0 35.3 86 72 192 72s192-36.7 192-72L496.7 262.6 354.5 314c-11.1 4-22.8 6-34.5 6s-23.5-2-34.5-6L143.3 262.6 128 408z"]},py=()=>{};let Qg={},Ew={},yw=null,Tw={mark:py,measure:py};try{typeof window<"u"&&(Qg=window),typeof document<"u"&&(Ew=document),typeof MutationObserver<"u"&&(yw=MutationObserver),typeof performance<"u"&&(Tw=performance)}catch{}const{userAgent:my=""}=Qg.navigator||{},Ui=Qg,Ue=Ew,gy=yw,kc=Tw;Ui.document;const Xr=!!Ue.documentElement&&!!Ue.head&&typeof Ue.addEventListener=="function"&&typeof Ue.createElement=="function",vw=~my.indexOf("MSIE")||~my.indexOf("Trident/");var ze="classic",bw="duotone",pn="sharp",mn="sharp-duotone",bR=[ze,bw,pn,mn],CR={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds"}},_y={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},wR=["kit"],IR=/fa(s|r|l|t|d|b|k|kd|ss|sr|sl|st|sds)?[\-\ ]/,SR=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,AR={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},kR={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds"}},xR={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds"}},NR={classic:["fas","far","fal","fat"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds"]},RR={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid"}},PR={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds"}},Cw={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid"}},OR=["solid","regular","light","thin","duotone","brands"],ww=[1,2,3,4,5,6,7,8,9,10],LR=ww.concat([11,12,13,14,15,16,17,18,19,20]),ru={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},DR=[...Object.keys(NR),...OR,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",ru.GROUP,ru.SWAP_OPACITY,ru.PRIMARY,ru.SECONDARY].concat(ww.map(e=>"".concat(e,"x"))).concat(LR.map(e=>"w-".concat(e))),MR={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},FR={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},UR={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},Ey={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}};const $r="___FONT_AWESOME___",Fm=16,Iw="fa",Sw="svg-inline--fa",Rs="data-fa-i2svg",Um="data-fa-pseudo-element",BR="data-fa-pseudo-element-pending",Xg="data-prefix",Jg="data-icon",yy="fontawesome-i2svg",HR="async",jR=["HTML","HEAD","STYLE","SCRIPT"],Aw=(()=>{try{return!0}catch{return!1}})(),kw=[ze,pn,mn];function Dl(e){return new Proxy(e,{get(t,n){return n in t?t[n]:t[ze]}})}const xw={...Cw};xw[ze]={...Cw[ze],..._y.kit,..._y["kit-duotone"]};const Ts=Dl(xw),Bm={...PR};Bm[ze]={...Bm[ze],...Ey.kit,...Ey["kit-duotone"]};const rl=Dl(Bm),Hm={...RR};Hm[ze]={...Hm[ze],...UR.kit};const vs=Dl(Hm),jm={...xR};jm[ze]={...jm[ze],...FR.kit};const zR=Dl(jm),WR=IR,Nw="fa-layers-text",VR=SR,$R={...CR};Dl($R);const YR=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Xf=ru,qa=new Set;Object.keys(rl[ze]).map(qa.add.bind(qa));Object.keys(rl[pn]).map(qa.add.bind(qa));Object.keys(rl[mn]).map(qa.add.bind(qa));const GR=[...wR,...DR],Eu=Ui.FontAwesomeConfig||{};function qR(e){var t=Ue.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}function KR(e){return e===""?!0:e==="false"?!1:e==="true"?!0:e}Ue&&typeof Ue.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(t=>{let[n,r]=t;const i=KR(qR(n));i!=null&&(Eu[r]=i)});const Rw={styleDefault:"solid",familyDefault:"classic",cssPrefix:Iw,replacementClass:Sw,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Eu.familyPrefix&&(Eu.cssPrefix=Eu.familyPrefix);const Ka={...Rw,...Eu};Ka.autoReplaceSvg||(Ka.observeMutations=!1);const q={};Object.keys(Rw).forEach(e=>{Object.defineProperty(q,e,{enumerable:!0,set:function(t){Ka[e]=t,yu.forEach(n=>n(q))},get:function(){return Ka[e]}})});Object.defineProperty(q,"familyPrefix",{enumerable:!0,set:function(e){Ka.cssPrefix=e,yu.forEach(t=>t(q))},get:function(){return Ka.cssPrefix}});Ui.FontAwesomeConfig=q;const yu=[];function QR(e){return yu.push(e),()=>{yu.splice(yu.indexOf(e),1)}}const ri=Fm,pr={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function XR(e){if(!e||!Xr)return;const t=Ue.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;const n=Ue.head.childNodes;let r=null;for(let i=n.length-1;i>-1;i--){const s=n[i],a=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=s)}return Ue.head.insertBefore(t,r),e}const JR="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function il(){let e=12,t="";for(;e-- >0;)t+=JR[Math.random()*62|0];return t}function po(e){const t=[];for(let n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function Zg(e){return e.classList?po(e.classList):(e.getAttribute("class")||"").split(" ").filter(t=>t)}function Pw(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ZR(e){return Object.keys(e||{}).reduce((t,n)=>t+"".concat(n,'="').concat(Pw(e[n]),'" '),"").trim()}function kh(e){return Object.keys(e||{}).reduce((t,n)=>t+"".concat(n,": ").concat(e[n].trim(),";"),"")}function e1(e){return e.size!==pr.size||e.x!==pr.x||e.y!==pr.y||e.rotate!==pr.rotate||e.flipX||e.flipY}function eP(e){let{transform:t,containerWidth:n,iconWidth:r}=e;const i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(t.x*32,", ").concat(t.y*32,") "),a="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),o="rotate(".concat(t.rotate," 0 0)"),u={transform:"".concat(s," ").concat(a," ").concat(o)},l={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:u,path:l}}function tP(e){let{transform:t,width:n=Fm,height:r=Fm,startCentered:i=!1}=e,s="";return i&&vw?s+="translate(".concat(t.x/ri-n/2,"em, ").concat(t.y/ri-r/2,"em) "):i?s+="translate(calc(-50% + ".concat(t.x/ri,"em), calc(-50% + ").concat(t.y/ri,"em)) "):s+="translate(".concat(t.x/ri,"em, ").concat(t.y/ri,"em) "),s+="scale(".concat(t.size/ri*(t.flipX?-1:1),", ").concat(t.size/ri*(t.flipY?-1:1),") "),s+="rotate(".concat(t.rotate,"deg) "),s}var nP=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function Ow(){const e=Iw,t=Sw,n=q.cssPrefix,r=q.replacementClass;let i=nP;if(n!==e||r!==t){const s=new RegExp("\\.".concat(e,"\\-"),"g"),a=new RegExp("\\--".concat(e,"\\-"),"g"),o=new RegExp("\\.".concat(t),"g");i=i.replace(s,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(o,".".concat(r))}return i}let Ty=!1;function Jf(){q.autoAddCss&&!Ty&&(XR(Ow()),Ty=!0)}var rP={mixout(){return{dom:{css:Ow,insertCss:Jf}}},hooks(){return{beforeDOMElementCreation(){Jf()},beforeI2svg(){Jf()}}}};const Yr=Ui||{};Yr[$r]||(Yr[$r]={});Yr[$r].styles||(Yr[$r].styles={});Yr[$r].hooks||(Yr[$r].hooks={});Yr[$r].shims||(Yr[$r].shims=[]);var mr=Yr[$r];const Lw=[],Dw=function(){Ue.removeEventListener("DOMContentLoaded",Dw),Pd=1,Lw.map(e=>e())};let Pd=!1;Xr&&(Pd=(Ue.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Ue.readyState),Pd||Ue.addEventListener("DOMContentLoaded",Dw));function iP(e){Xr&&(Pd?setTimeout(e,0):Lw.push(e))}function Ml(e){const{tag:t,attributes:n={},children:r=[]}=e;return typeof e=="string"?Pw(e):"<".concat(t," ").concat(ZR(n),">").concat(r.map(Ml).join(""),"</").concat(t,">")}function vy(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}var Zf=function(t,n,r,i){var s=Object.keys(t),a=s.length,o=n,u,l,d;for(r===void 0?(u=1,d=t[s[0]]):(u=0,d=r);u<a;u++)l=s[u],d=o(d,t[l],l,t);return d};function sP(e){const t=[];let n=0;const r=e.length;for(;n<r;){const i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const s=e.charCodeAt(n++);(s&64512)==56320?t.push(((i&1023)<<10)+(s&1023)+65536):(t.push(i),n--)}else t.push(i)}return t}function zm(e){const t=sP(e);return t.length===1?t[0].toString(16):null}function aP(e,t){const n=e.length;let r=e.charCodeAt(t),i;return r>=55296&&r<=56319&&n>t+1&&(i=e.charCodeAt(t+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function by(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t},{})}function Wm(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=n,i=by(t);typeof mr.hooks.addPack=="function"&&!r?mr.hooks.addPack(e,by(t)):mr.styles[e]={...mr.styles[e]||{},...i},e==="fas"&&Wm("fa",t)}const{styles:cs,shims:oP}=mr,uP={[ze]:Object.values(vs[ze]),[pn]:Object.values(vs[pn]),[mn]:Object.values(vs[mn])};let t1=null,Mw={},Fw={},Uw={},Bw={},Hw={};const lP={[ze]:Object.keys(Ts[ze]),[pn]:Object.keys(Ts[pn]),[mn]:Object.keys(Ts[mn])};function cP(e){return~GR.indexOf(e)}function dP(e,t){const n=t.split("-"),r=n[0],i=n.slice(1).join("-");return r===e&&i!==""&&!cP(i)?i:null}const jw=()=>{const e=r=>Zf(cs,(i,s,a)=>(i[a]=Zf(s,r,{}),i),{});Mw=e((r,i,s)=>(i[3]&&(r[i[3]]=s),i[2]&&i[2].filter(o=>typeof o=="number").forEach(o=>{r[o.toString(16)]=s}),r)),Fw=e((r,i,s)=>(r[s]=s,i[2]&&i[2].filter(o=>typeof o=="string").forEach(o=>{r[o]=s}),r)),Hw=e((r,i,s)=>{const a=i[2];return r[s]=s,a.forEach(o=>{r[o]=s}),r});const t="far"in cs||q.autoFetchSvg,n=Zf(oP,(r,i)=>{const s=i[0];let a=i[1];const o=i[2];return a==="far"&&!t&&(a="fas"),typeof s=="string"&&(r.names[s]={prefix:a,iconName:o}),typeof s=="number"&&(r.unicodes[s.toString(16)]={prefix:a,iconName:o}),r},{names:{},unicodes:{}});Uw=n.names,Bw=n.unicodes,t1=xh(q.styleDefault,{family:q.familyDefault})};QR(e=>{t1=xh(e.styleDefault,{family:q.familyDefault})});jw();function n1(e,t){return(Mw[e]||{})[t]}function hP(e,t){return(Fw[e]||{})[t]}function gi(e,t){return(Hw[e]||{})[t]}function zw(e){return Uw[e]||{prefix:null,iconName:null}}function fP(e){const t=Bw[e],n=n1("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function Bi(){return t1}const r1=()=>({prefix:null,iconName:null,rest:[]});function xh(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=ze}=t,r=Ts[n][e],i=rl[n][e]||rl[n][r],s=e in mr.styles?e:null;return i||s||null}const pP={[ze]:Object.keys(vs[ze]),[pn]:Object.keys(vs[pn]),[mn]:Object.keys(vs[mn])};function Nh(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=t,r={[ze]:"".concat(q.cssPrefix,"-").concat(ze),[pn]:"".concat(q.cssPrefix,"-").concat(pn),[mn]:"".concat(q.cssPrefix,"-").concat(mn)};let i=null,s=ze;const a=bR.filter(u=>u!==bw);a.forEach(u=>{(e.includes(r[u])||e.some(l=>pP[u].includes(l)))&&(s=u)});const o=e.reduce((u,l)=>{const d=dP(q.cssPrefix,l);if(cs[l]?(l=uP[s].includes(l)?zR[s][l]:l,i=l,u.prefix=l):lP[s].indexOf(l)>-1?(i=l,u.prefix=xh(l,{family:s})):d?u.iconName=d:l!==q.replacementClass&&!a.some(c=>l===r[c])&&u.rest.push(l),!n&&u.prefix&&u.iconName){const c=i==="fa"?zw(u.iconName):{},f=gi(u.prefix,u.iconName);c.prefix&&(i=null),u.iconName=c.iconName||f||u.iconName,u.prefix=c.prefix||u.prefix,u.prefix==="far"&&!cs.far&&cs.fas&&!q.autoFetchSvg&&(u.prefix="fas")}return u},r1());return(e.includes("fa-brands")||e.includes("fab"))&&(o.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(o.prefix="fad"),!o.prefix&&s===pn&&(cs.fass||q.autoFetchSvg)&&(o.prefix="fass",o.iconName=gi(o.prefix,o.iconName)||o.iconName),!o.prefix&&s===mn&&(cs.fasds||q.autoFetchSvg)&&(o.prefix="fasds",o.iconName=gi(o.prefix,o.iconName)||o.iconName),(o.prefix==="fa"||i==="fa")&&(o.prefix=Bi()||"fas"),o}class mP{constructor(){this.definitions={}}add(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(s=>{this.definitions[s]={...this.definitions[s]||{},...i[s]},Wm(s,i[s]);const a=vs[ze][s];a&&Wm(a,i[s]),jw()})}reset(){this.definitions={}}_pullDefinitions(t,n){const r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(i=>{const{prefix:s,iconName:a,icon:o}=r[i],u=o[2];t[s]||(t[s]={}),u.length>0&&u.forEach(l=>{typeof l=="string"&&(t[s][l]=o)}),t[s][a]=o}),t}}let Cy=[],ba={};const Pa={},gP=Object.keys(Pa);function _P(e,t){let{mixoutsTo:n}=t;return Cy=e,ba={},Object.keys(Pa).forEach(r=>{gP.indexOf(r)===-1&&delete Pa[r]}),Cy.forEach(r=>{const i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(s=>{typeof i[s]=="function"&&(n[s]=i[s]),typeof i[s]=="object"&&Object.keys(i[s]).forEach(a=>{n[s]||(n[s]={}),n[s][a]=i[s][a]})}),r.hooks){const s=r.hooks();Object.keys(s).forEach(a=>{ba[a]||(ba[a]=[]),ba[a].push(s[a])})}r.provides&&r.provides(Pa)}),n}function Vm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(ba[e]||[]).forEach(a=>{t=a.apply(null,[t,...r])}),t}function Ps(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(ba[e]||[]).forEach(s=>{s.apply(null,n)})}function Hi(){const e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Pa[e]?Pa[e].apply(null,t):void 0}function $m(e){e.prefix==="fa"&&(e.prefix="fas");let{iconName:t}=e;const n=e.prefix||Bi();if(t)return t=gi(n,t)||t,vy(Ww.definitions,n,t)||vy(mr.styles,n,t)}const Ww=new mP,EP=()=>{q.autoReplaceSvg=!1,q.observeMutations=!1,Ps("noAuto")},yP={i2svg:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Xr?(Ps("beforeI2svg",e),Hi("pseudoElements2svg",e),Hi("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t}=e;q.autoReplaceSvg===!1&&(q.autoReplaceSvg=!0),q.observeMutations=!0,iP(()=>{vP({autoReplaceSvgRoot:t}),Ps("watch",e)})}},TP={icon:e=>{if(e===null)return null;if(typeof e=="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:gi(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){const t=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],n=xh(e[0]);return{prefix:n,iconName:gi(n,t)||t}}if(typeof e=="string"&&(e.indexOf("".concat(q.cssPrefix,"-"))>-1||e.match(WR))){const t=Nh(e.split(" "),{skipLookups:!0});return{prefix:t.prefix||Bi(),iconName:gi(t.prefix,t.iconName)||t.iconName}}if(typeof e=="string"){const t=Bi();return{prefix:t,iconName:gi(t,e)||e}}}},bn={noAuto:EP,config:q,dom:yP,parse:TP,library:Ww,findIconDefinition:$m,toHtml:Ml},vP=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t=Ue}=e;(Object.keys(mr.styles).length>0||q.autoFetchSvg)&&Xr&&q.autoReplaceSvg&&bn.dom.i2svg({node:t})};function Rh(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(n=>Ml(n))}}),Object.defineProperty(e,"node",{get:function(){if(!Xr)return;const n=Ue.createElement("div");return n.innerHTML=e.html,n.children}}),e}function bP(e){let{children:t,main:n,mask:r,attributes:i,styles:s,transform:a}=e;if(e1(a)&&n.found&&!r.found){const{width:o,height:u}=n,l={x:o/u/2,y:.5};i.style=kh({...s,"transform-origin":"".concat(l.x+a.x/16,"em ").concat(l.y+a.y/16,"em")})}return[{tag:"svg",attributes:i,children:t}]}function CP(e){let{prefix:t,iconName:n,children:r,attributes:i,symbol:s}=e;const a=s===!0?"".concat(t,"-").concat(q.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:{...i,id:a},children:r}]}]}function i1(e){const{icons:{main:t,mask:n},prefix:r,iconName:i,transform:s,symbol:a,title:o,maskId:u,titleId:l,extra:d,watchable:c=!1}=e,{width:f,height:p}=n.found?n:t,g=r==="fak",T=[q.replacementClass,i?"".concat(q.cssPrefix,"-").concat(i):""].filter(L=>d.classes.indexOf(L)===-1).filter(L=>L!==""||!!L).concat(d.classes).join(" ");let w={children:[],attributes:{...d.attributes,"data-prefix":r,"data-icon":i,class:T,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(f," ").concat(p)}};const _=g&&!~d.classes.indexOf("fa-fw")?{width:"".concat(f/p*16*.0625,"em")}:{};c&&(w.attributes[Rs]=""),o&&(w.children.push({tag:"title",attributes:{id:w.attributes["aria-labelledby"]||"title-".concat(l||il())},children:[o]}),delete w.attributes.title);const E={...w,prefix:r,iconName:i,main:t,mask:n,maskId:u,transform:s,symbol:a,styles:{..._,...d.styles}},{children:y,attributes:k}=n.found&&t.found?Hi("generateAbstractMask",E)||{children:[],attributes:{}}:Hi("generateAbstractIcon",E)||{children:[],attributes:{}};return E.children=y,E.attributes=k,a?CP(E):bP(E)}function wy(e){const{content:t,width:n,height:r,transform:i,title:s,extra:a,watchable:o=!1}=e,u={...a.attributes,...s?{title:s}:{},class:a.classes.join(" ")};o&&(u[Rs]="");const l={...a.styles};e1(i)&&(l.transform=tP({transform:i,startCentered:!0,width:n,height:r}),l["-webkit-transform"]=l.transform);const d=kh(l);d.length>0&&(u.style=d);const c=[];return c.push({tag:"span",attributes:u,children:[t]}),s&&c.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),c}function wP(e){const{content:t,title:n,extra:r}=e,i={...r.attributes,...n?{title:n}:{},class:r.classes.join(" ")},s=kh(r.styles);s.length>0&&(i.style=s);const a=[];return a.push({tag:"span",attributes:i,children:[t]}),n&&a.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),a}const{styles:ep}=mr;function Ym(e){const t=e[0],n=e[1],[r]=e.slice(4);let i=null;return Array.isArray(r)?i={tag:"g",attributes:{class:"".concat(q.cssPrefix,"-").concat(Xf.GROUP)},children:[{tag:"path",attributes:{class:"".concat(q.cssPrefix,"-").concat(Xf.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(q.cssPrefix,"-").concat(Xf.PRIMARY),fill:"currentColor",d:r[1]}}]}:i={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:t,height:n,icon:i}}const IP={found:!1,width:512,height:512};function SP(e,t){!Aw&&!q.showMissingIcons&&e&&console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}function Gm(e,t){let n=t;return t==="fa"&&q.styleDefault!==null&&(t=Bi()),new Promise((r,i)=>{if(n==="fa"){const s=zw(e)||{};e=s.iconName||e,t=s.prefix||t}if(e&&t&&ep[t]&&ep[t][e]){const s=ep[t][e];return r(Ym(s))}SP(e,t),r({...IP,icon:q.showMissingIcons&&e?Hi("missingIconAbstract")||{}:{}})})}const Iy=()=>{},qm=q.measurePerformance&&kc&&kc.mark&&kc.measure?kc:{mark:Iy,measure:Iy},iu='FA "6.6.0"',AP=e=>(qm.mark("".concat(iu," ").concat(e," begins")),()=>Vw(e)),Vw=e=>{qm.mark("".concat(iu," ").concat(e," ends")),qm.measure("".concat(iu," ").concat(e),"".concat(iu," ").concat(e," begins"),"".concat(iu," ").concat(e," ends"))};var s1={begin:AP,end:Vw};const Kc=()=>{};function Sy(e){return typeof(e.getAttribute?e.getAttribute(Rs):null)=="string"}function kP(e){const t=e.getAttribute?e.getAttribute(Xg):null,n=e.getAttribute?e.getAttribute(Jg):null;return t&&n}function xP(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(q.replacementClass)}function NP(){return q.autoReplaceSvg===!0?Qc.replace:Qc[q.autoReplaceSvg]||Qc.replace}function RP(e){return Ue.createElementNS("http://www.w3.org/2000/svg",e)}function PP(e){return Ue.createElement(e)}function $w(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=e.tag==="svg"?RP:PP}=t;if(typeof e=="string")return Ue.createTextNode(e);const r=n(e.tag);return Object.keys(e.attributes||[]).forEach(function(s){r.setAttribute(s,e.attributes[s])}),(e.children||[]).forEach(function(s){r.appendChild($w(s,{ceFn:n}))}),r}function OP(e){let t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}const Qc={replace:function(e){const t=e[0];if(t.parentNode)if(e[1].forEach(n=>{t.parentNode.insertBefore($w(n),t)}),t.getAttribute(Rs)===null&&q.keepOriginalSource){let n=Ue.createComment(OP(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){const t=e[0],n=e[1];if(~Zg(t).indexOf(q.replacementClass))return Qc.replace(e);const r=new RegExp("".concat(q.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const s=n[0].attributes.class.split(" ").reduce((a,o)=>(o===q.replacementClass||o.match(r)?a.toSvg.push(o):a.toNode.push(o),a),{toNode:[],toSvg:[]});n[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?t.removeAttribute("class"):t.setAttribute("class",s.toNode.join(" "))}const i=n.map(s=>Ml(s)).join(`
`);t.setAttribute(Rs,""),t.innerHTML=i}};function Ay(e){e()}function Yw(e,t){const n=typeof t=="function"?t:Kc;if(e.length===0)n();else{let r=Ay;q.mutateApproach===HR&&(r=Ui.requestAnimationFrame||Ay),r(()=>{const i=NP(),s=s1.begin("mutate");e.map(i),s(),n()})}}let a1=!1;function Gw(){a1=!0}function Km(){a1=!1}let Od=null;function ky(e){if(!gy||!q.observeMutations)return;const{treeCallback:t=Kc,nodeCallback:n=Kc,pseudoElementsCallback:r=Kc,observeMutationsRoot:i=Ue}=e;Od=new gy(s=>{if(a1)return;const a=Bi();po(s).forEach(o=>{if(o.type==="childList"&&o.addedNodes.length>0&&!Sy(o.addedNodes[0])&&(q.searchPseudoElements&&r(o.target),t(o.target)),o.type==="attributes"&&o.target.parentNode&&q.searchPseudoElements&&r(o.target.parentNode),o.type==="attributes"&&Sy(o.target)&&~YR.indexOf(o.attributeName))if(o.attributeName==="class"&&kP(o.target)){const{prefix:u,iconName:l}=Nh(Zg(o.target));o.target.setAttribute(Xg,u||a),l&&o.target.setAttribute(Jg,l)}else xP(o.target)&&n(o.target)})}),Xr&&Od.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function LP(){Od&&Od.disconnect()}function DP(e){const t=e.getAttribute("style");let n=[];return t&&(n=t.split(";").reduce((r,i)=>{const s=i.split(":"),a=s[0],o=s.slice(1);return a&&o.length>0&&(r[a]=o.join(":").trim()),r},{})),n}function MP(e){const t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=e.innerText!==void 0?e.innerText.trim():"";let i=Nh(Zg(e));return i.prefix||(i.prefix=Bi()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=hP(i.prefix,e.innerText)||n1(i.prefix,zm(e.innerText))),!i.iconName&&q.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=e.firstChild.data)),i}function FP(e){const t=po(e.attributes).reduce((i,s)=>(i.name!=="class"&&i.name!=="style"&&(i[s.name]=s.value),i),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return q.autoA11y&&(n?t["aria-labelledby"]="".concat(q.replacementClass,"-title-").concat(r||il()):(t["aria-hidden"]="true",t.focusable="false")),t}function UP(){return{iconName:null,title:null,titleId:null,prefix:null,transform:pr,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function xy(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:i}=MP(e),s=FP(e),a=Vm("parseNodeAttributes",{},e);let o=t.styleParser?DP(e):[];return{iconName:n,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:r,transform:pr,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:o,attributes:s},...a}}const{styles:BP}=mr;function qw(e){const t=q.autoReplaceSvg==="nest"?xy(e,{styleParser:!1}):xy(e);return~t.extra.classes.indexOf(Nw)?Hi("generateLayersText",e,t):Hi("generateSvgReplacementMutation",e,t)}let Tr=new Set;kw.map(e=>{Tr.add("fa-".concat(e))});Object.keys(Ts[ze]).map(Tr.add.bind(Tr));Object.keys(Ts[pn]).map(Tr.add.bind(Tr));Object.keys(Ts[mn]).map(Tr.add.bind(Tr));Tr=[...Tr];function Ny(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Xr)return Promise.resolve();const n=Ue.documentElement.classList,r=d=>n.add("".concat(yy,"-").concat(d)),i=d=>n.remove("".concat(yy,"-").concat(d)),s=q.autoFetchSvg?Tr:kw.map(d=>"fa-".concat(d)).concat(Object.keys(BP));s.includes("fa")||s.push("fa");const a=[".".concat(Nw,":not([").concat(Rs,"])")].concat(s.map(d=>".".concat(d,":not([").concat(Rs,"])"))).join(", ");if(a.length===0)return Promise.resolve();let o=[];try{o=po(e.querySelectorAll(a))}catch{}if(o.length>0)r("pending"),i("complete");else return Promise.resolve();const u=s1.begin("onTree"),l=o.reduce((d,c)=>{try{const f=qw(c);f&&d.push(f)}catch(f){Aw||f.name==="MissingIcon"&&console.error(f)}return d},[]);return new Promise((d,c)=>{Promise.all(l).then(f=>{Yw(f,()=>{r("active"),r("complete"),i("pending"),typeof t=="function"&&t(),u(),d()})}).catch(f=>{u(),c(f)})})}function HP(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;qw(e).then(n=>{n&&Yw([n],t)})}function jP(e){return function(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(t||{}).icon?t:$m(t||{});let{mask:i}=n;return i&&(i=(i||{}).icon?i:$m(i||{})),e(r,{...n,mask:i})}}const zP=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=pr,symbol:r=!1,mask:i=null,maskId:s=null,title:a=null,titleId:o=null,classes:u=[],attributes:l={},styles:d={}}=t;if(!e)return;const{prefix:c,iconName:f,icon:p}=e;return Rh({type:"icon",...e},()=>(Ps("beforeDOMElementCreation",{iconDefinition:e,params:t}),q.autoA11y&&(a?l["aria-labelledby"]="".concat(q.replacementClass,"-title-").concat(o||il()):(l["aria-hidden"]="true",l.focusable="false")),i1({icons:{main:Ym(p),mask:i?Ym(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:c,iconName:f,transform:{...pr,...n},symbol:r,title:a,maskId:s,titleId:o,extra:{attributes:l,styles:d,classes:u}})))};var WP={mixout(){return{icon:jP(zP)}},hooks(){return{mutationObserverCallbacks(e){return e.treeCallback=Ny,e.nodeCallback=HP,e}}},provides(e){e.i2svg=function(t){const{node:n=Ue,callback:r=()=>{}}=t;return Ny(n,r)},e.generateSvgReplacementMutation=function(t,n){const{iconName:r,title:i,titleId:s,prefix:a,transform:o,symbol:u,mask:l,maskId:d,extra:c}=n;return new Promise((f,p)=>{Promise.all([Gm(r,a),l.iconName?Gm(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(g=>{let[T,w]=g;f([t,i1({icons:{main:T,mask:w},prefix:a,iconName:r,transform:o,symbol:u,maskId:d,title:i,titleId:s,extra:c,watchable:!0})])}).catch(p)})},e.generateAbstractIcon=function(t){let{children:n,attributes:r,main:i,transform:s,styles:a}=t;const o=kh(a);o.length>0&&(r.style=o);let u;return e1(s)&&(u=Hi("generateAbstractTransformGrouping",{main:i,transform:s,containerWidth:i.width,iconWidth:i.width})),n.push(u||i.icon),{children:n,attributes:r}}}},VP={mixout(){return{layer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=t;return Rh({type:"layer"},()=>{Ps("beforeDOMElementCreation",{assembler:e,params:t});let r=[];return e(i=>{Array.isArray(i)?i.map(s=>{r=r.concat(s.abstract)}):r=r.concat(i.abstract)}),[{tag:"span",attributes:{class:["".concat(q.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},$P={mixout(){return{counter(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:r=[],attributes:i={},styles:s={}}=t;return Rh({type:"counter",content:e},()=>(Ps("beforeDOMElementCreation",{content:e,params:t}),wP({content:e.toString(),title:n,extra:{attributes:i,styles:s,classes:["".concat(q.cssPrefix,"-layers-counter"),...r]}})))}}}},YP={mixout(){return{text(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=pr,title:r=null,classes:i=[],attributes:s={},styles:a={}}=t;return Rh({type:"text",content:e},()=>(Ps("beforeDOMElementCreation",{content:e,params:t}),wy({content:e,transform:{...pr,...n},title:r,extra:{attributes:s,styles:a,classes:["".concat(q.cssPrefix,"-layers-text"),...i]}})))}}},provides(e){e.generateLayersText=function(t,n){const{title:r,transform:i,extra:s}=n;let a=null,o=null;if(vw){const u=parseInt(getComputedStyle(t).fontSize,10),l=t.getBoundingClientRect();a=l.width/u,o=l.height/u}return q.autoA11y&&!r&&(s.attributes["aria-hidden"]="true"),Promise.resolve([t,wy({content:t.innerHTML,width:a,height:o,transform:i,title:r,extra:s,watchable:!0})])}}};const GP=new RegExp('"',"ug"),Ry=[1105920,1112319],Py={FontAwesome:{normal:"fas",400:"fas"},...kR,...AR,...MR},Qm=Object.keys(Py).reduce((e,t)=>(e[t.toLowerCase()]=Py[t],e),{}),qP=Object.keys(Qm).reduce((e,t)=>{const n=Qm[t];return e[t]=n[900]||[...Object.entries(n)][0][1],e},{});function KP(e){const t=e.replace(GP,""),n=aP(t,0),r=n>=Ry[0]&&n<=Ry[1],i=t.length===2?t[0]===t[1]:!1;return{value:zm(i?t[0]:t),isSecondary:r||i}}function QP(e,t){const n=e.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(t),i=isNaN(r)?"normal":r;return(Qm[n]||{})[i]||qP[n]}function Oy(e,t){const n="".concat(BR).concat(t.replace(":","-"));return new Promise((r,i)=>{if(e.getAttribute(n)!==null)return r();const a=po(e.children).filter(f=>f.getAttribute(Um)===t)[0],o=Ui.getComputedStyle(e,t),u=o.getPropertyValue("font-family"),l=u.match(VR),d=o.getPropertyValue("font-weight"),c=o.getPropertyValue("content");if(a&&!l)return e.removeChild(a),r();if(l&&c!=="none"&&c!==""){const f=o.getPropertyValue("content");let p=QP(u,d);const{value:g,isSecondary:T}=KP(f),w=l[0].startsWith("FontAwesome");let _=n1(p,g),E=_;if(w){const y=fP(g);y.iconName&&y.prefix&&(_=y.iconName,p=y.prefix)}if(_&&!T&&(!a||a.getAttribute(Xg)!==p||a.getAttribute(Jg)!==E)){e.setAttribute(n,E),a&&e.removeChild(a);const y=UP(),{extra:k}=y;k.attributes[Um]=t,Gm(_,p).then(L=>{const A=i1({...y,icons:{main:L,mask:r1()},prefix:p,iconName:E,extra:k,watchable:!0}),P=Ue.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?e.insertBefore(P,e.firstChild):e.appendChild(P),P.outerHTML=A.map(B=>Ml(B)).join(`
`),e.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function XP(e){return Promise.all([Oy(e,"::before"),Oy(e,"::after")])}function JP(e){return e.parentNode!==document.head&&!~jR.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(Um)&&(!e.parentNode||e.parentNode.tagName!=="svg")}function Ly(e){if(Xr)return new Promise((t,n)=>{const r=po(e.querySelectorAll("*")).filter(JP).map(XP),i=s1.begin("searchPseudoElements");Gw(),Promise.all(r).then(()=>{i(),Km(),t()}).catch(()=>{i(),Km(),n()})})}var ZP={hooks(){return{mutationObserverCallbacks(e){return e.pseudoElementsCallback=Ly,e}}},provides(e){e.pseudoElements2svg=function(t){const{node:n=Ue}=t;q.searchPseudoElements&&Ly(n)}}};let Dy=!1;var eO={mixout(){return{dom:{unwatch(){Gw(),Dy=!0}}}},hooks(){return{bootstrap(){ky(Vm("mutationObserverCallbacks",{}))},noAuto(){LP()},watch(e){const{observeMutationsRoot:t}=e;Dy?Km():ky(Vm("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}};const My=e=>{let t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce((n,r)=>{const i=r.toLowerCase().split("-"),s=i[0];let a=i.slice(1).join("-");if(s&&a==="h")return n.flipX=!0,n;if(s&&a==="v")return n.flipY=!0,n;if(a=parseFloat(a),isNaN(a))return n;switch(s){case"grow":n.size=n.size+a;break;case"shrink":n.size=n.size-a;break;case"left":n.x=n.x-a;break;case"right":n.x=n.x+a;break;case"up":n.y=n.y-a;break;case"down":n.y=n.y+a;break;case"rotate":n.rotate=n.rotate+a;break}return n},t)};var tO={mixout(){return{parse:{transform:e=>My(e)}}},hooks(){return{parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-transform");return n&&(e.transform=My(n)),e}}},provides(e){e.generateAbstractTransformGrouping=function(t){let{main:n,transform:r,containerWidth:i,iconWidth:s}=t;const a={transform:"translate(".concat(i/2," 256)")},o="translate(".concat(r.x*32,", ").concat(r.y*32,") "),u="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),l="rotate(".concat(r.rotate," 0 0)"),d={transform:"".concat(o," ").concat(u," ").concat(l)},c={transform:"translate(".concat(s/2*-1," -256)")},f={outer:a,inner:d,path:c};return{tag:"g",attributes:{...f.outer},children:[{tag:"g",attributes:{...f.inner},children:[{tag:n.icon.tag,children:n.icon.children,attributes:{...n.icon.attributes,...f.path}}]}]}}}};const tp={x:0,y:0,width:"100%",height:"100%"};function Fy(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function nO(e){return e.tag==="g"?e.children:[e]}var rO={hooks(){return{parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-mask"),r=n?Nh(n.split(" ").map(i=>i.trim())):r1();return r.prefix||(r.prefix=Bi()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides(e){e.generateAbstractMask=function(t){let{children:n,attributes:r,main:i,mask:s,maskId:a,transform:o}=t;const{width:u,icon:l}=i,{width:d,icon:c}=s,f=eP({transform:o,containerWidth:d,iconWidth:u}),p={tag:"rect",attributes:{...tp,fill:"white"}},g=l.children?{children:l.children.map(Fy)}:{},T={tag:"g",attributes:{...f.inner},children:[Fy({tag:l.tag,attributes:{...l.attributes,...f.path},...g})]},w={tag:"g",attributes:{...f.outer},children:[T]},_="mask-".concat(a||il()),E="clip-".concat(a||il()),y={tag:"mask",attributes:{...tp,id:_,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"},children:[p,w]},k={tag:"defs",children:[{tag:"clipPath",attributes:{id:E},children:nO(c)},y]};return n.push(k,{tag:"rect",attributes:{fill:"currentColor","clip-path":"url(#".concat(E,")"),mask:"url(#".concat(_,")"),...tp}}),{children:n,attributes:r}}}},iO={provides(e){let t=!1;Ui.matchMedia&&(t=Ui.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){const n=[],r={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:{...r,d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}});const s={...i,attributeName:"opacity"},a={tag:"circle",attributes:{...r,cx:"256",cy:"364",r:"28"},children:[]};return t||a.children.push({tag:"animate",attributes:{...i,attributeName:"r",values:"28;14;28;28;14;28;"}},{tag:"animate",attributes:{...s,values:"1;0;1;1;0;1;"}}),n.push(a),n.push({tag:"path",attributes:{...r,opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"},children:t?[]:[{tag:"animate",attributes:{...s,values:"1;0;0;0;0;1;"}}]}),t||n.push({tag:"path",attributes:{...r,opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"},children:[{tag:"animate",attributes:{...s,values:"0;0;1;1;0;0;"}}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},sO={hooks(){return{parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return e.symbol=r,e}}}},aO=[rP,WP,VP,$P,YP,ZP,eO,tO,rO,iO,sO];_P(aO,{mixoutsTo:bn});bn.noAuto;bn.config;bn.library;bn.dom;const Xm=bn.parse;bn.findIconDefinition;bn.toHtml;const oO=bn.icon;bn.layer;bn.text;bn.counter;var Kw={exports:{}},uO="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",lO=uO,cO=lO;function Qw(){}function Xw(){}Xw.resetWarningCache=Qw;var dO=function(){function e(r,i,s,a,o,u){if(u!==cO){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Xw,resetWarningCache:Qw};return n.PropTypes=n,n};Kw.exports=dO();var hO=Kw.exports;const ce=J0(hO);function Uy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function or(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uy(Object(n),!0).forEach(function(r){Ca(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ld(e){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ld(e)}function Ca(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fO(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function pO(e,t){if(e==null)return{};var n=fO(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Jm(e){return mO(e)||gO(e)||_O(e)||EO()}function mO(e){if(Array.isArray(e))return Zm(e)}function gO(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _O(e,t){if(e){if(typeof e=="string")return Zm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zm(e,t)}}function Zm(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function EO(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yO(e){var t,n=e.beat,r=e.fade,i=e.beatFade,s=e.bounce,a=e.shake,o=e.flash,u=e.spin,l=e.spinPulse,d=e.spinReverse,c=e.pulse,f=e.fixedWidth,p=e.inverse,g=e.border,T=e.listItem,w=e.flip,_=e.size,E=e.rotation,y=e.pull,k=(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":s,"fa-shake":a,"fa-flash":o,"fa-spin":u,"fa-spin-reverse":d,"fa-spin-pulse":l,"fa-pulse":c,"fa-fw":f,"fa-inverse":p,"fa-border":g,"fa-li":T,"fa-flip":w===!0,"fa-flip-horizontal":w==="horizontal"||w==="both","fa-flip-vertical":w==="vertical"||w==="both"},Ca(t,"fa-".concat(_),typeof _<"u"&&_!==null),Ca(t,"fa-rotate-".concat(E),typeof E<"u"&&E!==null&&E!==0),Ca(t,"fa-pull-".concat(y),typeof y<"u"&&y!==null),Ca(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(k).map(function(L){return k[L]?L:null}).filter(function(L){return L})}function TO(e){return e=e-0,e===e}function Jw(e){return TO(e)?e:(e=e.replace(/[\-_\s]+(.)?/g,function(t,n){return n?n.toUpperCase():""}),e.substr(0,1).toLowerCase()+e.substr(1))}var vO=["style"];function bO(e){return e.charAt(0).toUpperCase()+e.slice(1)}function CO(e){return e.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,n){var r=n.indexOf(":"),i=Jw(n.slice(0,r)),s=n.slice(r+1).trim();return i.startsWith("webkit")?t[bO(i)]=s:t[i]=s,t},{})}function Zw(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var r=(t.children||[]).map(function(u){return Zw(e,u)}),i=Object.keys(t.attributes||{}).reduce(function(u,l){var d=t.attributes[l];switch(l){case"class":u.attrs.className=d,delete t.attributes.class;break;case"style":u.attrs.style=CO(d);break;default:l.indexOf("aria-")===0||l.indexOf("data-")===0?u.attrs[l.toLowerCase()]=d:u.attrs[Jw(l)]=d}return u},{attrs:{}}),s=n.style,a=s===void 0?{}:s,o=pO(n,vO);return i.attrs.style=or(or({},i.attrs.style),a),e.apply(void 0,[t.tag,or(or({},i.attrs),o)].concat(Jm(r)))}var eI=!1;try{eI=!0}catch{}function wO(){if(!eI&&console&&typeof console.error=="function"){var e;(e=console).error.apply(e,arguments)}}function By(e){if(e&&Ld(e)==="object"&&e.prefix&&e.iconName&&e.icon)return e;if(Xm.icon)return Xm.icon(e);if(e===null)return null;if(e&&Ld(e)==="object"&&e.prefix&&e.iconName)return e;if(Array.isArray(e)&&e.length===2)return{prefix:e[0],iconName:e[1]};if(typeof e=="string")return{prefix:"fas",iconName:e}}function np(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?Ca({},e,t):{}}var Hy={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},he=rg.forwardRef(function(e,t){var n=or(or({},Hy),e),r=n.icon,i=n.mask,s=n.symbol,a=n.className,o=n.title,u=n.titleId,l=n.maskId,d=By(r),c=np("classes",[].concat(Jm(yO(n)),Jm((a||"").split(" ")))),f=np("transform",typeof n.transform=="string"?Xm.transform(n.transform):n.transform),p=np("mask",By(i)),g=oO(d,or(or(or(or({},c),f),p),{},{symbol:s,title:o,titleId:u,maskId:l}));if(!g)return wO("Could not find icon",d),null;var T=g.abstract,w={ref:t};return Object.keys(n).forEach(function(_){Hy.hasOwnProperty(_)||(w[_]=n[_])}),IO(T[0],w)});he.displayName="FontAwesomeIcon";he.propTypes={beat:ce.bool,border:ce.bool,beatFade:ce.bool,bounce:ce.bool,className:ce.string,fade:ce.bool,flash:ce.bool,mask:ce.oneOfType([ce.object,ce.array,ce.string]),maskId:ce.string,fixedWidth:ce.bool,inverse:ce.bool,flip:ce.oneOf([!0,!1,"horizontal","vertical","both"]),icon:ce.oneOfType([ce.object,ce.array,ce.string]),listItem:ce.bool,pull:ce.oneOf(["right","left"]),pulse:ce.bool,rotation:ce.oneOf([0,90,180,270]),shake:ce.bool,size:ce.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:ce.bool,spinPulse:ce.bool,spinReverse:ce.bool,symbol:ce.oneOfType([ce.bool,ce.string]),title:ce.string,titleId:ce.string,transform:ce.oneOfType([ce.string,ce.object]),swapOpacity:ce.bool};var IO=Zw.bind(null,rg.createElement),jy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W=function(e,t){if(!e)throw mo(t)},mo=function(e){return new Error("Firebase Database ("+tI.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},SO=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],a=e[n++],o=e[n++],u=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return t.join("")},o1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],a=i+1<e.length,o=a?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,d=s>>2,c=(s&3)<<4|o>>4;let f=(o&15)<<2|l>>6,p=l&63;u||(p=64,a||(f=64)),r.push(n[d],n[c],n[f],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(nI(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):SO(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const l=i<e.length?n[e.charAt(i)]:64;++i;const c=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||o==null||l==null||c==null)throw new AO;const f=s<<2|o>>4;if(r.push(f),l!==64){const p=o<<4&240|l>>2;if(r.push(p),c!==64){const g=l<<6&192|c;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class AO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rI=function(e){const t=nI(e);return o1.encodeByteArray(t,!0)},Dd=function(e){return rI(e).replace(/\./g,"")},Md=function(e){try{return o1.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(e){return sl(void 0,e)}function sl(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!xO(n)||(e[n]=sl(e[n],t[n]));return e}function xO(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=()=>iI().__FIREBASE_DEFAULTS__,RO=()=>{if(typeof process>"u"||typeof jy>"u")return;const e=jy.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},PO=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Md(e[1]);return t&&JSON.parse(t)},u1=()=>{try{return NO()||RO()||PO()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},sI=()=>{var e;return(e=u1())===null||e===void 0?void 0:e.config},OO=e=>{var t;return(t=u1())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Dd(JSON.stringify(n)),Dd(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function l1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ft())}function aI(){var e;const t=(e=u1())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DO(){return typeof window<"u"||oI()}function oI(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function MO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uI(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Ph(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lI(){const e=ft();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function cI(){return tI.NODE_ADMIN===!0}function Fd(){try{return typeof indexedDB=="object"}catch{return!1}}function FO(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO="FirebaseError";class en extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=UO,Object.setPrototypeOf(this,en.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$s.prototype.create)}}class $s{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],a=s?BO(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new en(i,o,r)}}function BO(e,t){return e.replace(HO,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const HO=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(e){return JSON.parse(e)}function ct(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=al(Md(s[0])||""),n=al(Md(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},jO=function(e){const t=dI(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},zO=function(e){const t=dI(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Os(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Ud(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Bd(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function e0(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],a=t[i];if(zy(s)&&zy(a)){if(!e0(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function zy(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function wa(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function su(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let c=0;c<16;c++)r[c]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let c=0;c<16;c++)r[c]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let c=16;c<80;c++){const f=r[c-3]^r[c-8]^r[c-14]^r[c-16];r[c]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],a=this.chain_[2],o=this.chain_[3],u=this.chain_[4],l,d;for(let c=0;c<80;c++){c<40?c<20?(l=o^s&(a^o),d=1518500249):(l=s^a^o,d=1859775393):c<60?(l=s&a|o&(s|a),d=2400959708):(l=s^a^o,d=3395469782);const f=(i<<5|i>>>27)+l+u+d+r[c]&4294967295;u=o,o=a,a=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+o&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let a=this.inbuf_;for(;i<n;){if(a===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[a]=t.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=t[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)t[r]=this.chain_[i]>>s&255,++r;return t}}function hI(e,t){const n=new VO(e,t);return n.subscribe.bind(n)}class VO{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$O(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=rp),i.error===void 0&&(i.error=rp),i.complete===void 0&&(i.complete=rp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $O(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function rp(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee=function(e,t,n,r){let i;if(r<t?i="at least "+t:r>n&&(i=n===0?"none":"no more than "+n),i){const s=e+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function tn(e,t){return`${e} failed: ${t} argument `}function _t(e,t,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(tn(e,t)+"must be a valid function.")}function Wy(e,t,n,r){if(n&&(typeof n!="object"||n===null))throw new Error(tn(e,t)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,W(r<e.length,"Surrogate pair missing trail surrogate.");const a=e.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Oh=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(e){return e&&e._delegate?e._delegate:e}class Dn{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Gt;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(qO(t))try{this.getOrInitializeService({instanceIdentifier:us})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=us){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=us){return this.instances.has(t)}getOptions(t=us){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&t(a,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:GO(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=us){return this.component?this.component.multipleInstances?t:us:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GO(e){return e===us?void 0:e}function qO(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new t0(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=[];var Ce;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ce||(Ce={}));const fI={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},KO=Ce.INFO,QO={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},XO=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=QO[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Fl{constructor(t){this.name=t,this._logLevel=KO,this._logHandler=XO,this._userLogHandler=null,d1.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ce))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?fI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...t),this._logHandler(this,Ce.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...t),this._logHandler(this,Ce.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...t),this._logHandler(this,Ce.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...t),this._logHandler(this,Ce.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...t),this._logHandler(this,Ce.ERROR,...t)}}function JO(e){d1.forEach(t=>{t.setLogLevel(e)})}function ZO(e,t){for(const n of d1){let r=null;t&&t.level&&(r=fI[t.level]),e===null?n.userLogHandler=null:n.userLogHandler=(i,s,...a)=>{const o=a.map(u=>{if(u==null)return null;if(typeof u=="string")return u;if(typeof u=="number"||typeof u=="boolean")return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch{return null}}).filter(u=>u).join(" ");s>=(r??i.logLevel)&&e({level:Ce[s].toLowerCase(),message:o,args:a,type:i.name})}}}const eL=(e,t)=>t.some(n=>e instanceof n);let Vy,$y;function tL(){return Vy||(Vy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nL(){return $y||($y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pI=new WeakMap,n0=new WeakMap,mI=new WeakMap,ip=new WeakMap,h1=new WeakMap;function rL(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{n(Ni(e.result)),i()},a=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&pI.set(n,e)}).catch(()=>{}),h1.set(t,e),t}function iL(e){if(n0.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});n0.set(e,t)}let r0={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return n0.get(e);if(t==="objectStoreNames")return e.objectStoreNames||mI.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ni(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function sL(e){r0=e(r0)}function aL(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(sp(this),t,...n);return mI.set(r,t.sort?t.sort():[t]),Ni(r)}:nL().includes(e)?function(...t){return e.apply(sp(this),t),Ni(pI.get(this))}:function(...t){return Ni(e.apply(sp(this),t))}}function oL(e){return typeof e=="function"?aL(e):(e instanceof IDBTransaction&&iL(e),eL(e,tL())?new Proxy(e,r0):e)}function Ni(e){if(e instanceof IDBRequest)return rL(e);if(ip.has(e))return ip.get(e);const t=oL(e);return t!==e&&(ip.set(e,t),h1.set(t,e)),t}const sp=e=>h1.get(e);function uL(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(e,t),o=Ni(a);return r&&a.addEventListener("upgradeneeded",u=>{r(Ni(a.result),u.oldVersion,u.newVersion,Ni(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),o.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),o}const lL=["get","getKey","getAll","getAllKeys","count"],cL=["put","add","delete","clear"],ap=new Map;function Yy(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(ap.get(t))return ap.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=cL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||lL.includes(n)))return;const s=async function(a,...o){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(o.shift())),(await Promise.all([l[n](...o),i&&u.done]))[0]};return ap.set(t,s),s}sL(e=>({...e,get:(t,n,r)=>Yy(t,n)||e.get(t,n,r),has:(t,n)=>!!Yy(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function hL(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Hd="@firebase/app",i0="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new Fl("@firebase/app"),fL="@firebase/app-compat",pL="@firebase/analytics-compat",mL="@firebase/analytics",gL="@firebase/app-check-compat",_L="@firebase/app-check",EL="@firebase/auth",yL="@firebase/auth-compat",TL="@firebase/database",vL="@firebase/data-connect",bL="@firebase/database-compat",CL="@firebase/functions",wL="@firebase/functions-compat",IL="@firebase/installations",SL="@firebase/installations-compat",AL="@firebase/messaging",kL="@firebase/messaging-compat",xL="@firebase/performance",NL="@firebase/performance-compat",RL="@firebase/remote-config",PL="@firebase/remote-config-compat",OL="@firebase/storage",LL="@firebase/storage-compat",DL="@firebase/firestore",ML="@firebase/vertexai",FL="@firebase/firestore-compat",UL="firebase",BL="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji="[DEFAULT]",HL={[Hd]:"fire-core",[fL]:"fire-core-compat",[mL]:"fire-analytics",[pL]:"fire-analytics-compat",[_L]:"fire-app-check",[gL]:"fire-app-check-compat",[EL]:"fire-auth",[yL]:"fire-auth-compat",[TL]:"fire-rtdb",[vL]:"fire-data-connect",[bL]:"fire-rtdb-compat",[CL]:"fire-fn",[wL]:"fire-fn-compat",[IL]:"fire-iid",[SL]:"fire-iid-compat",[AL]:"fire-fcm",[kL]:"fire-fcm-compat",[xL]:"fire-perf",[NL]:"fire-perf-compat",[RL]:"fire-rc",[PL]:"fire-rc-compat",[OL]:"fire-gcs",[LL]:"fire-gcs-compat",[DL]:"fire-fst",[FL]:"fire-fst-compat",[ML]:"fire-vertex","fire-js":"fire-js",[UL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new Map,Qa=new Map,Xa=new Map;function ol(e,t){try{e.container.addComponent(t)}catch(n){Gr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function gI(e,t){e.container.addOrOverwriteComponent(t)}function Wi(e){const t=e.name;if(Xa.has(t))return Gr.debug(`There were multiple attempts to register component ${t}.`),!1;Xa.set(t,e);for(const n of zi.values())ol(n,e);for(const n of Qa.values())ol(n,e);return!0}function _I(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function jL(e,t,n=ji){_I(e,t).clearInstance(n)}function EI(e){return e.options!==void 0}function Ke(e){return e.settings!==void 0}function zL(){Xa.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pn=new $s("app","Firebase",WL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yI=class{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Pn.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL extends yI{constructor(t,n,r,i){const s=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,a={name:r,automaticDataCollectionEnabled:s};if(t.apiKey!==void 0)super(t,a,i);else{const o=t;super(o.options,a,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},n),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,Qn(Hd,i0,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(t){this.isDeleted||(this._refCount++,t!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(t,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){p1(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Pn.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=BL;function f1(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:ji,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Pn.create("bad-app-name",{appName:String(i)});if(n||(n=sI()),!n)throw Pn.create("no-options");const s=zi.get(i);if(s){if(e0(n,s.options)&&e0(r,s.config))return s;throw Pn.create("duplicate-app",{appName:i})}const a=new c1(i);for(const u of Xa.values())a.addComponent(u);const o=new yI(n,r,a);return zi.set(i,o),o}function $L(e,t){if(DO()&&!oI())throw Pn.create("invalid-server-app-environment");t.automaticDataCollectionEnabled===void 0&&(t.automaticDataCollectionEnabled=!1);let n;EI(e)?n=e.options:n=e;const r=Object.assign(Object.assign({},t),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=l=>[...l].reduce((d,c)=>Math.imul(31,d)+c.charCodeAt(0)|0,0);if(t.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Pn.create("finalization-registry-not-supported",{});const s=""+i(JSON.stringify(r)),a=Qa.get(s);if(a)return a.incRefCount(t.releaseOnDeref),a;const o=new c1(s);for(const l of Xa.values())o.addComponent(l);const u=new VL(n,t,s,o);return Qa.set(s,u),u}function YL(e=ji){const t=zi.get(e);if(!t&&e===ji&&sI())return f1();if(!t)throw Pn.create("no-app",{appName:e});return t}function GL(){return Array.from(zi.values())}async function p1(e){let t=!1;const n=e.name;zi.has(n)?(t=!0,zi.delete(n)):Qa.has(n)&&e.decRefCount()<=0&&(Qa.delete(n),t=!0),t&&(await Promise.all(e.container.getProviders().map(r=>r.delete())),e.isDeleted=!0)}function Qn(e,t,n){var r;let i=(r=HL[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${t}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Gr.warn(o.join(" "));return}Wi(new Dn(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}function TI(e,t){if(e!==null&&typeof e!="function")throw Pn.create("invalid-log-argument");ZO(e,t)}function vI(e){JO(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL="firebase-heartbeat-database",KL=1,ul="firebase-heartbeat-store";let op=null;function bI(){return op||(op=uL(qL,KL,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(ul)}catch(n){console.warn(n)}}}}).catch(e=>{throw Pn.create("idb-open",{originalErrorMessage:e.message})})),op}async function QL(e){try{const n=(await bI()).transaction(ul),r=await n.objectStore(ul).get(CI(e));return await n.done,r}catch(t){if(t instanceof en)Gr.warn(t.message);else{const n=Pn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Gr.warn(n.message)}}}async function Gy(e,t){try{const r=(await bI()).transaction(ul,"readwrite");await r.objectStore(ul).put(t,CI(e)),await r.done}catch(n){if(n instanceof en)Gr.warn(n.message);else{const r=Pn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gr.warn(r.message)}}}function CI(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL=1024,JL=30*24*60*60*1e3;class ZL{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=qy();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=JL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Gr.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=qy(),{heartbeatsToSend:r,unsentEntries:i}=eD(this._heartbeatsCache.heartbeats),s=Dd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Gr.warn(n),""}}}function qy(){return new Date().toISOString().substring(0,10)}function eD(e,t=XL){const n=[];let r=e.slice();for(const i of e){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),Ky(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ky(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class tD{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Fd()?FO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await QL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Gy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Gy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Ky(e){return Dd(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(e){Wi(new Dn("platform-logger",t=>new dL(t),"PRIVATE")),Wi(new Dn("heartbeat",t=>new ZL(t),"PRIVATE")),Qn(Hd,i0,e),Qn(Hd,i0,"esm2017"),Qn("fire-js","")}nD("");const rD=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:en,SDK_VERSION:es,_DEFAULT_ENTRY_NAME:ji,_addComponent:ol,_addOrOverwriteComponent:gI,_apps:zi,_clearComponents:zL,_components:Xa,_getProvider:_I,_isFirebaseApp:EI,_isFirebaseServerApp:Ke,_registerComponent:Wi,_removeServiceInstance:jL,_serverApps:Qa,deleteApp:p1,getApp:YL,getApps:GL,initializeApp:f1,initializeServerApp:$L,onLog:TI,registerVersion:Qn,setLogLevel:vI},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(t,n){this._delegate=t,this.firebase=n,ol(t,new Dn("app-compat",()=>this,"PUBLIC")),this.container=t.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this._delegate.automaticDataCollectionEnabled=t}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(t=>{this._delegate.checkDestroyed(),t()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),p1(this._delegate)))}_getService(t,n=ji){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(t);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(t,n=ji){this._delegate.container.getProvider(t).clearInstance(n)}_addComponent(t){ol(this._delegate,t)}_addOrOverwriteComponent(t){gI(this._delegate,t)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},Qy=new $s("app-compat","Firebase",sD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(e){const t={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Qn,setLogLevel:vI,onLog:TI,apps:null,SDK_VERSION:es,INTERNAL:{registerComponent:o,removeApp:r,useAsService:u,modularAPIs:rD}};n.default=n,Object.defineProperty(n,"apps",{get:a});function r(l){delete t[l]}function i(l){if(l=l||ji,!En(t,l))throw Qy.create("no-app",{appName:l});return t[l]}i.App=e;function s(l,d={}){const c=f1(l,d);if(En(t,c.name))return t[c.name];const f=new e(c,n);return t[c.name]=f,f}function a(){return Object.keys(t).map(l=>t[l])}function o(l){const d=l.name,c=d.replace("-compat","");if(Wi(l)&&l.type==="PUBLIC"){const f=(p=i())=>{if(typeof p[c]!="function")throw Qy.create("invalid-app-argument",{appName:d});return p[c]()};l.serviceProps!==void 0&&sl(f,l.serviceProps),n[c]=f,e.prototype[c]=function(...p){return this._getService.bind(this,d).apply(this,l.multipleInstances?p:[])}}return l.type==="PUBLIC"?n[c]:null}function u(l,d){return d==="serverAuth"?null:d}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(){const e=aD(iD);e.INTERNAL=Object.assign(Object.assign({},e.INTERNAL),{createFirebaseNamespace:wI,extendNamespace:t,createSubscribe:hI,ErrorFactory:$s,deepExtend:sl});function t(n){sl(e,n)}return e}const oD=wI();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=new Fl("@firebase/app-compat"),uD="@firebase/app-compat",lD="0.2.46";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(e){Qn(uD,lD,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const e=iI();if(e.firebase!==void 0){Xy.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const t=e.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&Xy.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const wr=oD;cD();var dD="firebase",hD="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wr.registerVersion(dD,hD,"app-compat");var Jy={};const Zy="@firebase/database",e2="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let II="";function SI(e){II=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),ct(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:al(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return En(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new fD(t)}}catch{}return new pD},ms=AI("localStorage"),s0=AI("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=new Fl("@firebase/database"),kI=function(){let e=1;return function(){return e++}}(),xI=function(e){const t=YO(e),n=new WO;n.update(t);const r=n.digest();return o1.encodeByteArray(r)},Ul=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=Ul.apply(null,r):typeof r=="object"?t+=ct(r):t+=r,t+=" "}return t};let bs=null,t2=!0;const NI=function(e,t){W(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Oa.logLevel=Ce.VERBOSE,bs=Oa.log.bind(Oa),t&&s0.set("logging_enabled",!0)):typeof e=="function"?bs=e:(bs=null,s0.remove("logging_enabled"))},yt=function(...e){if(t2===!0&&(t2=!1,bs===null&&s0.get("logging_enabled")===!0&&NI(!0)),bs){const t=Ul.apply(null,e);bs(t)}},Bl=function(e){return function(...t){yt(e,...t)}},a0=function(...e){const t="FIREBASE INTERNAL ERROR: "+Ul(...e);Oa.error(t)},vr=function(...e){const t=`FIREBASE FATAL ERROR: ${Ul(...e)}`;throw Oa.error(t),new Error(t)},Ot=function(...e){const t="FIREBASE WARNING: "+Ul(...e);Oa.warn(t)},mD=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ot("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Lh=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},gD=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Vi="[MIN_NAME]",qr="[MAX_NAME]",Gs=function(e,t){if(e===t)return 0;if(e===Vi||t===qr)return-1;if(t===Vi||e===qr)return 1;{const n=n2(e),r=n2(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},_D=function(e,t){return e===t?0:e<t?-1:1},jo=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+ct(t))},m1=function(e){if(typeof e!="object"||e===null)return ct(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=ct(t[r]),n+=":",n+=m1(e[t[r]]);return n+="}",n},RI=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Ct(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const PI=function(e){W(!Lh(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,s,a,o,u;e===0?(s=0,a=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=o+r,a=Math.round(e*Math.pow(2,n-o)-Math.pow(2,n))):(s=0,a=Math.round(e/Math.pow(2,1-r-n))));const l=[];for(u=n;u;u-=1)l.push(a%2?1:0),a=Math.floor(a/2);for(u=t;u;u-=1)l.push(s%2?1:0),s=Math.floor(s/2);l.push(i?1:0),l.reverse();const d=l.join("");let c="";for(u=0;u<64;u+=8){let f=parseInt(d.substr(u,8),2).toString(16);f.length===1&&(f="0"+f),c=c+f}return c.toLowerCase()},ED=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},yD=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function TD(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}const vD=new RegExp("^-?(0*)\\d{1,10}$"),bD=-2147483648,CD=2147483647,n2=function(e){if(vD.test(e)){const t=Number(e);if(t>=bD&&t<=CD)return t}return null},go=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw Ot("Exception was thrown by user callback.",n),t},Math.floor(0))}},wD=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Tu=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Ot(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(yt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ot(t)}}class La{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}La.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="5",OI="v",LI="s",DI="r",MI="f",FI=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,UI="ls",BI="p",o0="ac",HI="websocket",jI="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(t,n,r,i,s=!1,a="",o=!1,u=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ms.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&ms.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function AD(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function WI(e,t,n){W(typeof t=="string","typeof type must == string"),W(typeof n=="object","typeof params must == object");let r;if(t===HI)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===jI)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);AD(e)&&(n.ns=e.namespace);const i=[];return Ct(n,(s,a)=>{i.push(s+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(){this.counters_={}}incrementCounter(t,n=1){En(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return kO(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up={},lp={};function _1(e){const t=e.toString();return up[t]||(up[t]=new kD),up[t]}function xD(e,t){const n=e.toString();return lp[n]||(lp[n]=t()),lp[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&go(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2="start",RD="close",PD="pLPCommand",OD="pRTLPCB",VI="id",$I="pw",YI="ser",LD="cb",DD="seg",MD="ts",FD="d",UD="dframe",GI=1870,qI=30,BD=GI-qI,HD=25e3,jD=3e4;class _i{constructor(t,n,r,i,s,a,o){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Bl(t),this.stats_=_1(n),this.urlFn=u=>(this.appCheckToken&&(u[o0]=this.appCheckToken),WI(n,jI,u))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new ND(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(jD)),gD(()=>{if(this.isClosed_)return;this.scriptTagHolder=new E1((...s)=>{const[a,o,u,l,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===r2)this.id=o,this.password=u;else if(a===RD)o?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(o,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...s)=>{const[a,o]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,o)},()=>{this.onClosed_()},this.urlFn);const r={};r[r2]="t",r[YI]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[LD]=this.scriptTagHolder.uniqueCallbackIdentifier),r[OI]=g1,this.transportSessionId&&(r[LI]=this.transportSessionId),this.lastSessionId&&(r[UI]=this.lastSessionId),this.applicationId&&(r[BI]=this.applicationId),this.appCheckToken&&(r[o0]=this.appCheckToken),typeof location<"u"&&location.hostname&&FI.test(location.hostname)&&(r[DI]=MI);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){_i.forceAllow_=!0}static forceDisallow(){_i.forceDisallow_=!0}static isAvailable(){return _i.forceAllow_?!0:!_i.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ED()&&!yD()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=ct(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=rI(n),i=RI(r,BD);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[UD]="t",r[VI]=t,r[$I]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=ct(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class E1{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=kI(),window[PD+this.uniqueCallbackIdentifier]=t,window[OD+this.uniqueCallbackIdentifier]=n,this.myIFrame=E1.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(o){yt("frame writing exception"),o.stack&&yt(o.stack),yt(o)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||yt("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[VI]=this.myID,t[$I]=this.myPW,t[YI]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+qI+r.length<=GI;){const a=this.pendingSegs.shift();r=r+"&"+DD+i+"="+a.seg+"&"+MD+i+"="+a.ts+"&"+FD+i+"="+a.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(HD)),s=()=>{clearTimeout(i),r()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{yt("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=16384,WD=45e3;let jd=null;typeof MozWebSocket<"u"?jd=MozWebSocket:typeof WebSocket<"u"&&(jd=WebSocket);class An{constructor(t,n,r,i,s,a,o){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Bl(this.connId),this.stats_=_1(n),this.connURL=An.connectionURL_(n,a,o,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,s){const a={};return a[OI]=g1,typeof location<"u"&&location.hostname&&FI.test(location.hostname)&&(a[DI]=MI),n&&(a[LI]=n),r&&(a[UI]=r),i&&(a[o0]=i),s&&(a[BI]=s),WI(t,HI,a)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ms.set("previous_websocket_failure",!0);try{let r;cI(),this.mySock=new jd(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){An.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&jd!==null&&!An.forceDisallow_}static previouslyFailed(){return ms.isInMemoryStorage||ms.get("previous_websocket_failure")===!0}markConnectionHealthy(){ms.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=al(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(W(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=ct(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=RI(n,zD);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(WD))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}An.responsesRequiredToBeHealthy=2;An.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{static get ALL_TRANSPORTS(){return[_i,An]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const n=An&&An.isAvailable();let r=n&&!An.previouslyFailed();if(t.webSocketOnly&&(n||Ot("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[An];else{const i=this.transports_=[];for(const s of Ja.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Ja.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ja.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=6e4,$D=5e3,YD=10*1024,GD=100*1024,cp="t",i2="d",qD="s",s2="r",KD="e",a2="o",o2="a",u2="n",l2="p",QD="h";class XD{constructor(t,n,r,i,s,a,o,u,l,d){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=o,this.onDisconnect_=u,this.onKill_=l,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Bl("c:"+this.id+":"),this.transportManager_=new Ja(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Tu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>GD?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>YD?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(cp in t){const n=t[cp];n===o2?this.upgradeIfSecondaryHealthy_():n===s2?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===a2&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=jo("t",t),r=jo("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:l2,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:o2,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:u2,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=jo("t",t),r=jo("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=jo(cp,t);if(i2 in t){const r=t[i2];if(n===QD){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===u2){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===qD?this.onConnectionShutdown_(r):n===s2?this.onReset_(r):n===KD?a0("Server Error: "+r):n===a2?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):a0("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),g1!==r&&Ot("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Tu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(VD))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Tu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor($D))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:l2,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ms.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(t){this.allowedEvents_=t,this.listeners_={},W(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(t){W(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd extends QI{static getInstance(){return new zd}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!l1()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return W(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=32,d2=768;class be{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function ve(){return new be("")}function se(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function $i(e){return e.pieces_.length-e.pieceNum_}function Ae(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new be(e.pieces_,t)}function y1(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function JD(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function ll(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function XI(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new be(t,0)}function je(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof be)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new be(n,0)}function ae(e){return e.pieceNum_>=e.pieces_.length}function Bt(e,t){const n=se(e),r=se(t);if(n===null)return t;if(n===r)return Bt(Ae(e),Ae(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function ZD(e,t){const n=ll(e,0),r=ll(t,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Gs(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function T1(e,t){if($i(e)!==$i(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function xn(e,t){let n=e.pieceNum_,r=t.pieceNum_;if($i(e)>$i(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class e5{constructor(t,n){this.errorPrefix_=n,this.parts_=ll(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Oh(this.parts_[r]);JI(this)}}function t5(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Oh(t),JI(e)}function n5(e){const t=e.parts_.pop();e.byteLength_-=Oh(t),e.parts_.length>0&&(e.byteLength_-=1)}function JI(e){if(e.byteLength_>d2)throw new Error(e.errorPrefix_+"has a key path longer than "+d2+" bytes ("+e.byteLength_+").");if(e.parts_.length>c2)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+c2+") or object contains a cycle "+ls(e))}function ls(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1 extends QI{static getInstance(){return new v1}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return W(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=1e3,r5=60*5*1e3,h2=30*1e3,i5=1.3,s5=3e4,a5="server_kill",f2=3;class Br extends KI{constructor(t,n,r,i,s,a,o,u){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.authOverride_=u,this.id=Br.nextPersistentConnectionId_++,this.log_=Bl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=zo,this.maxReconnectDelay_=r5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!cI())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");v1.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&zd.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,s={r:i,a:t,b:n};this.log_(ct(s)),W(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new Gt,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{const o=a.d;a.s==="ok"?n.resolve(o):n.reject(o)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,r,i){this.initConnection_();const s=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),W(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),W(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const o={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(a).set(s,o),this.connected_&&this.sendListen_(o)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},a="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(a,s,o=>{const u=o.d,l=o.s;Br.warnOnListenWarnings_(u,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",o),l!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(l,u))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&En(t,"w")){const r=Os(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Ot(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||zO(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=h2)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=jO(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,a=i.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),W(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const s={p:t},a="n";i&&(s.q=r,s.t=i),this.sendRequest(a,s)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,a=>{i&&setTimeout(()=>{i(a.s,a.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,s){this.initConnection_();const a={p:n,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:t,request:a,onComplete:i}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+ct(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):a0("Unrecognized action received from server: "+ct(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){W(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=zo,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=zo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>s5&&(this.reconnectDelay_=zo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*i5)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Br.nextConnectionId_++,s=this.lastSessionId;let a=!1,o=null;const u=function(){o?o.close():(a=!0,r())},l=function(c){W(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(c)};this.realtime_={close:u,sendRequest:l};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[c,f]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?yt("getToken() completed but was canceled"):(yt("getToken() completed. Creating connection."),this.authToken_=c&&c.accessToken,this.appCheckToken_=f&&f.token,o=new XD(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,p=>{Ot(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(a5)},s))}catch(c){this.log_("Failed to get token: "+c),a||(this.repoInfo_.nodeAdmin&&Ot(c),u())}}}interrupt(t){yt("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){yt("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Ud(this.interruptReasons_)&&(this.reconnectDelay_=zo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(s=>m1(s)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new be(t).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){yt("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=f2&&(this.reconnectDelay_=h2,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){yt("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=f2&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+II.replace(/\./g,"-")]=1,l1()?t["framework.cordova"]=1:Ph()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=zd.getInstance().currentlyOnline();return Ud(this.interruptReasons_)&&t}}Br.nextPersistentConnectionId_=0;Br.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new ue(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new ue(Vi,t),i=new ue(Vi,n);return this.compare(r,i)!==0}minPost(){return ue.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xc;class ZI extends Dh{static get __EMPTY_NODE(){return xc}static set __EMPTY_NODE(t){xc=t}compare(t,n){return Gs(t.name,n.name)}isDefinedOn(t){throw mo("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return ue.MIN}maxPost(){return new ue(qr,xc)}makePost(t,n){return W(typeof t=="string","KeyIndex indexValue must always be a string."),new ue(t,xc)}toString(){return".key"}}const yr=new ZI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(t,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!t.isEmpty();)if(t=t,a=n?r(t.key,n):1,i&&(a*=-1),a<0)this.isReverse_?t=t.left:t=t.right;else if(a===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Et{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Et.RED,this.left=i??Qt.EMPTY_NODE,this.right=s??Qt.EMPTY_NODE}copy(t,n,r,i,s){return new Et(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Qt.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return Qt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Et.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Et.RED=!0;Et.BLACK=!1;class o5{copy(t,n,r,i,s){return this}insert(t,n,r){return new Et(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Qt{constructor(t,n=Qt.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Qt(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Et.BLACK,null,null))}remove(t){return new Qt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Et.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Nc(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Nc(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Nc(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Nc(this.root_,null,this.comparator_,!0,t)}}Qt.EMPTY_NODE=new o5;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u5(e,t){return Gs(e.name,t.name)}function b1(e,t){return Gs(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u0;function l5(e){u0=e}const eS=function(e){return typeof e=="number"?"number:"+PI(e):"string:"+e},tS=function(e){if(e.isLeafNode()){const t=e.val();W(typeof t=="string"||typeof t=="number"||typeof t=="object"&&En(t,".sv"),"Priority must be a string or number.")}else W(e===u0||e.isEmpty(),"priority of unexpected type.");W(e===u0||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p2;class mt{static set __childrenNodeConstructor(t){p2=t}static get __childrenNodeConstructor(){return p2}constructor(t,n=mt.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,W(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),tS(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new mt(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:mt.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ae(t)?this:se(t)===".priority"?this.priorityNode_:mt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:mt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=se(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(W(r!==".priority"||$i(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,mt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ae(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+eS(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=PI(this.value_):t+=this.value_,this.lazyHash_=xI(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===mt.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof mt.__childrenNodeConstructor?-1:(W(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=mt.VALUE_TYPE_ORDER.indexOf(n),s=mt.VALUE_TYPE_ORDER.indexOf(r);return W(i>=0,"Unknown leaf type: "+n),W(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}mt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nS,rS;function c5(e){nS=e}function d5(e){rS=e}class h5 extends Dh{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Gs(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return ue.MIN}maxPost(){return new ue(qr,new mt("[PRIORITY-POST]",rS))}makePost(t,n){const r=nS(t);return new ue(n,new mt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Le=new h5;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5=Math.log(2);class p5{constructor(t){const n=s=>parseInt(Math.log(s)/f5,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Wd=function(e,t,n,r){e.sort(t);const i=function(u,l){const d=l-u;let c,f;if(d===0)return null;if(d===1)return c=e[u],f=n?n(c):c,new Et(f,c.node,Et.BLACK,null,null);{const p=parseInt(d/2,10)+u,g=i(u,p),T=i(p+1,l);return c=e[p],f=n?n(c):c,new Et(f,c.node,Et.BLACK,g,T)}},s=function(u){let l=null,d=null,c=e.length;const f=function(g,T){const w=c-g,_=c;c-=g;const E=i(w+1,_),y=e[w],k=n?n(y):y;p(new Et(k,y.node,T,null,E))},p=function(g){l?(l.left=g,l=g):(d=g,l=g)};for(let g=0;g<u.count;++g){const T=u.nextBitIsOne(),w=Math.pow(2,u.count-(g+1));T?f(w,Et.BLACK):(f(w,Et.BLACK),f(w,Et.RED))}return d},a=new p5(e.length),o=s(a);return new Qt(r||t,o)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dp;const sa={};class Lr{static get Default(){return W(sa&&Le,"ChildrenNode.ts has not been loaded"),dp=dp||new Lr({".priority":sa},{".priority":Le}),dp}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){const n=Os(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Qt?n:null}hasIndex(t){return En(this.indexSet_,t.toString())}addIndex(t,n){W(t!==yr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(ue.Wrap);let a=s.getNext();for(;a;)i=i||t.isDefinedOn(a.node),r.push(a),a=s.getNext();let o;i?o=Wd(r,t.getCompare()):o=sa;const u=t.toString(),l=Object.assign({},this.indexSet_);l[u]=t;const d=Object.assign({},this.indexes_);return d[u]=o,new Lr(d,l)}addToIndexes(t,n){const r=Bd(this.indexes_,(i,s)=>{const a=Os(this.indexSet_,s);if(W(a,"Missing index implementation for "+s),i===sa)if(a.isDefinedOn(t.node)){const o=[],u=n.getIterator(ue.Wrap);let l=u.getNext();for(;l;)l.name!==t.name&&o.push(l),l=u.getNext();return o.push(t),Wd(o,a.getCompare())}else return sa;else{const o=n.get(t.name);let u=i;return o&&(u=u.remove(new ue(t.name,o))),u.insert(t,t.node)}});return new Lr(r,this.indexSet_)}removeFromIndexes(t,n){const r=Bd(this.indexes_,i=>{if(i===sa)return i;{const s=n.get(t.name);return s?i.remove(new ue(t.name,s)):i}});return new Lr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wo;class Z{static get EMPTY_NODE(){return Wo||(Wo=new Z(new Qt(b1),null,Lr.Default))}constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&tS(this.priorityNode_),this.children_.isEmpty()&&W(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Wo}updatePriority(t){return this.children_.isEmpty()?this:new Z(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?Wo:n}}getChild(t){const n=se(t);return n===null?this:this.getImmediateChild(n).getChild(Ae(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(W(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new ue(t,n);let i,s;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));const a=i.isEmpty()?Wo:this.priorityNode_;return new Z(i,a,s)}}updateChild(t,n){const r=se(t);if(r===null)return n;{W(se(t)!==".priority"||$i(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Ae(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Le,(a,o)=>{n[a]=o.val(t),r++,s&&Z.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):s=!1}),!t&&s&&i<2*r){const a=[];for(const o in n)a[o]=n[o];return a}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+eS(this.getPriority().val())+":"),this.forEachChild(Le,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":xI(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new ue(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new ue(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new ue(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,ue.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,ue.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Hl?-1:0}withIndex(t){if(t===yr||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new Z(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===yr||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Le),i=n.getIterator(Le);let s=r.getNext(),a=i.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(t){return t===yr?null:this.indexMap_.get(t.toString())}}Z.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class m5 extends Z{constructor(){super(new Qt(b1),Z.EMPTY_NODE,Lr.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Z.EMPTY_NODE}isEmpty(){return!1}}const Hl=new m5;Object.defineProperties(ue,{MIN:{value:new ue(Vi,Z.EMPTY_NODE)},MAX:{value:new ue(qr,Hl)}});ZI.__EMPTY_NODE=Z.EMPTY_NODE;mt.__childrenNodeConstructor=Z;l5(Hl);d5(Hl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5=!0;function Ve(e,t=null){if(e===null)return Z.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),W(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new mt(n,Ve(t))}if(!(e instanceof Array)&&g5){const n=[];let r=!1;if(Ct(e,(a,o)=>{if(a.substring(0,1)!=="."){const u=Ve(o);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new ue(a,u)))}}),n.length===0)return Z.EMPTY_NODE;const s=Wd(n,u5,a=>a.name,b1);if(r){const a=Wd(n,Le.getCompare());return new Z(s,Ve(t),new Lr({".priority":a},{".priority":Le}))}else return new Z(s,Ve(t),Lr.Default)}else{let n=Z.EMPTY_NODE;return Ct(e,(r,i)=>{if(En(e,r)&&r.substring(0,1)!=="."){const s=Ve(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Ve(t))}}c5(Ve);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1 extends Dh{constructor(t){super(),this.indexPath_=t,W(!ae(t)&&se(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Gs(t.name,n.name):s}makePost(t,n){const r=Ve(t),i=Z.EMPTY_NODE.updateChild(this.indexPath_,r);return new ue(n,i)}maxPost(){const t=Z.EMPTY_NODE.updateChild(this.indexPath_,Hl);return new ue(qr,t)}toString(){return ll(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5 extends Dh{compare(t,n){const r=t.node.compareTo(n.node);return r===0?Gs(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return ue.MIN}maxPost(){return ue.MAX}makePost(t,n){const r=Ve(t);return new ue(n,r)}toString(){return".value"}}const w1=new _5;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(e){return{type:"value",snapshotNode:e}}function Za(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function cl(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function dl(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function E5(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(t){this.index_=t}updateChild(t,n,r,i,s,a){W(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=t.getImmediateChild(n);return o.getChild(i).equals(r.getChild(i))&&o.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?t.hasChild(n)?a.trackChildChange(cl(n,o)):W(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(Za(n,r)):a.trackChildChange(dl(n,r,o))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Le,(i,s)=>{n.hasChild(i)||r.trackChildChange(cl(i,s))}),n.isLeafNode()||n.forEachChild(Le,(i,s)=>{if(t.hasChild(i)){const a=t.getImmediateChild(i);a.equals(s)||r.trackChildChange(dl(i,s,a))}else r.trackChildChange(Za(i,s))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?Z.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(t){this.indexedFilter_=new I1(t.getIndex()),this.index_=t.getIndex(),this.startPost_=hl.getStartPost_(t),this.endPost_=hl.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,s,a){return this.matches(new ue(n,r))||(r=Z.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,a)}updateFullNode(t,n,r){n.isLeafNode()&&(n=Z.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Z.EMPTY_NODE);const s=this;return n.forEachChild(Le,(a,o)=>{s.matches(new ue(a,o))||(i=i.updateImmediateChild(a,Z.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new hl(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,s,a){return this.rangedFilter_.matches(new ue(n,r))||(r=Z.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,a):this.fullLimitUpdateChild_(t,n,r,s,a)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Z.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Z.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){const o=s.getNext();if(this.withinDirectionalStart(o))if(this.withinDirectionalEnd(o))i=i.updateImmediateChild(o.name,o.node),a++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Z.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let a=0;for(;s.hasNext();){const o=s.getNext();a<this.limit_&&this.withinDirectionalStart(o)&&this.withinDirectionalEnd(o)?a++:i=i.updateImmediateChild(o.name,Z.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,s){let a;if(this.reverse_){const c=this.index_.getCompare();a=(f,p)=>c(p,f)}else a=this.index_.getCompare();const o=t;W(o.numChildren()===this.limit_,"");const u=new ue(n,r),l=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),d=this.rangedFilter_.matches(u);if(o.hasChild(n)){const c=o.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,l,this.reverse_);for(;f!=null&&(f.name===n||o.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const p=f==null?1:a(f,u);if(d&&!r.isEmpty()&&p>=0)return s!=null&&s.trackChildChange(dl(n,r,c)),o.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(cl(n,c));const T=o.updateImmediateChild(n,Z.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(Za(f.name,f.node)),T.updateImmediateChild(f.name,f.node)):T}}else return r.isEmpty()?t:d&&a(l,u)>=0?(s!=null&&(s.trackChildChange(cl(l.name,l.node)),s.trackChildChange(Za(n,r))),o.updateImmediateChild(n,r).updateImmediateChild(l.name,Z.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Le}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return W(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return W(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Vi}hasEnd(){return this.endSet_}getIndexEndValue(){return W(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return W(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:qr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return W(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Le}copy(){const t=new Mh;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function T5(e){return e.loadsAllData()?new I1(e.getIndex()):e.hasLimit()?new y5(e):new hl(e)}function v5(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function b5(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function l0(e,t,n){const r=e.copy();return r.startSet_=!0,t===void 0&&(t=null),r.indexStartValue_=t,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function C5(e,t,n){let r;return e.index_===yr||n?r=l0(e,t,n):r=l0(e,t,qr),r.startAfterSet_=!0,r}function c0(e,t,n){const r=e.copy();return r.endSet_=!0,t===void 0&&(t=null),r.indexEndValue_=t,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function w5(e,t,n){let r;return e.index_===yr||n?r=c0(e,t,n):r=c0(e,t,Vi),r.endBeforeSet_=!0,r}function Fh(e,t){const n=e.copy();return n.index_=t,n}function m2(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Le?n="$priority":e.index_===w1?n="$value":e.index_===yr?n="$key":(W(e.index_ instanceof C1,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=ct(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=ct(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+ct(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=ct(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+ct(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function g2(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Le&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd extends KI{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(W(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Bl("p:rest:"),this.listens_={}}listen(t,n,r,i){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const a=Vd.getListenId_(t,r),o={};this.listens_[a]=o;const u=m2(t._queryParams);this.restRequest_(s+".json",u,(l,d)=>{let c=d;if(l===404&&(c=null,l=null),l===null&&this.onDataUpdate_(s,c,!1,r),Os(this.listens_,a)===o){let f;l?l===401?f="permission_denied":f="rest_error:"+l:f="ok",i(f,null)}})}unlisten(t,n){const r=Vd.getListenId_(t,n);delete this.listens_[r]}get(t){const n=m2(t._queryParams),r=t._path.toString(),i=new Gt;return this.restRequest_(r+".json",n,(s,a)=>{let o=a;s===404&&(o=null,s=null),s===null?(this.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Ys(n);this.log_("Sending REST request for "+a);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(r&&o.readyState===4){this.log_("REST Response for "+a+" received. status:",o.status,"response:",o.responseText);let u=null;if(o.status>=200&&o.status<300){try{u=al(o.responseText)}catch{Ot("Failed to parse JSON response for "+a+": "+o.responseText)}r(null,u)}else o.status!==401&&o.status!==404&&Ot("Got unsuccessful REST response for "+a+" Status: "+o.status),r(o.status);r=null}},o.open("GET",a,!0),o.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(){this.rootNode_=Z.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(){return{value:null,children:new Map}}function _o(e,t,n){if(ae(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=se(t);e.children.has(r)||e.children.set(r,$d());const i=e.children.get(r);t=Ae(t),_o(i,t,n)}}function d0(e,t){if(ae(t))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(Le,(r,i)=>{_o(e,new be(r),i)}),d0(e,t)}}else if(e.children.size>0){const n=se(t);return t=Ae(t),e.children.has(n)&&d0(e.children.get(n),t)&&e.children.delete(n),e.children.size===0}else return!0}function h0(e,t,n){e.value!==null?n(t,e.value):S5(e,(r,i)=>{const s=new be(t.toString()+"/"+r);h0(i,s,n)})}function S5(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Ct(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=10*1e3,k5=30*1e3,x5=5*60*1e3;class N5{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new A5(t);const r=_2+(k5-_2)*Math.random();Tu(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;Ct(t,(i,s)=>{s>0&&En(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Tu(this.reportStats_.bind(this),Math.floor(Math.random()*2*x5))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gn;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Gn||(Gn={}));function S1(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function A1(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function k1(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Gn.ACK_USER_WRITE,this.source=S1()}operationForChild(t){if(ae(this.path)){if(this.affectedTree.value!=null)return W(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new be(t));return new Yd(ve(),n,this.revert)}}else return W(se(this.path)===t,"operationForChild called for unrelated child."),new Yd(Ae(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(t,n){this.source=t,this.path=n,this.type=Gn.LISTEN_COMPLETE}operationForChild(t){return ae(this.path)?new fl(this.source,ve()):new fl(this.source,Ae(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Gn.OVERWRITE}operationForChild(t){return ae(this.path)?new Ls(this.source,ve(),this.snap.getImmediateChild(t)):new Ls(this.source,Ae(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Gn.MERGE}operationForChild(t){if(ae(this.path)){const n=this.children.subtree(new be(t));return n.isEmpty()?null:n.value?new Ls(this.source,ve(),n.value):new eo(this.source,ve(),n)}else return W(se(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new eo(this.source,Ae(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(ae(t))return this.isFullyInitialized()&&!this.filtered_;const n=se(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function P5(e,t,n,r){const i=[],s=[];return t.forEach(a=>{a.type==="child_changed"&&e.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(E5(a.childName,a.snapshotNode))}),Vo(e,i,"child_removed",t,r,n),Vo(e,i,"child_added",t,r,n),Vo(e,i,"child_moved",s,r,n),Vo(e,i,"child_changed",t,r,n),Vo(e,i,"value",t,r,n),i}function Vo(e,t,n,r,i,s){const a=r.filter(o=>o.type===n);a.sort((o,u)=>L5(e,o,u)),a.forEach(o=>{const u=O5(e,o,s);i.forEach(l=>{l.respondsTo(o.type)&&t.push(l.createEvent(u,e.query_))})})}function O5(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function L5(e,t,n){if(t.childName==null||n.childName==null)throw mo("Should only compare child_ events.");const r=new ue(t.childName,t.snapshotNode),i=new ue(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(e,t){return{eventCache:e,serverCache:t}}function vu(e,t,n,r){return Uh(new Yi(t,n,r),e.serverCache)}function sS(e,t,n,r){return Uh(e.eventCache,new Yi(t,n,r))}function Gd(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Ds(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hp;const D5=()=>(hp||(hp=new Qt(_D)),hp);class Pe{static fromObject(t){let n=new Pe(null);return Ct(t,(r,i)=>{n=n.set(new be(r),i)}),n}constructor(t,n=D5()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:ve(),value:this.value};if(ae(t))return null;{const r=se(t),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Ae(t),n);return s!=null?{path:je(new be(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(ae(t))return this;{const n=se(t),r=this.children.get(n);return r!==null?r.subtree(Ae(t)):new Pe(null)}}set(t,n){if(ae(t))return new Pe(n,this.children);{const r=se(t),s=(this.children.get(r)||new Pe(null)).set(Ae(t),n),a=this.children.insert(r,s);return new Pe(this.value,a)}}remove(t){if(ae(t))return this.children.isEmpty()?new Pe(null):new Pe(null,this.children);{const n=se(t),r=this.children.get(n);if(r){const i=r.remove(Ae(t));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Pe(null):new Pe(this.value,s)}else return this}}get(t){if(ae(t))return this.value;{const n=se(t),r=this.children.get(n);return r?r.get(Ae(t)):null}}setTree(t,n){if(ae(t))return n;{const r=se(t),s=(this.children.get(r)||new Pe(null)).setTree(Ae(t),n);let a;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new Pe(this.value,a)}}fold(t){return this.fold_(ve(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(je(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,ve(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(ae(t))return null;{const s=se(t),a=this.children.get(s);return a?a.findOnPath_(Ae(t),je(n,s),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,ve(),n)}foreachOnPath_(t,n,r){if(ae(t))return this;{this.value&&r(n,this.value);const i=se(t),s=this.children.get(i);return s?s.foreachOnPath_(Ae(t),je(n,i),r):new Pe(null)}}foreach(t){this.foreach_(ve(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(je(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(t){this.writeTree_=t}static empty(){return new Xn(new Pe(null))}}function bu(e,t,n){if(ae(t))return new Xn(new Pe(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let s=r.value;const a=Bt(i,t);return s=s.updateChild(a,n),new Xn(e.writeTree_.set(i,s))}else{const i=new Pe(n),s=e.writeTree_.setTree(t,i);return new Xn(s)}}}function f0(e,t,n){let r=e;return Ct(n,(i,s)=>{r=bu(r,je(t,i),s)}),r}function E2(e,t){if(ae(t))return Xn.empty();{const n=e.writeTree_.setTree(t,new Pe(null));return new Xn(n)}}function p0(e,t){return qs(e,t)!=null}function qs(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Bt(n.path,t)):null}function y2(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Le,(r,i)=>{t.push(new ue(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new ue(r,i.value))}),t}function Ri(e,t){if(ae(t))return e;{const n=qs(e,t);return n!=null?new Xn(new Pe(n)):new Xn(e.writeTree_.subtree(t))}}function m0(e){return e.writeTree_.isEmpty()}function to(e,t){return aS(ve(),e.writeTree_,t)}function aS(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,s)=>{i===".priority"?(W(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=aS(je(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(je(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(e,t){return cS(t,e)}function M5(e,t,n,r,i){W(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=bu(e.visibleWrites,t,n)),e.lastWriteId=r}function F5(e,t,n,r){W(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=f0(e.visibleWrites,t,n),e.lastWriteId=r}function U5(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function B5(e,t){const n=e.allWrites.findIndex(o=>o.writeId===t);W(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,a=e.allWrites.length-1;for(;i&&a>=0;){const o=e.allWrites[a];o.visible&&(a>=n&&H5(o,r.path)?i=!1:xn(r.path,o.path)&&(s=!0)),a--}if(i){if(s)return j5(e),!0;if(r.snap)e.visibleWrites=E2(e.visibleWrites,r.path);else{const o=r.children;Ct(o,u=>{e.visibleWrites=E2(e.visibleWrites,je(r.path,u))})}return!0}else return!1}function H5(e,t){if(e.snap)return xn(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&xn(je(e.path,n),t))return!0;return!1}function j5(e){e.visibleWrites=oS(e.allWrites,z5,ve()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function z5(e){return e.visible}function oS(e,t,n){let r=Xn.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const a=s.path;let o;if(s.snap)xn(n,a)?(o=Bt(n,a),r=bu(r,o,s.snap)):xn(a,n)&&(o=Bt(a,n),r=bu(r,ve(),s.snap.getChild(o)));else if(s.children){if(xn(n,a))o=Bt(n,a),r=f0(r,o,s.children);else if(xn(a,n))if(o=Bt(a,n),ae(o))r=f0(r,ve(),s.children);else{const u=Os(s.children,se(o));if(u){const l=u.getChild(Ae(o));r=bu(r,ve(),l)}}}else throw mo("WriteRecord should have .snap or .children")}}return r}function uS(e,t,n,r,i){if(!r&&!i){const s=qs(e.visibleWrites,t);if(s!=null)return s;{const a=Ri(e.visibleWrites,t);if(m0(a))return n;if(n==null&&!p0(a,ve()))return null;{const o=n||Z.EMPTY_NODE;return to(a,o)}}}else{const s=Ri(e.visibleWrites,t);if(!i&&m0(s))return n;if(!i&&n==null&&!p0(s,ve()))return null;{const a=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(xn(l.path,t)||xn(t,l.path))},o=oS(e.allWrites,a,t),u=n||Z.EMPTY_NODE;return to(o,u)}}}function W5(e,t,n){let r=Z.EMPTY_NODE;const i=qs(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Le,(s,a)=>{r=r.updateImmediateChild(s,a)}),r;if(n){const s=Ri(e.visibleWrites,t);return n.forEachChild(Le,(a,o)=>{const u=to(Ri(s,new be(a)),o);r=r.updateImmediateChild(a,u)}),y2(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const s=Ri(e.visibleWrites,t);return y2(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}function V5(e,t,n,r,i){W(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=je(t,n);if(p0(e.visibleWrites,s))return null;{const a=Ri(e.visibleWrites,s);return m0(a)?i.getChild(n):to(a,i.getChild(n))}}function $5(e,t,n,r){const i=je(t,n),s=qs(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const a=Ri(e.visibleWrites,i);return to(a,r.getNode().getImmediateChild(n))}else return null}function Y5(e,t){return qs(e.visibleWrites,t)}function G5(e,t,n,r,i,s,a){let o;const u=Ri(e.visibleWrites,t),l=qs(u,ve());if(l!=null)o=l;else if(n!=null)o=to(u,n);else return[];if(o=o.withIndex(a),!o.isEmpty()&&!o.isLeafNode()){const d=[],c=a.getCompare(),f=s?o.getReverseIteratorFrom(r,a):o.getIteratorFrom(r,a);let p=f.getNext();for(;p&&d.length<i;)c(p,r)!==0&&d.push(p),p=f.getNext();return d}else return[]}function q5(){return{visibleWrites:Xn.empty(),allWrites:[],lastWriteId:-1}}function qd(e,t,n,r){return uS(e.writeTree,e.treePath,t,n,r)}function x1(e,t){return W5(e.writeTree,e.treePath,t)}function T2(e,t,n,r){return V5(e.writeTree,e.treePath,t,n,r)}function Kd(e,t){return Y5(e.writeTree,je(e.treePath,t))}function K5(e,t,n,r,i,s){return G5(e.writeTree,e.treePath,t,n,r,i,s)}function N1(e,t,n){return $5(e.writeTree,e.treePath,t,n)}function lS(e,t){return cS(je(e.treePath,t),e.writeTree)}function cS(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;W(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),W(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,dl(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,cl(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Za(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,dl(r,t.snapshotNode,i.oldSnap));else throw mo("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const dS=new X5;class R1{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new Yi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return N1(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ds(this.viewCache_),s=K5(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(e){return{filter:e}}function Z5(e,t){W(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),W(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function e8(e,t,n,r,i){const s=new Q5;let a,o;if(n.type===Gn.OVERWRITE){const l=n;l.source.fromUser?a=g0(e,t,l.path,l.snap,r,i,s):(W(l.source.fromServer,"Unknown source."),o=l.source.tagged||t.serverCache.isFiltered()&&!ae(l.path),a=Qd(e,t,l.path,l.snap,r,i,o,s))}else if(n.type===Gn.MERGE){const l=n;l.source.fromUser?a=n8(e,t,l.path,l.children,r,i,s):(W(l.source.fromServer,"Unknown source."),o=l.source.tagged||t.serverCache.isFiltered(),a=_0(e,t,l.path,l.children,r,i,o,s))}else if(n.type===Gn.ACK_USER_WRITE){const l=n;l.revert?a=s8(e,t,l.path,r,i,s):a=r8(e,t,l.path,l.affectedTree,r,i,s)}else if(n.type===Gn.LISTEN_COMPLETE)a=i8(e,t,n.path,r,s);else throw mo("Unknown operation type: "+n.type);const u=s.getChanges();return t8(t,a,u),{viewCache:a,changes:u}}function t8(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Gd(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(iS(Gd(t)))}}function hS(e,t,n,r,i,s){const a=t.eventCache;if(Kd(r,n)!=null)return t;{let o,u;if(ae(n))if(W(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const l=Ds(t),d=l instanceof Z?l:Z.EMPTY_NODE,c=x1(r,d);o=e.filter.updateFullNode(t.eventCache.getNode(),c,s)}else{const l=qd(r,Ds(t));o=e.filter.updateFullNode(t.eventCache.getNode(),l,s)}else{const l=se(n);if(l===".priority"){W($i(n)===1,"Can't have a priority with additional path components");const d=a.getNode();u=t.serverCache.getNode();const c=T2(r,n,d,u);c!=null?o=e.filter.updatePriority(d,c):o=a.getNode()}else{const d=Ae(n);let c;if(a.isCompleteForChild(l)){u=t.serverCache.getNode();const f=T2(r,n,a.getNode(),u);f!=null?c=a.getNode().getImmediateChild(l).updateChild(d,f):c=a.getNode().getImmediateChild(l)}else c=N1(r,l,t.serverCache);c!=null?o=e.filter.updateChild(a.getNode(),l,c,d,i,s):o=a.getNode()}}return vu(t,o,a.isFullyInitialized()||ae(n),e.filter.filtersNodes())}}function Qd(e,t,n,r,i,s,a,o){const u=t.serverCache;let l;const d=a?e.filter:e.filter.getIndexedFilter();if(ae(n))l=d.updateFullNode(u.getNode(),r,null);else if(d.filtersNodes()&&!u.isFiltered()){const p=u.getNode().updateChild(n,r);l=d.updateFullNode(u.getNode(),p,null)}else{const p=se(n);if(!u.isCompleteForPath(n)&&$i(n)>1)return t;const g=Ae(n),w=u.getNode().getImmediateChild(p).updateChild(g,r);p===".priority"?l=d.updatePriority(u.getNode(),w):l=d.updateChild(u.getNode(),p,w,g,dS,null)}const c=sS(t,l,u.isFullyInitialized()||ae(n),d.filtersNodes()),f=new R1(i,c,s);return hS(e,c,n,i,f,o)}function g0(e,t,n,r,i,s,a){const o=t.eventCache;let u,l;const d=new R1(i,t,s);if(ae(n))l=e.filter.updateFullNode(t.eventCache.getNode(),r,a),u=vu(t,l,!0,e.filter.filtersNodes());else{const c=se(n);if(c===".priority")l=e.filter.updatePriority(t.eventCache.getNode(),r),u=vu(t,l,o.isFullyInitialized(),o.isFiltered());else{const f=Ae(n),p=o.getNode().getImmediateChild(c);let g;if(ae(f))g=r;else{const T=d.getCompleteChild(c);T!=null?y1(f)===".priority"&&T.getChild(XI(f)).isEmpty()?g=T:g=T.updateChild(f,r):g=Z.EMPTY_NODE}if(p.equals(g))u=t;else{const T=e.filter.updateChild(o.getNode(),c,g,f,d,a);u=vu(t,T,o.isFullyInitialized(),e.filter.filtersNodes())}}}return u}function v2(e,t){return e.eventCache.isCompleteForChild(t)}function n8(e,t,n,r,i,s,a){let o=t;return r.foreach((u,l)=>{const d=je(n,u);v2(t,se(d))&&(o=g0(e,o,d,l,i,s,a))}),r.foreach((u,l)=>{const d=je(n,u);v2(t,se(d))||(o=g0(e,o,d,l,i,s,a))}),o}function b2(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function _0(e,t,n,r,i,s,a,o){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let u=t,l;ae(n)?l=r:l=new Pe(null).setTree(n,r);const d=t.serverCache.getNode();return l.children.inorderTraversal((c,f)=>{if(d.hasChild(c)){const p=t.serverCache.getNode().getImmediateChild(c),g=b2(e,p,f);u=Qd(e,u,new be(c),g,i,s,a,o)}}),l.children.inorderTraversal((c,f)=>{const p=!t.serverCache.isCompleteForChild(c)&&f.value===null;if(!d.hasChild(c)&&!p){const g=t.serverCache.getNode().getImmediateChild(c),T=b2(e,g,f);u=Qd(e,u,new be(c),T,i,s,a,o)}}),u}function r8(e,t,n,r,i,s,a){if(Kd(i,n)!=null)return t;const o=t.serverCache.isFiltered(),u=t.serverCache;if(r.value!=null){if(ae(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Qd(e,t,n,u.getNode().getChild(n),i,s,o,a);if(ae(n)){let l=new Pe(null);return u.getNode().forEachChild(yr,(d,c)=>{l=l.set(new be(d),c)}),_0(e,t,n,l,i,s,o,a)}else return t}else{let l=new Pe(null);return r.foreach((d,c)=>{const f=je(n,d);u.isCompleteForPath(f)&&(l=l.set(d,u.getNode().getChild(f)))}),_0(e,t,n,l,i,s,o,a)}}function i8(e,t,n,r,i){const s=t.serverCache,a=sS(t,s.getNode(),s.isFullyInitialized()||ae(n),s.isFiltered());return hS(e,a,n,r,dS,i)}function s8(e,t,n,r,i,s){let a;if(Kd(r,n)!=null)return t;{const o=new R1(r,t,i),u=t.eventCache.getNode();let l;if(ae(n)||se(n)===".priority"){let d;if(t.serverCache.isFullyInitialized())d=qd(r,Ds(t));else{const c=t.serverCache.getNode();W(c instanceof Z,"serverChildren would be complete if leaf node"),d=x1(r,c)}d=d,l=e.filter.updateFullNode(u,d,s)}else{const d=se(n);let c=N1(r,d,t.serverCache);c==null&&t.serverCache.isCompleteForChild(d)&&(c=u.getImmediateChild(d)),c!=null?l=e.filter.updateChild(u,d,c,Ae(n),o,s):t.eventCache.getNode().hasChild(d)?l=e.filter.updateChild(u,d,Z.EMPTY_NODE,Ae(n),o,s):l=u,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=qd(r,Ds(t)),a.isLeafNode()&&(l=e.filter.updateFullNode(l,a,s)))}return a=t.serverCache.isFullyInitialized()||Kd(r,ve())!=null,vu(t,l,a,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new I1(r.getIndex()),s=T5(r);this.processor_=J5(s);const a=n.serverCache,o=n.eventCache,u=i.updateFullNode(Z.EMPTY_NODE,a.getNode(),null),l=s.updateFullNode(Z.EMPTY_NODE,o.getNode(),null),d=new Yi(u,a.isFullyInitialized(),i.filtersNodes()),c=new Yi(l,o.isFullyInitialized(),s.filtersNodes());this.viewCache_=Uh(c,d),this.eventGenerator_=new R5(this.query_)}get query(){return this.query_}}function o8(e){return e.viewCache_.serverCache.getNode()}function u8(e){return Gd(e.viewCache_)}function l8(e,t){const n=Ds(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!ae(t)&&!n.getImmediateChild(se(t)).isEmpty())?n.getChild(t):null}function C2(e){return e.eventRegistrations_.length===0}function c8(e,t){e.eventRegistrations_.push(t)}function w2(e,t,n){const r=[];if(n){W(t==null,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(s=>{const a=s.createCancelEvent(n,i);a&&r.push(a)})}if(t){let i=[];for(let s=0;s<e.eventRegistrations_.length;++s){const a=e.eventRegistrations_[s];if(!a.matches(t))i.push(a);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(s+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function I2(e,t,n,r){t.type===Gn.MERGE&&t.source.queryId!==null&&(W(Ds(e.viewCache_),"We should always have a full cache before handling merges"),W(Gd(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=e8(e.processor_,i,t,n,r);return Z5(e.processor_,s.viewCache),W(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,fS(e,s.changes,s.viewCache.eventCache.getNode(),null)}function d8(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Le,(s,a)=>{r.push(Za(s,a))}),n.isFullyInitialized()&&r.push(iS(n.getNode())),fS(e,r,n.getNode(),t)}function fS(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return P5(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xd;class pS{constructor(){this.views=new Map}}function h8(e){W(!Xd,"__referenceConstructor has already been defined"),Xd=e}function f8(){return W(Xd,"Reference.ts has not been loaded"),Xd}function p8(e){return e.views.size===0}function P1(e,t,n,r){const i=t.source.queryId;if(i!==null){const s=e.views.get(i);return W(s!=null,"SyncTree gave us an op for an invalid query."),I2(s,t,n,r)}else{let s=[];for(const a of e.views.values())s=s.concat(I2(a,t,n,r));return s}}function mS(e,t,n,r,i){const s=t._queryIdentifier,a=e.views.get(s);if(!a){let o=qd(n,i?r:null),u=!1;o?u=!0:r instanceof Z?(o=x1(n,r),u=!1):(o=Z.EMPTY_NODE,u=!1);const l=Uh(new Yi(o,u,!1),new Yi(r,i,!1));return new a8(t,l)}return a}function m8(e,t,n,r,i,s){const a=mS(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),c8(a,n),d8(a,n)}function g8(e,t,n,r){const i=t._queryIdentifier,s=[];let a=[];const o=Gi(e);if(i==="default")for(const[u,l]of e.views.entries())a=a.concat(w2(l,n,r)),C2(l)&&(e.views.delete(u),l.query._queryParams.loadsAllData()||s.push(l.query));else{const u=e.views.get(i);u&&(a=a.concat(w2(u,n,r)),C2(u)&&(e.views.delete(i),u.query._queryParams.loadsAllData()||s.push(u.query)))}return o&&!Gi(e)&&s.push(new(f8())(t._repo,t._path)),{removed:s,events:a}}function gS(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Pi(e,t){let n=null;for(const r of e.views.values())n=n||l8(r,t);return n}function _S(e,t){if(t._queryParams.loadsAllData())return Hh(e);{const r=t._queryIdentifier;return e.views.get(r)}}function ES(e,t){return _S(e,t)!=null}function Gi(e){return Hh(e)!=null}function Hh(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jd;function _8(e){W(!Jd,"__referenceConstructor has already been defined"),Jd=e}function E8(){return W(Jd,"Reference.ts has not been loaded"),Jd}let y8=1;class S2{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Pe(null),this.pendingWriteTree_=q5(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function O1(e,t,n,r,i){return M5(e.pendingWriteTree_,t,n,r,i),i?Eo(e,new Ls(S1(),t,n)):[]}function T8(e,t,n,r){F5(e.pendingWriteTree_,t,n,r);const i=Pe.fromObject(n);return Eo(e,new eo(S1(),t,i))}function Ei(e,t,n=!1){const r=U5(e.pendingWriteTree_,t);if(B5(e.pendingWriteTree_,t)){let s=new Pe(null);return r.snap!=null?s=s.set(ve(),!0):Ct(r.children,a=>{s=s.set(new be(a),!0)}),Eo(e,new Yd(r.path,s,n))}else return[]}function jl(e,t,n){return Eo(e,new Ls(A1(),t,n))}function v8(e,t,n){const r=Pe.fromObject(n);return Eo(e,new eo(A1(),t,r))}function b8(e,t){return Eo(e,new fl(A1(),t))}function C8(e,t,n){const r=L1(e,n);if(r){const i=D1(r),s=i.path,a=i.queryId,o=Bt(s,t),u=new fl(k1(a),o);return M1(e,s,u)}else return[]}function Zd(e,t,n,r,i=!1){const s=t._path,a=e.syncPointTree_.get(s);let o=[];if(a&&(t._queryIdentifier==="default"||ES(a,t))){const u=g8(a,t,n,r);p8(a)&&(e.syncPointTree_=e.syncPointTree_.remove(s));const l=u.removed;if(o=u.events,!i){const d=l.findIndex(f=>f._queryParams.loadsAllData())!==-1,c=e.syncPointTree_.findOnPath(s,(f,p)=>Gi(p));if(d&&!c){const f=e.syncPointTree_.subtree(s);if(!f.isEmpty()){const p=S8(f);for(let g=0;g<p.length;++g){const T=p[g],w=T.query,_=bS(e,T);e.listenProvider_.startListening(Cu(w),pl(e,w),_.hashFn,_.onComplete)}}}!c&&l.length>0&&!r&&(d?e.listenProvider_.stopListening(Cu(t),null):l.forEach(f=>{const p=e.queryToTagMap.get(zh(f));e.listenProvider_.stopListening(Cu(f),p)}))}A8(e,l)}return o}function yS(e,t,n,r){const i=L1(e,r);if(i!=null){const s=D1(i),a=s.path,o=s.queryId,u=Bt(a,t),l=new Ls(k1(o),u,n);return M1(e,a,l)}else return[]}function w8(e,t,n,r){const i=L1(e,r);if(i){const s=D1(i),a=s.path,o=s.queryId,u=Bt(a,t),l=Pe.fromObject(n),d=new eo(k1(o),u,l);return M1(e,a,d)}else return[]}function E0(e,t,n,r=!1){const i=t._path;let s=null,a=!1;e.syncPointTree_.foreachOnPath(i,(f,p)=>{const g=Bt(f,i);s=s||Pi(p,g),a=a||Gi(p)});let o=e.syncPointTree_.get(i);o?(a=a||Gi(o),s=s||Pi(o,ve())):(o=new pS,e.syncPointTree_=e.syncPointTree_.set(i,o));let u;s!=null?u=!0:(u=!1,s=Z.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((p,g)=>{const T=Pi(g,ve());T&&(s=s.updateImmediateChild(p,T))}));const l=ES(o,t);if(!l&&!t._queryParams.loadsAllData()){const f=zh(t);W(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");const p=k8();e.queryToTagMap.set(f,p),e.tagToQueryMap.set(p,f)}const d=Bh(e.pendingWriteTree_,i);let c=m8(o,t,n,d,s,u);if(!l&&!a&&!r){const f=_S(o,t);c=c.concat(x8(e,t,f))}return c}function jh(e,t,n){const i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(a,o)=>{const u=Bt(a,t),l=Pi(o,u);if(l)return l});return uS(i,t,s,n,!0)}function I8(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(l,d)=>{const c=Bt(l,n);r=r||Pi(d,c)});let i=e.syncPointTree_.get(n);i?r=r||Pi(i,ve()):(i=new pS,e.syncPointTree_=e.syncPointTree_.set(n,i));const s=r!=null,a=s?new Yi(r,!0,!1):null,o=Bh(e.pendingWriteTree_,t._path),u=mS(i,t,o,s?a.getNode():Z.EMPTY_NODE,s);return u8(u)}function Eo(e,t){return TS(t,e.syncPointTree_,null,Bh(e.pendingWriteTree_,ve()))}function TS(e,t,n,r){if(ae(e.path))return vS(e,t,n,r);{const i=t.get(ve());n==null&&i!=null&&(n=Pi(i,ve()));let s=[];const a=se(e.path),o=e.operationForChild(a),u=t.children.get(a);if(u&&o){const l=n?n.getImmediateChild(a):null,d=lS(r,a);s=s.concat(TS(o,u,l,d))}return i&&(s=s.concat(P1(i,e,r,n))),s}}function vS(e,t,n,r){const i=t.get(ve());n==null&&i!=null&&(n=Pi(i,ve()));let s=[];return t.children.inorderTraversal((a,o)=>{const u=n?n.getImmediateChild(a):null,l=lS(r,a),d=e.operationForChild(a);d&&(s=s.concat(vS(d,o,u,l)))}),i&&(s=s.concat(P1(i,e,r,n))),s}function bS(e,t){const n=t.query,r=pl(e,n);return{hashFn:()=>(o8(t)||Z.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?C8(e,n._path,r):b8(e,n._path);{const s=TD(i,n);return Zd(e,n,null,s)}}}}function pl(e,t){const n=zh(t);return e.queryToTagMap.get(n)}function zh(e){return e._path.toString()+"$"+e._queryIdentifier}function L1(e,t){return e.tagToQueryMap.get(t)}function D1(e){const t=e.indexOf("$");return W(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new be(e.substr(0,t))}}function M1(e,t,n){const r=e.syncPointTree_.get(t);W(r,"Missing sync point for query tag that we're tracking");const i=Bh(e.pendingWriteTree_,t);return P1(r,n,i,null)}function S8(e){return e.fold((t,n,r)=>{if(n&&Gi(n))return[Hh(n)];{let i=[];return n&&(i=gS(n)),Ct(r,(s,a)=>{i=i.concat(a)}),i}})}function Cu(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(E8())(e._repo,e._path):e}function A8(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=zh(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function k8(){return y8++}function x8(e,t,n){const r=t._path,i=pl(e,t),s=bS(e,n),a=e.listenProvider_.startListening(Cu(t),i,s.hashFn,s.onComplete),o=e.syncPointTree_.subtree(r);if(i)W(!Gi(o.value),"If we're adding a query, it shouldn't be shadowed");else{const u=o.fold((l,d,c)=>{if(!ae(l)&&d&&Gi(d))return[Hh(d).query];{let f=[];return d&&(f=f.concat(gS(d).map(p=>p.query))),Ct(c,(p,g)=>{f=f.concat(g)}),f}});for(let l=0;l<u.length;++l){const d=u[l];e.listenProvider_.stopListening(Cu(d),pl(e,d))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new F1(n)}node(){return this.node_}}class U1{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=je(this.path_,t);return new U1(this.syncTree_,n)}node(){return jh(this.syncTree_,this.path_)}}const N8=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},A2=function(e,t,n){if(!e||typeof e!="object")return e;if(W(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return R8(e[".sv"],t,n);if(typeof e[".sv"]=="object")return P8(e[".sv"],t);W(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},R8=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:W(!1,"Unexpected server value: "+e)}},P8=function(e,t,n){e.hasOwnProperty("increment")||W(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&W(!1,"Unexpected increment value: "+r);const i=t.node();if(W(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const a=i.getValue();return typeof a!="number"?r:a+r},CS=function(e,t,n,r){return H1(t,new U1(n,e),r)},B1=function(e,t,n){return H1(e,new F1(t),n)};function H1(e,t,n){const r=e.getPriority().val(),i=A2(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const a=e,o=A2(a.getValue(),t,n);return o!==a.getValue()||i!==a.getPriority().val()?new mt(o,Ve(i)):e}else{const a=e;return s=a,i!==a.getPriority().val()&&(s=s.updatePriority(new mt(i))),a.forEachChild(Le,(o,u)=>{const l=H1(u,t.getImmediateChild(o),n);l!==u&&(s=s.updateImmediateChild(o,l))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function Wh(e,t){let n=t instanceof be?t:new be(t),r=e,i=se(n);for(;i!==null;){const s=Os(r.node.children,i)||{children:{},childCount:0};r=new j1(i,r,s),n=Ae(n),i=se(n)}return r}function Ks(e){return e.node.value}function z1(e,t){e.node.value=t,y0(e)}function wS(e){return e.node.childCount>0}function O8(e){return Ks(e)===void 0&&!wS(e)}function Vh(e,t){Ct(e.node.children,(n,r)=>{t(new j1(n,e,r))})}function IS(e,t,n,r){n&&!r&&t(e),Vh(e,i=>{IS(i,t,!0,r)}),n&&r&&t(e)}function L8(e,t,n){let r=e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function zl(e){return new be(e.parent===null?e.name:zl(e.parent)+"/"+e.name)}function y0(e){e.parent!==null&&D8(e.parent,e.name,e)}function D8(e,t,n){const r=O8(n),i=En(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,y0(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,y0(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8=/[\[\].#$\/\u0000-\u001F\u007F]/,F8=/[\[\].#$\u0000-\u001F\u007F]/,fp=10*1024*1024,$h=function(e){return typeof e=="string"&&e.length!==0&&!M8.test(e)},SS=function(e){return typeof e=="string"&&e.length!==0&&!F8.test(e)},U8=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),SS(e)},ml=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!Lh(e)||e&&typeof e=="object"&&En(e,".sv")},br=function(e,t,n,r){r&&t===void 0||Wl(tn(e,"value"),t,n)},Wl=function(e,t,n){const r=n instanceof be?new e5(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+ls(r));if(typeof t=="function")throw new Error(e+"contains a function "+ls(r)+" with contents = "+t.toString());if(Lh(t))throw new Error(e+"contains "+t.toString()+" "+ls(r));if(typeof t=="string"&&t.length>fp/3&&Oh(t)>fp)throw new Error(e+"contains a string greater than "+fp+" utf8 bytes "+ls(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,s=!1;if(Ct(t,(a,o)=>{if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!$h(a)))throw new Error(e+" contains an invalid key ("+a+") "+ls(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);t5(r,a),Wl(e,o,r),n5(r)}),i&&s)throw new Error(e+' contains ".value" child '+ls(r)+" in addition to actual children.")}},B8=function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const s=ll(r);for(let a=0;a<s.length;a++)if(!(s[a]===".priority"&&a===s.length-1)){if(!$h(s[a]))throw new Error(e+"contains an invalid key ("+s[a]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(ZD);let i=null;for(n=0;n<t.length;n++){if(r=t[n],i!==null&&xn(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},AS=function(e,t,n,r){const i=tn(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const s=[];Ct(t,(a,o)=>{const u=new be(a);if(Wl(i,o,je(n,u)),y1(u)===".priority"&&!ml(o))throw new Error(i+"contains an invalid value for '"+u.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(u)}),B8(i,s)},W1=function(e,t,n){if(Lh(t))throw new Error(tn(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ml(t))throw new Error(tn(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},Vl=function(e,t,n,r){if(n!==void 0&&!$h(n))throw new Error(tn(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},gl=function(e,t,n,r){if(!SS(n))throw new Error(tn(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},H8=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),gl(e,t,n)},Nn=function(e,t){if(se(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},kS=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!$h(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!U8(n))throw new Error(tn(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j8{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Yh(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();n!==null&&!T1(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function xS(e,t,n){Yh(e,n),NS(e,r=>T1(r,t))}function yn(e,t,n){Yh(e,n),NS(e,r=>xn(r,t)||xn(t,r))}function NS(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const s=i.path;t(s)?(z8(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function z8(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();bs&&yt("event: "+n.toString()),go(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="repo_interrupt",W8=25;class V8{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new j8,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=$d(),this.transactionQueueTree_=new j1,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function $8(e,t,n){if(e.stats_=_1(e.repoInfo_),e.forceRestClient_||wD())e.server_=new Vd(e.repoInfo_,(r,i,s,a)=>{k2(e,r,i,s,a)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>x2(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ct(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Br(e.repoInfo_,t,(r,i,s,a)=>{k2(e,r,i,s,a)},r=>{x2(e,r)},r=>{Y8(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=xD(e.repoInfo_,()=>new N5(e.stats_,e.server_)),e.infoData_=new I5,e.infoSyncTree_=new S2({startListening:(r,i,s,a)=>{let o=[];const u=e.infoData_.getNode(r._path);return u.isEmpty()||(o=jl(e.infoSyncTree_,r._path,u),setTimeout(()=>{a("ok")},0)),o},stopListening:()=>{}}),V1(e,"connected",!1),e.serverSyncTree_=new S2({startListening:(r,i,s,a)=>(e.server_.listen(r,s,i,(o,u)=>{const l=a(o,u);yn(e.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function PS(e){const n=e.infoData_.getNode(new be(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function $l(e){return N8({timestamp:PS(e)})}function k2(e,t,n,r,i){e.dataUpdateCount++;const s=new be(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(i)if(r){const u=Bd(n,l=>Ve(l));a=w8(e.serverSyncTree_,s,u,i)}else{const u=Ve(n);a=yS(e.serverSyncTree_,s,u,i)}else if(r){const u=Bd(n,l=>Ve(l));a=v8(e.serverSyncTree_,s,u)}else{const u=Ve(n);a=jl(e.serverSyncTree_,s,u)}let o=s;a.length>0&&(o=no(e,s)),yn(e.eventQueue_,o,a)}function x2(e,t){V1(e,"connected",t),t===!1&&K8(e)}function Y8(e,t){Ct(t,(n,r)=>{V1(e,n,r)})}function V1(e,t,n){const r=new be("/.info/"+t),i=Ve(n);e.infoData_.updateSnapshot(r,i);const s=jl(e.infoSyncTree_,r,i);yn(e.eventQueue_,r,s)}function Gh(e){return e.nextWriteId_++}function G8(e,t,n){const r=I8(e.serverSyncTree_,t);return r!=null?Promise.resolve(r):e.server_.get(t).then(i=>{const s=Ve(i).withIndex(t._queryParams.getIndex());E0(e.serverSyncTree_,t,n,!0);let a;if(t._queryParams.loadsAllData())a=jl(e.serverSyncTree_,t._path,s);else{const o=pl(e.serverSyncTree_,t);a=yS(e.serverSyncTree_,t._path,s,o)}return yn(e.eventQueue_,t._path,a),Zd(e.serverSyncTree_,t,n,null,!0),s},i=>(yo(e,"get for query "+ct(t)+" failed: "+i),Promise.reject(new Error(i))))}function $1(e,t,n,r,i){yo(e,"set",{path:t.toString(),value:n,priority:r});const s=$l(e),a=Ve(n,r),o=jh(e.serverSyncTree_,t),u=B1(a,o,s),l=Gh(e),d=O1(e.serverSyncTree_,t,u,l,!0);Yh(e.eventQueue_,d),e.server_.put(t.toString(),a.val(!0),(f,p)=>{const g=f==="ok";g||Ot("set at "+t+" failed: "+f);const T=Ei(e.serverSyncTree_,l,!g);yn(e.eventQueue_,t,T),qi(e,i,f,p)});const c=G1(e,t);no(e,c),yn(e.eventQueue_,c,[])}function q8(e,t,n,r){yo(e,"update",{path:t.toString(),value:n});let i=!0;const s=$l(e),a={};if(Ct(n,(o,u)=>{i=!1,a[o]=CS(je(t,o),Ve(u),e.serverSyncTree_,s)}),i)yt("update() called with empty data.  Don't do anything."),qi(e,r,"ok",void 0);else{const o=Gh(e),u=T8(e.serverSyncTree_,t,a,o);Yh(e.eventQueue_,u),e.server_.merge(t.toString(),n,(l,d)=>{const c=l==="ok";c||Ot("update at "+t+" failed: "+l);const f=Ei(e.serverSyncTree_,o,!c),p=f.length>0?no(e,t):t;yn(e.eventQueue_,p,f),qi(e,r,l,d)}),Ct(n,l=>{const d=G1(e,je(t,l));no(e,d)}),yn(e.eventQueue_,t,[])}}function K8(e){yo(e,"onDisconnectEvents");const t=$l(e),n=$d();h0(e.onDisconnect_,ve(),(i,s)=>{const a=CS(i,s,e.serverSyncTree_,t);_o(n,i,a)});let r=[];h0(n,ve(),(i,s)=>{r=r.concat(jl(e.serverSyncTree_,i,s));const a=G1(e,i);no(e,a)}),e.onDisconnect_=$d(),yn(e.eventQueue_,ve(),r)}function Q8(e,t,n){e.server_.onDisconnectCancel(t.toString(),(r,i)=>{r==="ok"&&d0(e.onDisconnect_,t),qi(e,n,r,i)})}function N2(e,t,n,r){const i=Ve(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(s,a)=>{s==="ok"&&_o(e.onDisconnect_,t,i),qi(e,r,s,a)})}function X8(e,t,n,r,i){const s=Ve(n,r);e.server_.onDisconnectPut(t.toString(),s.val(!0),(a,o)=>{a==="ok"&&_o(e.onDisconnect_,t,s),qi(e,i,a,o)})}function J8(e,t,n,r){if(Ud(n)){yt("onDisconnect().update() called with empty data.  Don't do anything."),qi(e,r,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,(i,s)=>{i==="ok"&&Ct(n,(a,o)=>{const u=Ve(o);_o(e.onDisconnect_,je(t,a),u)}),qi(e,r,i,s)})}function Z8(e,t,n){let r;se(t._path)===".info"?r=E0(e.infoSyncTree_,t,n):r=E0(e.serverSyncTree_,t,n),xS(e.eventQueue_,t._path,r)}function T0(e,t,n){let r;se(t._path)===".info"?r=Zd(e.infoSyncTree_,t,n):r=Zd(e.serverSyncTree_,t,n),xS(e.eventQueue_,t._path,r)}function OS(e){e.persistentConnection_&&e.persistentConnection_.interrupt(RS)}function eM(e){e.persistentConnection_&&e.persistentConnection_.resume(RS)}function yo(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),yt(n,...t)}function qi(e,t,n,r){t&&go(()=>{if(n==="ok")t(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const a=new Error(s);a.code=i,t(a)}})}function tM(e,t,n,r,i,s){yo(e,"transaction on "+t);const a={path:t,update:n,onComplete:r,status:null,order:kI(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},o=Y1(e,t,void 0);a.currentInputSnapshot=o;const u=a.update(o.val());if(u===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{Wl("transaction failed: Data returned ",u,a.path),a.status=0;const l=Wh(e.transactionQueueTree_,t),d=Ks(l)||[];d.push(a),z1(l,d);let c;typeof u=="object"&&u!==null&&En(u,".priority")?(c=Os(u,".priority"),W(ml(c),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):c=(jh(e.serverSyncTree_,t)||Z.EMPTY_NODE).getPriority().val();const f=$l(e),p=Ve(u,c),g=B1(p,o,f);a.currentOutputSnapshotRaw=p,a.currentOutputSnapshotResolved=g,a.currentWriteId=Gh(e);const T=O1(e.serverSyncTree_,t,g,a.currentWriteId,a.applyLocally);yn(e.eventQueue_,t,T),qh(e,e.transactionQueueTree_)}}function Y1(e,t,n){return jh(e.serverSyncTree_,t,n)||Z.EMPTY_NODE}function qh(e,t=e.transactionQueueTree_){if(t||Kh(e,t),Ks(t)){const n=DS(e,t);W(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&nM(e,zl(t),n)}else wS(t)&&Vh(t,n=>{qh(e,n)})}function nM(e,t,n){const r=n.map(l=>l.currentWriteId),i=Y1(e,t,r);let s=i;const a=i.hash();for(let l=0;l<n.length;l++){const d=n[l];W(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const c=Bt(t,d.path);s=s.updateChild(c,d.currentOutputSnapshotRaw)}const o=s.val(!0),u=t;e.server_.put(u.toString(),o,l=>{yo(e,"transaction put response",{path:u.toString(),status:l});let d=[];if(l==="ok"){const c=[];for(let f=0;f<n.length;f++)n[f].status=2,d=d.concat(Ei(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&c.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Kh(e,Wh(e.transactionQueueTree_,t)),qh(e,e.transactionQueueTree_),yn(e.eventQueue_,t,d);for(let f=0;f<c.length;f++)go(c[f])}else{if(l==="datastale")for(let c=0;c<n.length;c++)n[c].status===3?n[c].status=4:n[c].status=0;else{Ot("transaction at "+u.toString()+" failed: "+l);for(let c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=l}no(e,t)}},a)}function no(e,t){const n=LS(e,t),r=zl(n),i=DS(e,n);return rM(e,i,r),r}function rM(e,t,n){if(t.length===0)return;const r=[];let i=[];const a=t.filter(o=>o.status===0).map(o=>o.currentWriteId);for(let o=0;o<t.length;o++){const u=t[o],l=Bt(n,u.path);let d=!1,c;if(W(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)d=!0,c=u.abortReason,i=i.concat(Ei(e.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=W8)d=!0,c="maxretry",i=i.concat(Ei(e.serverSyncTree_,u.currentWriteId,!0));else{const f=Y1(e,u.path,a);u.currentInputSnapshot=f;const p=t[o].update(f.val());if(p!==void 0){Wl("transaction failed: Data returned ",p,u.path);let g=Ve(p);typeof p=="object"&&p!=null&&En(p,".priority")||(g=g.updatePriority(f.getPriority()));const w=u.currentWriteId,_=$l(e),E=B1(g,f,_);u.currentOutputSnapshotRaw=g,u.currentOutputSnapshotResolved=E,u.currentWriteId=Gh(e),a.splice(a.indexOf(w),1),i=i.concat(O1(e.serverSyncTree_,u.path,E,u.currentWriteId,u.applyLocally)),i=i.concat(Ei(e.serverSyncTree_,w,!0))}else d=!0,c="nodata",i=i.concat(Ei(e.serverSyncTree_,u.currentWriteId,!0))}yn(e.eventQueue_,n,i),i=[],d&&(t[o].status=2,function(f){setTimeout(f,Math.floor(0))}(t[o].unwatcher),t[o].onComplete&&(c==="nodata"?r.push(()=>t[o].onComplete(null,!1,t[o].currentInputSnapshot)):r.push(()=>t[o].onComplete(new Error(c),!1,null))))}Kh(e,e.transactionQueueTree_);for(let o=0;o<r.length;o++)go(r[o]);qh(e,e.transactionQueueTree_)}function LS(e,t){let n,r=e.transactionQueueTree_;for(n=se(t);n!==null&&Ks(r)===void 0;)r=Wh(r,n),t=Ae(t),n=se(t);return r}function DS(e,t){const n=[];return MS(e,t,n),n.sort((r,i)=>r.order-i.order),n}function MS(e,t,n){const r=Ks(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Vh(t,i=>{MS(e,i,n)})}function Kh(e,t){const n=Ks(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,z1(t,n.length>0?n:void 0)}Vh(t,r=>{Kh(e,r)})}function G1(e,t){const n=zl(LS(e,t)),r=Wh(e.transactionQueueTree_,t);return L8(r,i=>{pp(e,i)}),pp(e,r),IS(r,i=>{pp(e,i)}),n}function pp(e,t){const n=Ks(t);if(n){const r=[];let i=[],s=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(W(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(W(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Ei(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?z1(t,void 0):n.length=s+1,yn(e.eventQueue_,zl(t),i);for(let a=0;a<r.length;a++)go(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function sM(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ot(`Invalid query segment '${n}' in query '${e}'`)}return t}const v0=function(e,t){const n=aM(e),r=n.namespace;n.domain==="firebase.com"&&vr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&vr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||mD();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new zI(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new be(n.pathString)}},aM=function(e){let t="",n="",r="",i="",s="",a=!0,o="https",u=443;if(typeof e=="string"){let l=e.indexOf("//");l>=0&&(o=e.substring(0,l-1),e=e.substring(l+2));let d=e.indexOf("/");d===-1&&(d=e.length);let c=e.indexOf("?");c===-1&&(c=e.length),t=e.substring(0,Math.min(d,c)),d<c&&(i=iM(e.substring(d,c)));const f=sM(e.substring(Math.min(e.length,c)));l=t.indexOf(":"),l>=0?(a=o==="https"||o==="wss",u=parseInt(t.substring(l+1),10)):l=t.length;const p=t.slice(0,l);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const g=t.indexOf(".");r=t.substring(0,g).toLowerCase(),n=t.substring(g+1),s=r}"ns"in f&&(s=f.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:a,scheme:o,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",oM=function(){let e=0;const t=[];return function(n){const r=n===e;e=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=R2.charAt(n%64),n=Math.floor(n/64);W(n===0,"Cannot push at time == 0");let a=s.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=R2.charAt(t[i]);return W(a.length===20,"nextPushId: Length should be 20."),a}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ct(this.snapshot.exportVal())}}class US{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return W(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uM=class{constructor(t,n){this._repo=t,this._path=n}cancel(){const t=new Gt;return Q8(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Nn("OnDisconnect.remove",this._path);const t=new Gt;return N2(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Nn("OnDisconnect.set",this._path),br("OnDisconnect.set",t,this._path,!1);const n=new Gt;return N2(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}setWithPriority(t,n){Nn("OnDisconnect.setWithPriority",this._path),br("OnDisconnect.setWithPriority",t,this._path,!1),W1("OnDisconnect.setWithPriority",n);const r=new Gt;return X8(this._repo,this._path,t,n,r.wrapCallback(()=>{})),r.promise}update(t){Nn("OnDisconnect.update",this._path),AS("OnDisconnect.update",t,this._path);const n=new Gt;return J8(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ae(this._path)?null:y1(this._path)}get ref(){return new Un(this._repo,this._path)}get _queryIdentifier(){const t=g2(this._queryParams),n=m1(t);return n==="{}"?"default":n}get _queryObject(){return g2(this._queryParams)}isEqual(t){if(t=te(t),!(t instanceof nn))return!1;const n=this._repo===t._repo,r=T1(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+JD(this._path)}}function Qh(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function ts(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===yr){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Vi)throw new Error(r);if(typeof t!="string")throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==qr)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(e.getIndex()===Le){if(t!=null&&!ml(t)||n!=null&&!ml(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(W(e.getIndex()instanceof C1||e.getIndex()===w1,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Xh(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Un extends nn{constructor(t,n){super(t,n,new Mh,!1)}get parent(){const t=XI(this._path);return t===null?null:new Un(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}let Jh=class b0{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new be(t),r=Ms(this.ref,t);return new b0(this._node.getChild(n),r,Le)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new b0(i,Ms(this.ref,r),Le)))}hasChild(t){const n=new be(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function BS(e,t){return e=te(e),e._checkNotDeleted("ref"),t!==void 0?Ms(e._root,t):e._root}function P2(e,t){e=te(e),e._checkNotDeleted("refFromURL");const n=v0(t,e._repo.repoInfo_.nodeAdmin);kS("refFromURL",n);const r=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&r.host!==e._repo.repoInfo_.host&&vr("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),BS(e,n.path.toString())}function Ms(e,t){return e=te(e),se(e._path)===null?H8("child","path",t):gl("child","path",t),new Un(e._repo,je(e._path,t))}function lM(e,t){e=te(e),Nn("push",e._path),br("push",t,e._path,!0);const n=PS(e._repo),r=oM(n),i=Ms(e,r),s=Ms(e,r);let a;return t!=null?a=K1(s,t).then(()=>s):a=Promise.resolve(s),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function cM(e){return Nn("remove",e._path),K1(e,null)}function K1(e,t){e=te(e),Nn("set",e._path),br("set",t,e._path,!1);const n=new Gt;return $1(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function dM(e,t){e=te(e),Nn("setPriority",e._path),W1("setPriority",t);const n=new Gt;return $1(e._repo,je(e._path,".priority"),t,null,n.wrapCallback(()=>{})),n.promise}function hM(e,t,n){if(Nn("setWithPriority",e._path),br("setWithPriority",t,e._path,!1),W1("setWithPriority",n),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";const r=new Gt;return $1(e._repo,e._path,t,n,r.wrapCallback(()=>{})),r.promise}function fM(e,t){AS("update",t,e._path);const n=new Gt;return q8(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function pM(e){e=te(e);const t=new q1(()=>{}),n=new Yl(t);return G8(e._repo,e,n).then(r=>new Jh(r,new Un(e._repo,e._path),e._queryParams.getIndex()))}class Yl{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const r=n._queryParams.getIndex();return new FS("value",this,new Jh(t.snapshotNode,new Un(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new US(this,t,n):null}matches(t){return t instanceof Yl?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Zh{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new US(this,t,n):null}createEvent(t,n){W(t.childName!=null,"Child events should have a childName.");const r=Ms(new Un(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new FS(t.type,this,new Jh(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Zh?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function Gl(e,t,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const u=n,l=(d,c)=>{T0(e._repo,e,o),u(d,c)};l.userCallback=n.userCallback,l.context=n.context,n=l}const a=new q1(n,s||void 0),o=t==="value"?new Yl(a):new Zh(t,a);return Z8(e._repo,e,o),()=>T0(e._repo,e,o)}function C0(e,t,n,r){return Gl(e,"value",t,n,r)}function O2(e,t,n,r){return Gl(e,"child_added",t,n,r)}function L2(e,t,n,r){return Gl(e,"child_changed",t,n,r)}function D2(e,t,n,r){return Gl(e,"child_moved",t,n,r)}function M2(e,t,n,r){return Gl(e,"child_removed",t,n,r)}function F2(e,t,n){let r=null;const i=n?new q1(n):null;t==="value"?r=new Yl(i):t&&(r=new Zh(t,i)),T0(e._repo,e,r)}class tr{}class HS extends tr{constructor(t,n){super(),this._value=t,this._key=n,this.type="endAt"}_apply(t){br("endAt",this._value,t._path,!0);const n=c0(t._queryParams,this._value,this._key);if(Xh(n),ts(n),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new nn(t._repo,t._path,n,t._orderByCalled)}}function mM(e,t){return Vl("endAt","key",t),new HS(e,t)}class gM extends tr{constructor(t,n){super(),this._value=t,this._key=n,this.type="endBefore"}_apply(t){br("endBefore",this._value,t._path,!1);const n=w5(t._queryParams,this._value,this._key);if(Xh(n),ts(n),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new nn(t._repo,t._path,n,t._orderByCalled)}}function _M(e,t){return Vl("endBefore","key",t),new gM(e,t)}class jS extends tr{constructor(t,n){super(),this._value=t,this._key=n,this.type="startAt"}_apply(t){br("startAt",this._value,t._path,!0);const n=l0(t._queryParams,this._value,this._key);if(Xh(n),ts(n),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new nn(t._repo,t._path,n,t._orderByCalled)}}function EM(e=null,t){return Vl("startAt","key",t),new jS(e,t)}class yM extends tr{constructor(t,n){super(),this._value=t,this._key=n,this.type="startAfter"}_apply(t){br("startAfter",this._value,t._path,!1);const n=C5(t._queryParams,this._value,this._key);if(Xh(n),ts(n),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new nn(t._repo,t._path,n,t._orderByCalled)}}function TM(e,t){return Vl("startAfter","key",t),new yM(e,t)}class vM extends tr{constructor(t){super(),this._limit=t,this.type="limitToFirst"}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new nn(t._repo,t._path,v5(t._queryParams,this._limit),t._orderByCalled)}}function bM(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new vM(e)}class CM extends tr{constructor(t){super(),this._limit=t,this.type="limitToLast"}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new nn(t._repo,t._path,b5(t._queryParams,this._limit),t._orderByCalled)}}function wM(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new CM(e)}class IM extends tr{constructor(t){super(),this._path=t,this.type="orderByChild"}_apply(t){Qh(t,"orderByChild");const n=new be(this._path);if(ae(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new C1(n),i=Fh(t._queryParams,r);return ts(i),new nn(t._repo,t._path,i,!0)}}function SM(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return gl("orderByChild","path",e),new IM(e)}class AM extends tr{constructor(){super(...arguments),this.type="orderByKey"}_apply(t){Qh(t,"orderByKey");const n=Fh(t._queryParams,yr);return ts(n),new nn(t._repo,t._path,n,!0)}}function kM(){return new AM}class xM extends tr{constructor(){super(...arguments),this.type="orderByPriority"}_apply(t){Qh(t,"orderByPriority");const n=Fh(t._queryParams,Le);return ts(n),new nn(t._repo,t._path,n,!0)}}function NM(){return new xM}class RM extends tr{constructor(){super(...arguments),this.type="orderByValue"}_apply(t){Qh(t,"orderByValue");const n=Fh(t._queryParams,w1);return ts(n),new nn(t._repo,t._path,n,!0)}}function PM(){return new RM}class OM extends tr{constructor(t,n){super(),this._value=t,this._key=n,this.type="equalTo"}_apply(t){if(br("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new HS(this._value,this._key)._apply(new jS(this._value,this._key)._apply(t))}}function LM(e,t){return Vl("equalTo","key",t),new OM(e,t)}function Wn(e,...t){let n=te(e);for(const r of t)n=r._apply(n);return n}h8(Un);_8(Un);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM="FIREBASE_DATABASE_EMULATOR_HOST",w0={};let MM=!1;function FM(e,t,n,r){e.repoInfo_=new zI(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function zS(e,t,n,r,i){let s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||vr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),yt("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let a=v0(s,i),o=a.repoInfo,u,l;typeof process<"u"&&Jy&&(l=Jy[DM]),l?(u=!0,s=`http://${l}?ns=${o.namespace}`,a=v0(s,i),o=a.repoInfo):u=!a.repoInfo.secure;const d=i&&u?new La(La.OWNER):new SD(e.name,e.options,t);kS("Invalid Firebase Database URL",a),ae(a.path)||vr("Database URL must point to the root of a Firebase Database (not including a child path).");const c=BM(o,e,d,new ID(e.name,n));return new HM(c,e)}function UM(e,t){const n=w0[t];(!n||n[e.key]!==e)&&vr(`Database ${t}(${e.repoInfo_}) has already been deleted.`),OS(e),delete n[e.key]}function BM(e,t,n,r){let i=w0[t.name];i||(i={},w0[t.name]=i);let s=i[e.toURLString()];return s&&vr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new V8(e,MM,n,r),i[e.toURLString()]=s,s}let HM=class{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||($8(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Un(this._repo,ve())),this._rootInternal}_delete(){return this._rootInternal!==null&&(UM(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&vr("Cannot call "+t+" on a deleted database.")}};function WS(){Ja.IS_TRANSPORT_INITIALIZED&&Ot("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function jM(){WS(),_i.forceDisallow()}function zM(){WS(),An.forceDisallow(),_i.forceAllow()}function WM(e,t,n,r={}){e=te(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&vr("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&vr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new La(La.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:LO(r.mockUserToken,e.app.options.projectId);s=new La(a)}FM(i,t,n,s)}function VM(e){e=te(e),e._checkNotDeleted("goOffline"),OS(e._repo)}function $M(e){e=te(e),e._checkNotDeleted("goOnline"),eM(e._repo)}function YM(e,t){NI(e,t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(e){SI(es),Wi(new Dn("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return zS(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Qn(Zy,e2,e),Qn(Zy,e2,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM={".sv":"timestamp"};function KM(){return qM}function QM(e){return{".sv":{increment:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XM=class{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function JM(e,t,n){var r;if(e=te(e),Nn("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";const i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,s=new Gt,a=(u,l,d)=>{let c=null;u?s.reject(u):(c=new Jh(d,new Un(e._repo,e._path),Le),s.resolve(new XM(l,c)))},o=C0(e,()=>{});return tM(e._repo,e._path,t,a,o,i),s.promise}Br.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Br.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};GM();const ZM="@firebase/database-compat",e9="2.0.1";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9=new Fl("@firebase/database-compat"),VS=function(e){const t="FIREBASE WARNING: "+e;t9.warn(t)};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9=function(e,t,n,r){if(n!==void 0&&typeof n!="boolean")throw new Error(tn(e,t)+"must be a boolean.")},r9=function(e,t,n){if(t!==void 0)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(tn(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(t){this._delegate=t}cancel(t){ee("OnDisconnect.cancel",0,1,arguments.length),_t("OnDisconnect.cancel","onComplete",t,!0);const n=this._delegate.cancel();return t&&n.then(()=>t(null),r=>t(r)),n}remove(t){ee("OnDisconnect.remove",0,1,arguments.length),_t("OnDisconnect.remove","onComplete",t,!0);const n=this._delegate.remove();return t&&n.then(()=>t(null),r=>t(r)),n}set(t,n){ee("OnDisconnect.set",1,2,arguments.length),_t("OnDisconnect.set","onComplete",n,!0);const r=this._delegate.set(t);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(t,n,r){ee("OnDisconnect.setWithPriority",2,3,arguments.length),_t("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(t,n);return r&&i.then(()=>r(null),s=>r(s)),i}update(t,n){if(ee("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const i={};for(let s=0;s<t.length;++s)i[""+s]=t[s];t=i,VS("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}_t("OnDisconnect.update","onComplete",n,!0);const r=this._delegate.update(t);return n&&r.then(()=>n(null),i=>n(i)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return ee("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(t,n){this._database=t,this._delegate=n}val(){return ee("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return ee("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return ee("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return ee("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return ee("DataSnapshot.child",0,1,arguments.length),t=String(t),gl("DataSnapshot.child","path",t),new Oi(this._database,this._delegate.child(t))}hasChild(t){return ee("DataSnapshot.hasChild",1,1,arguments.length),gl("DataSnapshot.hasChild","path",t),this._delegate.hasChild(t)}getPriority(){return ee("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return ee("DataSnapshot.forEach",1,1,arguments.length),_t("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(n=>t(new Oi(this._database,n)))}hasChildren(){return ee("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return ee("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return ee("DataSnapshot.ref",0,0,arguments.length),new cn(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class wt{constructor(t,n){this.database=t,this._delegate=n}on(t,n,r,i){var s;ee("Query.on",2,4,arguments.length),_t("Query.on","callback",n,!1);const a=wt.getCancelAndContextArgs_("Query.on",r,i),o=(l,d)=>{n.call(a.context,new Oi(this.database,l),d)};o.userCallback=n,o.context=a.context;const u=(s=a.cancel)===null||s===void 0?void 0:s.bind(a.context);switch(t){case"value":return C0(this._delegate,o,u),n;case"child_added":return O2(this._delegate,o,u),n;case"child_removed":return M2(this._delegate,o,u),n;case"child_changed":return L2(this._delegate,o,u),n;case"child_moved":return D2(this._delegate,o,u),n;default:throw new Error(tn("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,n,r){if(ee("Query.off",0,3,arguments.length),r9("Query.off",t),_t("Query.off","callback",n,!0),Wy("Query.off","context",r),n){const i=()=>{};i.userCallback=n,i.context=r,F2(this._delegate,t,i)}else F2(this._delegate,t)}get(){return pM(this._delegate).then(t=>new Oi(this.database,t))}once(t,n,r,i){ee("Query.once",1,4,arguments.length),_t("Query.once","callback",n,!0);const s=wt.getCancelAndContextArgs_("Query.once",r,i),a=new Gt,o=(l,d)=>{const c=new Oi(this.database,l);n&&n.call(s.context,c,d),a.resolve(c)};o.userCallback=n,o.context=s.context;const u=l=>{s.cancel&&s.cancel.call(s.context,l),a.reject(l)};switch(t){case"value":C0(this._delegate,o,u,{onlyOnce:!0});break;case"child_added":O2(this._delegate,o,u,{onlyOnce:!0});break;case"child_removed":M2(this._delegate,o,u,{onlyOnce:!0});break;case"child_changed":L2(this._delegate,o,u,{onlyOnce:!0});break;case"child_moved":D2(this._delegate,o,u,{onlyOnce:!0});break;default:throw new Error(tn("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return a.promise}limitToFirst(t){return ee("Query.limitToFirst",1,1,arguments.length),new wt(this.database,Wn(this._delegate,bM(t)))}limitToLast(t){return ee("Query.limitToLast",1,1,arguments.length),new wt(this.database,Wn(this._delegate,wM(t)))}orderByChild(t){return ee("Query.orderByChild",1,1,arguments.length),new wt(this.database,Wn(this._delegate,SM(t)))}orderByKey(){return ee("Query.orderByKey",0,0,arguments.length),new wt(this.database,Wn(this._delegate,kM()))}orderByPriority(){return ee("Query.orderByPriority",0,0,arguments.length),new wt(this.database,Wn(this._delegate,NM()))}orderByValue(){return ee("Query.orderByValue",0,0,arguments.length),new wt(this.database,Wn(this._delegate,PM()))}startAt(t=null,n){return ee("Query.startAt",0,2,arguments.length),new wt(this.database,Wn(this._delegate,EM(t,n)))}startAfter(t=null,n){return ee("Query.startAfter",0,2,arguments.length),new wt(this.database,Wn(this._delegate,TM(t,n)))}endAt(t=null,n){return ee("Query.endAt",0,2,arguments.length),new wt(this.database,Wn(this._delegate,mM(t,n)))}endBefore(t=null,n){return ee("Query.endBefore",0,2,arguments.length),new wt(this.database,Wn(this._delegate,_M(t,n)))}equalTo(t,n){return ee("Query.equalTo",1,2,arguments.length),new wt(this.database,Wn(this._delegate,LM(t,n)))}toString(){return ee("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return ee("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if(ee("Query.isEqual",1,1,arguments.length),!(t instanceof wt)){const n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,n,r){const i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,_t(t,"cancel",i.cancel,!0),i.context=r,Wy(t,"context",i.context);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(tn(t,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new cn(this.database,new Un(this._delegate._repo,this._delegate._path))}}class cn extends wt{constructor(t,n){super(t,new nn(n._repo,n._path,new Mh,!1)),this.database=t,this._delegate=n}getKey(){return ee("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return ee("Reference.child",1,1,arguments.length),typeof t=="number"&&(t=String(t)),new cn(this.database,Ms(this._delegate,t))}getParent(){ee("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new cn(this.database,t):null}getRoot(){return ee("Reference.root",0,0,arguments.length),new cn(this.database,this._delegate.root)}set(t,n){ee("Reference.set",1,2,arguments.length),_t("Reference.set","onComplete",n,!0);const r=K1(this._delegate,t);return n&&r.then(()=>n(null),i=>n(i)),r}update(t,n){if(ee("Reference.update",1,2,arguments.length),Array.isArray(t)){const i={};for(let s=0;s<t.length;++s)i[""+s]=t[s];t=i,VS("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Nn("Reference.update",this._delegate._path),_t("Reference.update","onComplete",n,!0);const r=fM(this._delegate,t);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(t,n,r){ee("Reference.setWithPriority",2,3,arguments.length),_t("Reference.setWithPriority","onComplete",r,!0);const i=hM(this._delegate,t,n);return r&&i.then(()=>r(null),s=>r(s)),i}remove(t){ee("Reference.remove",0,1,arguments.length),_t("Reference.remove","onComplete",t,!0);const n=cM(this._delegate);return t&&n.then(()=>t(null),r=>t(r)),n}transaction(t,n,r){ee("Reference.transaction",1,3,arguments.length),_t("Reference.transaction","transactionUpdate",t,!1),_t("Reference.transaction","onComplete",n,!0),n9("Reference.transaction","applyLocally",r);const i=JM(this._delegate,t,{applyLocally:r}).then(s=>new s9(s.committed,new Oi(this.database,s.snapshot)));return n&&i.then(s=>n(null,s.committed,s.snapshot),s=>n(s,!1,null)),i}setPriority(t,n){ee("Reference.setPriority",1,2,arguments.length),_t("Reference.setPriority","onComplete",n,!0);const r=dM(this._delegate,t);return n&&r.then(()=>n(null),i=>n(i)),r}push(t,n){ee("Reference.push",0,2,arguments.length),_t("Reference.push","onComplete",n,!0);const r=lM(this._delegate,t),i=r.then(a=>new cn(this.database,a));n&&i.then(()=>n(null),a=>n(a));const s=new cn(this.database,r);return s.then=i.then.bind(i),s.catch=i.catch.bind(i,void 0),s}onDisconnect(){return Nn("Reference.onDisconnect",this._delegate._path),new i9(new uM(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(t,n){this._delegate=t,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:jM,forceLongPolling:zM}}useEmulator(t,n,r={}){WM(this._delegate,t,n,r)}ref(t){if(ee("database.ref",0,1,arguments.length),t instanceof cn){const n=P2(this._delegate,t.toString());return new cn(this,n)}else{const n=BS(this._delegate,t);return new cn(this,n)}}refFromURL(t){ee("database.refFromURL",1,1,arguments.length);const r=P2(this._delegate,t);return new cn(this,r)}goOffline(){return ee("database.goOffline",0,0,arguments.length),VM(this._delegate)}goOnline(){return ee("database.goOnline",0,0,arguments.length),$M(this._delegate)}}_l.ServerValue={TIMESTAMP:KM(),increment:e=>QM(e)};function a9({app:e,url:t,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:s,nodeAdmin:a=!1}){SI(n);const o=new c1("database-standalone"),u=new t0("auth-internal",o);u.setComponent(new Dn("auth-internal",()=>r,"PRIVATE"));let l;return i&&(l=new t0("app-check-internal",o),l.setComponent(new Dn("app-check-internal",()=>i,"PRIVATE"))),{instance:new _l(zS(e,u,l,t,a),e),namespace:s}}var o9=Object.freeze({__proto__:null,initStandalone:a9});/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u9=_l.ServerValue;function l9(e){e.INTERNAL.registerComponent(new Dn("database-compat",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("database").getImmediate({identifier:n});return new _l(i,r)},"PUBLIC").setServiceProps({Reference:cn,Query:wt,Database:_l,DataSnapshot:Oi,enableLogging:YM,INTERNAL:o9,ServerValue:u9}).setMultipleInstances(!0)),e.registerVersion(ZM,e9)}l9(wr);function Q1(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}const $o={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},aa={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c9(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function $S(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const d9=c9,h9=$S,YS=new $s("auth","Firebase",$S());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=new Fl("@firebase/auth");function f9(e,...t){eh.logLevel<=Ce.WARN&&eh.warn(`Auth (${es}): ${e}`,...t)}function Xc(e,...t){eh.logLevel<=Ce.ERROR&&eh.error(`Auth (${es}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(e,...t){throw J1(e,...t)}function ht(e,...t){return J1(e,...t)}function X1(e,t,n){const r=Object.assign(Object.assign({},h9()),{[t]:n});return new $s("auth","Firebase",r).create(t,{appName:e.name})}function bt(e){return X1(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function To(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&kt(e,"argument-error"),X1(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function J1(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return YS.create(e,...t)}function U(e,t,...n){if(!e)throw J1(t,...n)}function gr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Xc(t),new Error(t)}function er(e,t){e||gr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function Z1(){return U2()==="http:"||U2()==="https:"}function U2(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Z1()||uI()||"connection"in navigator)?navigator.onLine:!0}function m9(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(t,n){this.shortDelay=t,this.longDelay=n,er(n>t,"Short delay should be less than long delay!"),this.isMobile=l1()||Ph()}get(){return p9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(e,t){er(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9=new ql(3e4,6e4);function Qe(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Xe(e,t,n,r,i={}){return qS(e,i,async()=>{let s={},a={};r&&(t==="GET"?a=r:s={body:JSON.stringify(r)});const o=Ys(Object.assign({key:e.config.apiKey},a)).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:u},s);return MO()||(l.referrerPolicy="no-referrer"),GS.fetch()(KS(e,e.config.apiHost,n,o),l)})}async function qS(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},g9),t);try{const i=new y9(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw au(e,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[u,l]=o.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw au(e,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw au(e,"email-already-in-use",a);if(u==="USER_DISABLED")throw au(e,"user-disabled",a);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw X1(e,d,l);kt(e,d)}}catch(i){if(i instanceof en)throw i;kt(e,"network-request-failed",{message:String(i)})}}async function Jr(e,t,n,r,i={}){const s=await Xe(e,t,n,r,i);return"mfaPendingCredential"in s&&kt(e,"multi-factor-auth-required",{_serverResponse:s}),s}function KS(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?e_(e.config,i):`${e.config.apiScheme}://${i}`}function E9(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class y9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ht(this.auth,"network-request-failed")),_9.get())})}}function au(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ht(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(e){return e!==void 0&&e.getResponse!==void 0}function H2(e){return e!==void 0&&e.enterprise!==void 0}class QS{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return E9(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T9(e){return(await Xe(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function XS(e,t){return Xe(e,"GET","/v2/recaptchaConfig",Qe(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v9(e,t){return Xe(e,"POST","/v1/accounts:delete",t)}async function b9(e,t){return Xe(e,"POST","/v1/accounts:update",t)}async function JS(e,t){return Xe(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function C9(e,t=!1){const n=te(e),r=await n.getIdToken(t),i=ef(r);U(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:wu(mp(i.auth_time)),issuedAtTime:wu(mp(i.iat)),expirationTime:wu(mp(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function mp(e){return Number(e)*1e3}function ef(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Xc("JWT malformed, contained fewer than 3 sections"),null;try{const i=Md(n);return i?JSON.parse(i):(Xc("Failed to decode base64 JWT payload"),null)}catch(i){return Xc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function j2(e){const t=ef(e);return U(t,"internal-error"),U(typeof t.exp<"u","internal-error"),U(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kr(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof en&&w9(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function w9({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wu(this.lastLoginAt),this.creationTime=wu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Kr(e,JS(n,{idToken:r}));U(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?ZS(s.providerUserInfo):[],o=A9(e.providerData,a),u=e.isAnonymous,l=!(e.email&&s.passwordHash)&&!(o!=null&&o.length),d=u?l:!1,c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new I0(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,c)}async function S9(e){const t=te(e);await yl(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function A9(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function ZS(e){return e.map(t=>{var{providerId:n}=t,r=Q1(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k9(e,t){const n=await qS(e,{},async()=>{const r=Ys({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,a=KS(e,i,"/v1/token",`key=${s}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",GS.fetch()(a,{method:"POST",headers:o,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function x9(e,t){return Xe(e,"POST","/v2/accounts:revokeToken",Qe(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){U(t.idToken,"internal-error"),U(typeof t.idToken<"u","internal-error"),U(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):j2(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){U(t.length!==0,"internal-error");const n=j2(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(U(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await k9(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Da;return r&&(U(typeof r=="string","internal-error",{appName:t}),a.refreshToken=r),i&&(U(typeof i=="string","internal-error",{appName:t}),a.accessToken=i),s&&(U(typeof s=="number","internal-error",{appName:t}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Da,this.toJSON())}_performRefresh(){return gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(e,t){U(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Dr{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=Q1(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new I9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new I0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await Kr(this,this.stsTokenManager.getToken(this.auth,t));return U(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return C9(this,t)}reload(){return S9(this)}_assign(t){this!==t&&(U(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Dr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await yl(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ke(this.auth.app))return Promise.reject(bt(this.auth));const t=await this.getIdToken();return await Kr(this,v9(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,a,o,u,l,d;const c=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(a=n.photoURL)!==null&&a!==void 0?a:void 0,T=(o=n.tenantId)!==null&&o!==void 0?o:void 0,w=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,_=(l=n.createdAt)!==null&&l!==void 0?l:void 0,E=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:y,emailVerified:k,isAnonymous:L,providerData:A,stsTokenManager:P}=n;U(y&&P,t,"internal-error");const B=Da.fromJSON(this.name,P);U(typeof y=="string",t,"internal-error"),ii(c,t.name),ii(f,t.name),U(typeof k=="boolean",t,"internal-error"),U(typeof L=="boolean",t,"internal-error"),ii(p,t.name),ii(g,t.name),ii(T,t.name),ii(w,t.name),ii(_,t.name),ii(E,t.name);const Q=new Dr({uid:y,auth:t,email:f,emailVerified:k,displayName:c,isAnonymous:L,photoURL:g,phoneNumber:p,tenantId:T,stsTokenManager:B,createdAt:_,lastLoginAt:E});return A&&Array.isArray(A)&&(Q.providerData=A.map(x=>Object.assign({},x))),w&&(Q._redirectEventId=w),Q}static async _fromIdTokenResponse(t,n,r=!1){const i=new Da;i.updateFromServerResponse(n);const s=new Dr({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await yl(s),s}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];U(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?ZS(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new Da;o.updateFromIdToken(r);const u=new Dr({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new I0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,l),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=new Map;function hn(e){er(e instanceof Function,"Expected a class definition");let t=z2.get(e);return t?(er(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,z2.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}e3.type="NONE";const ro=e3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(e,t,n){return`firebase:${e}:${t}:${n}`}class Ma{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Cs(this.userKey,i.apiKey,s),this.fullPersistenceKey=Cs("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Dr._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Ma(hn(ro),t,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||hn(ro);const a=Cs(r,t.config.apiKey,t.name);let o=null;for(const l of n)try{const d=await l._get(a);if(d){const c=Dr._fromJSON(t,d);l!==s&&(o=c),s=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Ma(s,t,r):(s=u[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async l=>{if(l!==s)try{await l._remove(a)}catch{}})),new Ma(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(i3(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(t3(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(s3(t))return"Blackberry";if(a3(t))return"Webos";if(n3(t))return"Safari";if((t.includes("chrome/")||r3(t))&&!t.includes("edge/"))return"Chrome";if(Kl(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function t3(e=ft()){return/firefox\//i.test(e)}function n3(e=ft()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function r3(e=ft()){return/crios\//i.test(e)}function i3(e=ft()){return/iemobile/i.test(e)}function Kl(e=ft()){return/android/i.test(e)}function s3(e=ft()){return/blackberry/i.test(e)}function a3(e=ft()){return/webos/i.test(e)}function Ql(e=ft()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function N9(e=ft()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}function R9(e=ft()){var t;return Ql(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function P9(){return lI()&&document.documentMode===10}function o3(e=ft()){return Ql(e)||Kl(e)||a3(e)||s3(e)||/windows phone/i.test(e)||i3(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(e,t=[]){let n;switch(e){case"Browser":n=W2(ft());break;case"Worker":n=`${W2(ft())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${es}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((a,o)=>{try{const u=t(s);a(u)}catch(u){o(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L9(e,t={}){return Xe(e,"GET","/v2/passwordPolicy",Qe(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9=6;class M9{constructor(t){var n,r,i,s;const a=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:D9,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,s,a,o;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(o=u.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),u}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new V2(this),this.idTokenSubscription=new V2(this),this.beforeStateQueue=new O9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=hn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ma.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await JS(this,{idToken:t}),r=await Dr._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Ke(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(t);(!a||a===o)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return U(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await yl(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=m9()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ke(this.app))return Promise.reject(bt(this));const n=t?te(t):null;return n&&U(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&U(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ke(this.app)?Promise.reject(bt(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ke(this.app)?Promise.reject(bt(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await L9(this),n=new M9(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new $s("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await x9(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&hn(t)||this._popupRedirectResolver;U(n,this,"argument-error"),this.redirectPersistenceManager=await Ma.create(this,[hn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(U(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,r,i);return()=>{a=!0,u()}}else{const u=t.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=u3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&f9(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ge(e){return te(e)}class V2{constructor(t){this.auth=t,this.observer=null,this.addObserver=hI(n=>this.observer=n)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xl={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function U9(e){Xl=e}function t_(e){return Xl.loadJS(e)}function B9(){return Xl.recaptchaV2Script}function H9(){return Xl.recaptchaEnterpriseScript}function j9(){return Xl.gapiScript}function l3(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9=500,W9=6e4,Rc=1e12;class V9{constructor(t){this.auth=t,this.counter=Rc,this._widgets=new Map}render(t,n){const r=this.counter;return this._widgets.set(r,new G9(t,this.auth.name,n||{})),this.counter++,r}reset(t){var n;const r=t||Rc;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(t){var n;const r=t||Rc;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(t){var n;const r=t||Rc;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class $9{constructor(){this.enterprise=new Y9}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class Y9{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class G9{constructor(t,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof t=="string"?document.getElementById(t):t;U(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=q9(50);const{callback:t,"expired-callback":n}=this.params;if(t)try{t(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},W9)},z9))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function q9(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}const K9="recaptcha-enterprise",Iu="NO_RECAPTCHA";class c3{constructor(t){this.type=K9,this.auth=Ge(t)}async verify(t="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{XS(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const l=new QS(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,a(l.siteKey)}}).catch(u=>{o(u)})})}function i(s,a,o){const u=window.grecaptcha;H2(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:t}).then(l=>{a(l)}).catch(()=>{a(Iu)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new $9().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(o=>{if(!n&&H2(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=H9();u.length!==0&&(u+=o),t_(u).then(()=>{i(o,s,a)}).catch(l=>{a(l)})}}).catch(o=>{a(o)})})}}async function Yo(e,t,n,r=!1,i=!1){const s=new c3(e);let a;if(i)a=Iu;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const o=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const u=o.phoneEnrollmentInfo.phoneNumber,l=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const u=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Li(e,t,n,r,i){var s,a;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=e._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Yo(e,t,n,n==="getOobCode");return r(e,o)}else return r(e,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Yo(e,t,n,n==="getOobCode");return r(e,u)}else return Promise.reject(o)});else if(i==="PHONE_PROVIDER")if(!((a=e._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("PHONE_PROVIDER")){const o=await Yo(e,t,n);return r(e,o).catch(async u=>{var l;if(((l=e._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const d=await Yo(e,t,n,!1,!0);return r(e,d)}return Promise.reject(u)})}else{const o=await Yo(e,t,n,!1,!0);return r(e,o)}else return Promise.reject(i+" provider is not supported.")}async function Q9(e){const t=Ge(e),n=await XS(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new QS(n);t.tenantId==null?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()&&new c3(t).verify()}function X9(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(hn);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function J9(e,t,n){const r=Ge(e);U(r._canInitEmulator,r,"emulator-config-failed"),U(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=d3(t),{host:a,port:o}=Z9(t),u=o===null?"":`:${o}`;r.config.emulator={url:`${s}//${a}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||e7()}function d3(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Z9(e){const t=d3(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:$2(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:$2(a)}}}function $2(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function e7(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return gr("not implemented")}_getIdTokenResponse(t){return gr("not implemented")}_linkToIdToken(t,n){return gr("not implemented")}_getReauthenticationResolver(t){return gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h3(e,t){return Xe(e,"POST","/v1/accounts:resetPassword",Qe(e,t))}async function t7(e,t){return Xe(e,"POST","/v1/accounts:update",t)}async function n7(e,t){return Xe(e,"POST","/v1/accounts:signUp",t)}async function r7(e,t){return Xe(e,"POST","/v1/accounts:update",Qe(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i7(e,t){return Jr(e,"POST","/v1/accounts:signInWithPassword",Qe(e,t))}async function tf(e,t){return Xe(e,"POST","/v1/accounts:sendOobCode",Qe(e,t))}async function s7(e,t){return tf(e,t)}async function a7(e,t){return tf(e,t)}async function o7(e,t){return tf(e,t)}async function u7(e,t){return tf(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l7(e,t){return Jr(e,"POST","/v1/accounts:signInWithEmailLink",Qe(e,t))}async function c7(e,t){return Jr(e,"POST","/v1/accounts:signInWithEmailLink",Qe(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl extends vo{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new Tl(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Tl(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Li(t,n,"signInWithPassword",i7,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return l7(t,{email:this._email,oobCode:this._password});default:kt(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Li(t,r,"signUpPassword",n7,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return c7(t,{idToken:n,email:this._email,oobCode:this._password});default:kt(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hr(e,t){return Jr(e,"POST","/v1/accounts:signInWithIdp",Qe(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d7="http://localhost";class Cr extends vo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Cr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):kt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=Q1(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Cr(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return Hr(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Hr(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Hr(t,n)}buildRequest(){const t={requestUri:d7,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ys(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y2(e,t){return Xe(e,"POST","/v1/accounts:sendVerificationCode",Qe(e,t))}async function h7(e,t){return Jr(e,"POST","/v1/accounts:signInWithPhoneNumber",Qe(e,t))}async function f7(e,t){const n=await Jr(e,"POST","/v1/accounts:signInWithPhoneNumber",Qe(e,t));if(n.temporaryProof)throw au(e,"account-exists-with-different-credential",n);return n}const p7={USER_NOT_FOUND:"user-not-found"};async function m7(e,t){const n=Object.assign(Object.assign({},t),{operation:"REAUTH"});return Jr(e,"POST","/v1/accounts:signInWithPhoneNumber",Qe(e,n),p7)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends vo{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,n){return new ws({verificationId:t,verificationCode:n})}static _fromTokenResponse(t,n){return new ws({phoneNumber:t,temporaryProof:n})}_getIdTokenResponse(t){return h7(t,this._makeVerificationRequest())}_linkToIdToken(t,n){return f7(t,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return m7(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){typeof t=="string"&&(t=JSON.parse(t));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=t;return!r&&!n&&!i&&!s?null:new ws({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g7(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _7(e){const t=wa(su(e)).link,n=t?wa(su(t)).deep_link_id:null,r=wa(su(e)).deep_link_id;return(r?wa(su(r)).link:null)||r||n||t||e}class nf{constructor(t){var n,r,i,s,a,o;const u=wa(su(t)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,d=(r=u.oobCode)!==null&&r!==void 0?r:null,c=g7((i=u.mode)!==null&&i!==void 0?i:null);U(l&&d&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=d,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=u.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=u.tenantId)!==null&&o!==void 0?o:null}static parseLink(t){const n=_7(t);try{return new nf(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(){this.providerId=ns.PROVIDER_ID}static credential(t,n){return Tl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=nf.parseLink(n);return U(r,"argument-error"),Tl._fromEmailAndCode(t,r.code,r.tenantId)}}ns.PROVIDER_ID="password";ns.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ns.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo extends Zr{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Fa extends bo{static credentialFromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;return U("providerId"in n&&"signInMethod"in n,"argument-error"),Cr._fromParams(n)}credential(t){return this._credential(Object.assign(Object.assign({},t),{nonce:t.rawNonce}))}_credential(t){return U(t.idToken||t.accessToken,"argument-error"),Cr._fromParams(Object.assign(Object.assign({},t),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(t){return Fa.oauthCredentialFromTaggedObject(t)}static credentialFromError(t){return Fa.oauthCredentialFromTaggedObject(t.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:a,providerId:o}=t;if(!r&&!i&&!n&&!s||!o)return null;try{return new Fa(o)._credential({idToken:n,accessToken:r,nonce:a,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends bo{constructor(){super("facebook.com")}static credential(t){return Cr._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return cr.credentialFromTaggedObject(t)}static credentialFromError(t){return cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return cr.credential(t.oauthAccessToken)}catch{return null}}}cr.FACEBOOK_SIGN_IN_METHOD="facebook.com";cr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends bo{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Cr._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return dr.credentialFromTaggedObject(t)}static credentialFromError(t){return dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return dr.credential(n,r)}catch{return null}}}dr.GOOGLE_SIGN_IN_METHOD="google.com";dr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr extends bo{constructor(){super("github.com")}static credential(t){return Cr._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return hr.credentialFromTaggedObject(t)}static credentialFromError(t){return hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return hr.credential(t.oauthAccessToken)}catch{return null}}}hr.GITHUB_SIGN_IN_METHOD="github.com";hr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E7="http://localhost";class io extends vo{constructor(t,n){super(t,t),this.pendingToken=n}_getIdTokenResponse(t){const n=this.buildRequest();return Hr(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Hr(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Hr(t,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new io(r,s)}static _create(t,n){return new io(t,n)}buildRequest(){return{requestUri:E7,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y7="saml.";class th extends Zr{constructor(t){U(t.startsWith(y7),"argument-error"),super(t)}static credentialFromResult(t){return th.samlCredentialFromTaggedObject(t)}static credentialFromError(t){return th.samlCredentialFromTaggedObject(t.customData||{})}static credentialFromJSON(t){const n=io.fromJSON(t);return U(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return io._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends bo{constructor(){super("twitter.com")}static credential(t,n){return Cr._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return fr.credentialFromTaggedObject(t)}static credentialFromError(t){return fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return fr.credential(n,r)}catch{return null}}}fr.TWITTER_SIGN_IN_METHOD="twitter.com";fr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f3(e,t){return Jr(e,"POST","/v1/accounts:signUp",Qe(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await Dr._fromIdTokenResponse(t,r,i),a=G2(r);return new Mn({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=G2(r);return new Mn({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function G2(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T7(e){var t;if(Ke(e.app))return Promise.reject(bt(e));const n=Ge(e);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new Mn({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await f3(n,{returnSecureToken:!0}),i=await Mn._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh extends en{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,nh.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new nh(t,n,r,i)}}function p3(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?nh._fromErrorAndOperation(e,s,t,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(e){return new Set(e.map(({providerId:t})=>t).filter(t=>!!t))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v7(e,t){const n=te(e);await rf(!0,n,t);const{providerUserInfo:r}=await b9(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=m3(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function n_(e,t,n=!1){const r=await Kr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Mn._forOperation(e,"link",r)}async function rf(e,t,n){await yl(t);const r=m3(t.providerData),i=e===!1?"provider-already-linked":"no-such-provider";U(r.has(n)===e,t.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g3(e,t,n=!1){const{auth:r}=e;if(Ke(r.app))return Promise.reject(bt(r));const i="reauthenticate";try{const s=await Kr(e,p3(r,i,t,e),n);U(s.idToken,r,"internal-error");const a=ef(s.idToken);U(a,r,"internal-error");const{sub:o}=a;return U(e.uid===o,r,"user-mismatch"),Mn._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&kt(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _3(e,t,n=!1){if(Ke(e.app))return Promise.reject(bt(e));const r="signIn",i=await p3(e,r,t),s=await Mn._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function sf(e,t){return _3(Ge(e),t)}async function E3(e,t){const n=te(e);return await rf(!1,n,t.providerId),n_(n,t)}async function y3(e,t){return g3(te(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b7(e,t){return Jr(e,"POST","/v1/accounts:signInWithCustomToken",Qe(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C7(e,t){if(Ke(e.app))return Promise.reject(bt(e));const n=Ge(e),r=await b7(n,{token:t,returnSecureToken:!0}),i=await Mn._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(t,n){this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(t,n){return"phoneInfo"in n?r_._fromServerResponse(t,n):"totpInfo"in n?i_._fromServerResponse(t,n):kt(t,"internal-error")}}class r_ extends Jl{constructor(t){super("phone",t),this.phoneNumber=t.phoneInfo}static _fromServerResponse(t,n){return new r_(n)}}class i_ extends Jl{constructor(t){super("totp",t)}static _fromServerResponse(t,n){return new i_(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(e,t,n){var r;U(((r=n.url)===null||r===void 0?void 0:r.length)>0,e,"invalid-continue-uri"),U(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(U(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(U(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s_(e){const t=Ge(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function w7(e,t,n){const r=Ge(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&af(r,i,n),await Li(r,i,"getOobCode",a7,"EMAIL_PASSWORD_PROVIDER")}async function I7(e,t,n){await h3(te(e),{oobCode:t,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&s_(e),r})}async function S7(e,t){await r7(te(e),{oobCode:t})}async function T3(e,t){const n=te(e),r=await h3(n,{oobCode:t}),i=r.requestType;switch(U(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":U(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":U(r.mfaInfo,n,"internal-error");default:U(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Jl._fromServerResponse(Ge(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function A7(e,t){const{data:n}=await T3(te(e),t);return n.email}async function k7(e,t,n){if(Ke(e.app))return Promise.reject(bt(e));const r=Ge(e),a=await Li(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",f3,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&s_(e),u}),o=await Mn._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function x7(e,t,n){return Ke(e.app)?Promise.reject(bt(e)):sf(te(e),ns.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&s_(e),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N7(e,t,n){const r=Ge(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};function s(a,o){U(o.handleCodeInApp,r,"argument-error"),o&&af(r,a,o)}s(i,n),await Li(r,i,"getOobCode",o7,"EMAIL_PASSWORD_PROVIDER")}function R7(e,t){const n=nf.parseLink(t);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function P7(e,t,n){if(Ke(e.app))return Promise.reject(bt(e));const r=te(e),i=ns.credentialWithLink(t,n||El());return U(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),sf(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O7(e,t){return Xe(e,"POST","/v1/accounts:createAuthUri",Qe(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L7(e,t){const n=Z1()?El():"http://localhost",r={identifier:t,continueUri:n},{signinMethods:i}=await O7(te(e),r);return i||[]}async function D7(e,t){const n=te(e),i={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&af(n.auth,i,t);const{email:s}=await s7(n.auth,i);s!==e.email&&await e.reload()}async function M7(e,t,n){const r=te(e),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&af(r.auth,s,n);const{email:a}=await u7(r.auth,s);a!==e.email&&await e.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F7(e,t){return Xe(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U7(e,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const r=te(e),s={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},a=await Kr(r,F7(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const o=r.providerData.find(({providerId:u})=>u==="password");o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function B7(e,t){const n=te(e);return Ke(n.auth.app)?Promise.reject(bt(n.auth)):v3(n,t,null)}function H7(e,t){return v3(te(e),null,t)}async function v3(e,t,n){const{auth:r}=e,s={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(s.email=t),n&&(s.password=n);const a=await Kr(e,t7(r,s));await e._updateTokensIfNecessary(a,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j7(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||e.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(e!=null&&e.idToken)){const a=(n=(t=ef(e.idToken))===null||t===void 0?void 0:t.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(a){const o=a!=="anonymous"&&a!=="custom"?a:null;return new Ua(s,o)}}if(!r)return null;switch(r){case"facebook.com":return new z7(s,i);case"github.com":return new W7(s,i);case"google.com":return new V7(s,i);case"twitter.com":return new $7(s,i,e.screenName||null);case"custom":case"anonymous":return new Ua(s,null);default:return new Ua(s,r,i)}}class Ua{constructor(t,n,r={}){this.isNewUser=t,this.providerId=n,this.profile=r}}class b3 extends Ua{constructor(t,n,r,i){super(t,n,r),this.username=i}}class z7 extends Ua{constructor(t,n){super(t,"facebook.com",n)}}class W7 extends b3{constructor(t,n){super(t,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class V7 extends Ua{constructor(t,n){super(t,"google.com",n)}}class $7 extends b3{constructor(t,n,r){super(t,"twitter.com",n,r)}}function Y7(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:j7(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(t,n,r){this.type=t,this.credential=n,this.user=r}static _fromIdtoken(t,n){return new gs("enroll",t,n)}static _fromMfaPendingCredential(t){return new gs("signin",t)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(t){var n,r;if(t!=null&&t.multiFactorSession){if(!((n=t.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return gs._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(!((r=t.multiFactorSession)===null||r===void 0)&&r.idToken)return gs._fromIdtoken(t.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(t,n,r){this.session=t,this.hints=n,this.signInResolver=r}static _fromError(t,n){const r=Ge(t),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(o=>Jl._fromServerResponse(r,o));U(i.mfaPendingCredential,r,"internal-error");const a=gs._fromMfaPendingCredential(i.mfaPendingCredential);return new a_(a,s,async o=>{const u=await o._process(r,a);delete i.mfaInfo,delete i.mfaPendingCredential;const l=Object.assign(Object.assign({},i),{idToken:u.idToken,refreshToken:u.refreshToken});switch(n.operationType){case"signIn":const d=await Mn._fromIdTokenResponse(r,n.operationType,l);return await r._updateCurrentUser(d.user),d;case"reauthenticate":return U(n.user,r,"internal-error"),Mn._forOperation(n.user,n.operationType,l);default:kt(r,"internal-error")}})}async resolveSignIn(t){const n=t;return this.signInResolver(n)}}function G7(e,t){var n;const r=te(e),i=t;return U(t.customData.operationType,r,"argument-error"),U((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),a_._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(e,t){return Xe(e,"POST","/v2/accounts/mfaEnrollment:start",Qe(e,t))}function q7(e,t){return Xe(e,"POST","/v2/accounts/mfaEnrollment:finalize",Qe(e,t))}function K7(e,t){return Xe(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Qe(e,t))}class o_{constructor(t){this.user=t,this.enrolledFactors=[],t._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Jl._fromServerResponse(t.auth,r)))})}static _fromUser(t){return new o_(t)}async getSession(){return gs._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(t,n){const r=t,i=await this.getSession(),s=await Kr(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(t){const n=typeof t=="string"?t:t.uid,r=await this.user.getIdToken();try{const i=await Kr(this.user,K7(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const gp=new WeakMap;function Q7(e){const t=te(e);return gp.has(t)||gp.set(t,o_._fromUser(t)),gp.get(t)}const rh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rh,"1"),this.storage.removeItem(rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X7=1e3,J7=10;class w3 extends C3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=o3(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,o,u)=>{this.notifyListeners(a,u)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);P9()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,J7):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},X7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}w3.type="LOCAL";const u_=w3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3 extends C3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}I3.type="SESSION";const Fs=I3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z7(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new of(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async l=>l(n.origin,s)),u=await Z7(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}of.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,u)=>{const l=Zl("",20);i.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(c){const f=c;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(f.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(){return window}function tF(e){st().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(){return typeof st().WorkerGlobalScope<"u"&&typeof st().importScripts=="function"}async function nF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rF(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function iF(){return l_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3="firebaseLocalStorageDb",sF=1,ih="firebaseLocalStorage",A3="fbase_key";class ec{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function uf(e,t){return e.transaction([ih],t?"readwrite":"readonly").objectStore(ih)}function aF(){const e=indexedDB.deleteDatabase(S3);return new ec(e).toPromise()}function S0(){const e=indexedDB.open(S3,sF);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(ih,{keyPath:A3})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(ih)?t(r):(r.close(),await aF(),t(await S0()))})})}async function K2(e,t,n){const r=uf(e,!0).put({[A3]:t,value:n});return new ec(r).toPromise()}async function oF(e,t){const n=uf(e,!1).get(t),r=await new ec(n).toPromise();return r===void 0?null:r.value}function Q2(e,t){const n=uf(e,!0).delete(t);return new ec(n).toPromise()}const uF=800,lF=3;class k3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await S0(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>lF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return l_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=of._getInstance(iF()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await nF(),!this.activeServiceWorker)return;this.sender=new eF(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||rF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await S0();return await K2(t,rh,"1"),await Q2(t,rh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>K2(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>oF(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Q2(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=uf(i,!1).getAll();return new ec(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}k3.type="LOCAL";const vl=k3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(e,t){return Xe(e,"POST","/v2/accounts/mfaSignIn:start",Qe(e,t))}function cF(e,t){return Xe(e,"POST","/v2/accounts/mfaSignIn:finalize",Qe(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p=l3("rcb"),dF=new ql(3e4,6e4);class hF{constructor(){var t;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((t=st().grecaptcha)===null||t===void 0)&&t.render)}load(t,n=""){return U(fF(n),t,"argument-error"),this.shouldResolveImmediately(n)&&B2(st().grecaptcha)?Promise.resolve(st().grecaptcha):new Promise((r,i)=>{const s=st().setTimeout(()=>{i(ht(t,"network-request-failed"))},dF.get());st()[_p]=()=>{st().clearTimeout(s),delete st()[_p];const o=st().grecaptcha;if(!o||!B2(o)){i(ht(t,"internal-error"));return}const u=o.render;o.render=(l,d)=>{const c=u(l,d);return this.counter++,c},this.hostLanguage=n,r(o)};const a=`${B9()}?${Ys({onload:_p,render:"explicit",hl:n})}`;t_(a).catch(()=>{clearTimeout(s),i(ht(t,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(t){var n;return!!(!((n=st().grecaptcha)===null||n===void 0)&&n.render)&&(t===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function fF(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}class pF{async load(t){return new V9(t)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su="recaptcha",mF={theme:"light",type:"image"};let gF=class{constructor(t,n,r=Object.assign({},mF)){this.parameters=r,this.type=Su,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ge(t),this.isInvisible=this.parameters.size==="invisible",U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;U(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new pF:new hF,this.validateStartingState()}async verify(){this.assertNotDestroyed();const t=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(t);return r||new Promise(i=>{const s=a=>{a&&(this.tokenChangeListeners.delete(s),i(a))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(t)})}render(){try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(t=>{throw this.renderPromise=null,t}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(t=>{this.container.removeChild(t)})}validateStartingState(){U(!this.parameters.sitekey,this.auth,"argument-error"),U(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(t){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof t=="function")t(n);else if(typeof t=="string"){const r=st()[t];typeof r=="function"&&r(n)}}}assertNotDestroyed(){U(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let t=this.container;if(!this.isInvisible){const n=document.createElement("div");t.appendChild(n),t=n}this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)}return this.widgetId}async init(){U(Z1()&&!l_(),this.auth,"internal-error"),await _F(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const t=await T9(this.auth);U(t,this.auth,"internal-error"),this.parameters.sitekey=t}getAssertedRecaptcha(){return U(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function _F(){let e=null;return new Promise(t=>{if(document.readyState==="complete"){t();return}e=()=>t(),window.addEventListener("load",e)}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(t,n){this.verificationId=t,this.onConfirmation=n}confirm(t){const n=ws._fromVerification(this.verificationId,t);return this.onConfirmation(n)}}async function EF(e,t,n){if(Ke(e.app))return Promise.reject(bt(e));const r=Ge(e),i=await lf(r,t,te(n));return new c_(i,s=>sf(r,s))}async function yF(e,t,n){const r=te(e);await rf(!1,r,"phone");const i=await lf(r.auth,t,te(n));return new c_(i,s=>E3(r,s))}async function TF(e,t,n){const r=te(e);if(Ke(r.auth.app))return Promise.reject(bt(r.auth));const i=await lf(r.auth,t,te(n));return new c_(i,s=>y3(r,s))}async function lf(e,t,n){var r;if(!e._getRecaptchaConfig())try{await Q9(e)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof t=="string"?i={phoneNumber:t}:i=t,"session"in i){const s=i.session;if("phoneNumber"in i){U(s.type==="enroll",e,"internal-error");const a={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Li(e,a,"mfaSmsEnrollment",async(d,c)=>{if(c.phoneEnrollmentInfo.captchaResponse===Iu){U((n==null?void 0:n.type)===Su,d,"argument-error");const f=await Ep(d,c,n);return q2(d,f)}return q2(d,c)},"PHONE_PROVIDER").catch(d=>Promise.reject(d))).phoneSessionInfo.sessionInfo}else{U(s.type==="signin",e,"internal-error");const a=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;U(a,e,"missing-multi-factor-info");const o={mfaPendingCredential:s.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Li(e,o,"mfaSmsSignIn",async(c,f)=>{if(f.phoneSignInInfo.captchaResponse===Iu){U((n==null?void 0:n.type)===Su,c,"argument-error");const p=await Ep(c,f,n);return X2(c,p)}return X2(c,f)},"PHONE_PROVIDER").catch(c=>Promise.reject(c))).phoneResponseInfo.sessionInfo}}else{const s={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Li(e,s,"sendVerificationCode",async(l,d)=>{if(d.captchaResponse===Iu){U((n==null?void 0:n.type)===Su,l,"argument-error");const c=await Ep(l,d,n);return Y2(l,c)}return Y2(l,d)},"PHONE_PROVIDER").catch(l=>Promise.reject(l))).sessionInfo}}finally{n==null||n._reset()}}async function vF(e,t){const n=te(e);if(Ke(n.auth.app))return Promise.reject(bt(n.auth));await n_(n,t)}async function Ep(e,t,n){U(n.type===Su,e,"argument-error");const r=await n.verify();U(typeof r=="string",e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const s=i.phoneEnrollmentInfo.phoneNumber,a=i.phoneEnrollmentInfo.captchaResponse,o=i.phoneEnrollmentInfo.clientType,u=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:r,captchaResponse:a,clientType:o,recaptchaVersion:u}}),i}else if("phoneSignInInfo"in i){const s=i.phoneSignInInfo.captchaResponse,a=i.phoneSignInInfo.clientType,o=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:s,clientType:a,recaptchaVersion:o}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Us=class Jc{constructor(t){this.providerId=Jc.PROVIDER_ID,this.auth=Ge(t)}verifyPhoneNumber(t,n){return lf(this.auth,t,te(n))}static credential(t,n){return ws._fromVerification(t,n)}static credentialFromResult(t){const n=t;return Jc.credentialFromTaggedObject(n)}static credentialFromError(t){return Jc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?ws._fromTokenResponse(n,r):null}};Us.PROVIDER_ID="phone";Us.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(e,t){return t?hn(t):(U(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_ extends vo{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Hr(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Hr(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Hr(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function bF(e){return _3(e.auth,new d_(e),e.bypassAuthState)}function CF(e){const{auth:t,user:n}=e;return U(n,t,"internal-error"),g3(n,new d_(e),e.bypassAuthState)}async function wF(e){const{auth:t,user:n}=e;return U(n,t,"internal-error"),n_(n,new d_(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=t;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(u))}catch(l){this.reject(l)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return bF;case"linkViaPopup":case"linkViaRedirect":return wF;case"reauthViaPopup":case"reauthViaRedirect":return CF;default:kt(this.auth,"internal-error")}}resolve(t){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF=new ql(2e3,1e4);async function h_(e,t,n){if(Ke(e.app))return Promise.reject(ht(e,"operation-not-supported-in-this-environment"));const r=Ge(e);To(e,t,Zr);const i=Qs(r,n);return new Mr(r,"signInViaPopup",t,i).executeNotNull()}async function SF(e,t,n){const r=te(e);if(Ke(r.auth.app))return Promise.reject(ht(r.auth,"operation-not-supported-in-this-environment"));To(r.auth,t,Zr);const i=Qs(r.auth,n);return new Mr(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}async function AF(e,t,n){const r=te(e);To(r.auth,t,Zr);const i=Qs(r.auth,n);return new Mr(r.auth,"linkViaPopup",t,i,r).executeNotNull()}class Mr extends x3{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Mr.currentPopupAction&&Mr.currentPopupAction.cancel(),Mr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return U(t,this.auth,"internal-error"),t}async onExecution(){er(this.filter.length===1,"Popup operations only handle one event");const t=Zl();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ht(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ht(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Mr.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ht(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,IF.get())};t()}}Mr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF="pendingRedirect",Au=new Map;class xF extends x3{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Au.get(this.auth._key());if(!t){try{const r=await NF(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Au.set(this.auth._key(),t)}return this.bypassAuthState||Au.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NF(e,t){const n=R3(t),r=N3(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function f_(e,t){return N3(e)._set(R3(t),"true")}function RF(){Au.clear()}function p_(e,t){Au.set(e._key(),t)}function N3(e){return hn(e._redirectPersistence)}function R3(e){return Cs(kF,e.config.apiKey,e.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PF(e,t,n){return OF(e,t,n)}async function OF(e,t,n){if(Ke(e.app))return Promise.reject(bt(e));const r=Ge(e);To(e,t,Zr),await r._initializationPromise;const i=Qs(r,n);return await f_(i,r),i._openRedirect(r,t,"signInViaRedirect")}function LF(e,t,n){return DF(e,t,n)}async function DF(e,t,n){const r=te(e);if(To(r.auth,t,Zr),Ke(r.auth.app))return Promise.reject(bt(r.auth));await r.auth._initializationPromise;const i=Qs(r.auth,n);await f_(i,r.auth);const s=await P3(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",s)}function MF(e,t,n){return FF(e,t,n)}async function FF(e,t,n){const r=te(e);To(r.auth,t,Zr),await r.auth._initializationPromise;const i=Qs(r.auth,n);await rf(!1,r,t.providerId),await f_(i,r.auth);const s=await P3(r);return i._openRedirect(r.auth,t,"linkViaRedirect",s)}async function UF(e,t){return await Ge(e)._initializationPromise,cf(e,t,!1)}async function cf(e,t,n=!1){if(Ke(e.app))return Promise.reject(bt(e));const r=Ge(e),i=Qs(r,t),a=await new xF(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}async function P3(e){const t=Zl(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF=10*60*1e3;class O3{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!HF(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!L3(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ht(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=BF&&this.cachedEventUids.clear(),this.cachedEventUids.has(J2(t))}saveEventToCache(t){this.cachedEventUids.add(J2(t)),this.lastProcessedEventTime=Date.now()}}function J2(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function L3({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function HF(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return L3(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D3(e,t={}){return Xe(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zF=/^https?/;async function WF(e){if(e.config.emulator)return;const{authorizedDomains:t}=await D3(e);for(const n of t)try{if(VF(n))return}catch{}kt(e,"unauthorized-domain")}function VF(e){const t=El(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!zF.test(n))return!1;if(jF.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F=new ql(3e4,6e4);function Z2(){const e=st().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function YF(e){return new Promise((t,n)=>{var r,i,s;function a(){Z2(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Z2(),n(ht(e,"network-request-failed"))},timeout:$F.get()})}if(!((i=(r=st().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=st().gapi)===null||s===void 0)&&s.load)a();else{const o=l3("iframefcb");return st()[o]=()=>{gapi.load?a():n(ht(e,"network-request-failed"))},t_(`${j9()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw Zc=null,t})}let Zc=null;function GF(e){return Zc=Zc||YF(e),Zc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF=new ql(5e3,15e3),KF="__/auth/iframe",QF="emulator/auth/iframe",XF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZF(e){const t=e.config;U(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?e_(t,QF):`https://${e.config.authDomain}/${KF}`,r={apiKey:t.apiKey,appName:e.name,v:es},i=JF.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ys(r).slice(1)}`}async function eU(e){const t=await GF(e),n=st().gapi;return U(n,e,"internal-error"),t.open({where:document.body,url:ZF(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XF,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=ht(e,"network-request-failed"),o=st().setTimeout(()=>{s(a)},qF.get());function u(){st().clearTimeout(o),i(r)}r.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nU=500,rU=600,iU="_blank",sU="http://localhost";class eT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aU(e,t,n,r=nU,i=rU){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const u=Object.assign(Object.assign({},tU),{width:r.toString(),height:i.toString(),top:s,left:a}),l=ft().toLowerCase();n&&(o=r3(l)?iU:n),t3(l)&&(t=t||sU,u.scrollbars="yes");const d=Object.entries(u).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(R9(l)&&o!=="_self")return oU(t||"",o),new eT(null);const c=window.open(t||"",o,d);U(c,e,"popup-blocked");try{c.focus()}catch{}return new eT(c)}function oU(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU="__/auth/handler",lU="emulator/auth/handler",cU=encodeURIComponent("fac");async function A0(e,t,n,r,i,s){U(e.config.authDomain,e,"auth-domain-config-required"),U(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:es,eventId:i};if(t instanceof Zr){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",Ud(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,c]of Object.entries(s||{}))a[d]=c}if(t instanceof bo){const d=t.getScopes().filter(c=>c!=="");d.length>0&&(a.scopes=d.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const u=await e._getAppCheckToken(),l=u?`#${cU}=${encodeURIComponent(u)}`:"";return`${dU(e)}?${Ys(o).slice(1)}${l}`}function dU({config:e}){return e.emulator?e_(e,lU):`https://${e.authDomain}/${uU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp="webStorageSupport";class hU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fs,this._completeRedirectFn=cf,this._overrideRedirectResult=p_}async _openPopup(t,n,r,i){var s;er((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await A0(t,n,r,El(),i);return aU(t,a,Zl())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await A0(t,n,r,El(),i);return tF(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(er(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await eU(t),r=new O3(t);return n.register("authEvent",i=>(U(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(yp,{type:yp},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[yp];a!==void 0&&n(!!a),kt(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=WF(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return o3()||n3()||Ql()}}const fU=hU;class pU{constructor(t){this.factorId=t}_process(t,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(t,n.credential,r);case"signin":return this._finalizeSignIn(t,n.credential);default:return gr("unexpected MultiFactorSessionType")}}}class m_ extends pU{constructor(t){super("phone"),this.credential=t}static _fromCredential(t){return new m_(t)}_finalizeEnroll(t,n,r){return q7(t,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(t,n){return cF(t,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class M3{constructor(){}static assertion(t){return m_._fromCredential(t)}}M3.FACTOR_ID="phone";var tT="@firebase/auth",nT="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gU(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _U(e){Wi(new Dn("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;U(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:u3(e)},l=new F9(r,i,s,u);return X9(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Wi(new Dn("auth-internal",t=>{const n=Ge(t.getProvider("auth").getImmediate());return(r=>new mU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qn(tT,nT,gU(e)),Qn(tT,nT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU=5*60;OO("authIdTokenMaxAge");function yU(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}U9({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=ht("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",yU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_U("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU=2e3;async function vU(e,t,n){var r;const{BuildInfo:i}=Bs();er(t.sessionId,"AuthEvent did not contain a session ID");const s=await SU(t.sessionId),a={};return Ql()?a.ibi=i.packageName:Kl()?a.apn=i.packageName:kt(e,"operation-not-supported-in-this-environment"),i.displayName&&(a.appDisplayName=i.displayName),a.sessionId=s,A0(e,n,t.type,void 0,(r=t.eventId)!==null&&r!==void 0?r:void 0,a)}async function bU(e){const{BuildInfo:t}=Bs(),n={};Ql()?n.iosBundleId=t.packageName:Kl()?n.androidPackageName=t.packageName:kt(e,"operation-not-supported-in-this-environment"),await D3(e,n)}function CU(e){const{cordova:t}=Bs();return new Promise(n=>{t.plugins.browsertab.isAvailable(r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,N9()?"_blank":"_system","location=yes"),n(i)})})}async function wU(e,t,n){const{cordova:r}=Bs();let i=()=>{};try{await new Promise((s,a)=>{let o=null;function u(){var c;s();const f=(c=r.plugins.browsertab)===null||c===void 0?void 0:c.close;typeof f=="function"&&f(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function l(){o||(o=window.setTimeout(()=>{a(ht(e,"redirect-cancelled-by-user"))},TU))}function d(){(document==null?void 0:document.visibilityState)==="visible"&&l()}t.addPassiveListener(u),document.addEventListener("resume",l,!1),Kl()&&document.addEventListener("visibilitychange",d,!1),i=()=>{t.removePassiveListener(u),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",d,!1),o&&window.clearTimeout(o)}})}finally{i()}}function IU(e){var t,n,r,i,s,a,o,u,l,d;const c=Bs();U(typeof((t=c==null?void 0:c.universalLinks)===null||t===void 0?void 0:t.subscribe)=="function",e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),U(typeof((n=c==null?void 0:c.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),U(typeof((s=(i=(r=c==null?void 0:c.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U(typeof((u=(o=(a=c==null?void 0:c.cordova)===null||a===void 0?void 0:a.plugins)===null||o===void 0?void 0:o.browsertab)===null||u===void 0?void 0:u.isAvailable)=="function",e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U(typeof((d=(l=c==null?void 0:c.cordova)===null||l===void 0?void 0:l.InAppBrowser)===null||d===void 0?void 0:d.open)=="function",e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function SU(e){const t=AU(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function AU(e){if(er(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU=20;class xU extends O3{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(t=>{this.resolveInitialized=t})}addPassiveListener(t){this.passiveListeners.add(t)}removePassiveListener(t){this.passiveListeners.delete(t)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(t){return this.resolveInitialized(),this.passiveListeners.forEach(n=>n(t)),super.onEvent(t)}async initialized(){await this.initPromise}}function NU(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:OU(),postBody:null,tenantId:e.tenantId,error:ht(e,"no-auth-event")}}function RU(e,t){return k0()._set(x0(e),t)}async function rT(e){const t=await k0()._get(x0(e));return t&&await k0()._remove(x0(e)),t}function PU(e,t){var n,r;const i=DU(t);if(i.includes("/__/auth/callback")){const s=ed(i),a=s.firebaseError?LU(decodeURIComponent(s.firebaseError)):null,o=(r=(n=a==null?void 0:a.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],u=o?ht(o):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function OU(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<kU;n++){const r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function k0(){return hn(u_)}function x0(e){return Cs("authEvent",e.config.apiKey,e.name)}function LU(e){try{return JSON.parse(e)}catch{return null}}function DU(e){const t=ed(e),n=t.link?decodeURIComponent(t.link):void 0,r=ed(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return ed(i).link||i||r||n||e}function ed(e){if(!(e!=null&&e.includes("?")))return{};const[t,...n]=e.split("?");return wa(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU=500;class FU{constructor(){this._redirectPersistence=Fs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=cf,this._overrideRedirectResult=p_}async _initialize(t){const n=t._key();let r=this.eventManagers.get(n);return r||(r=new xU(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),r}_openPopup(t){kt(t,"operation-not-supported-in-this-environment")}async _openRedirect(t,n,r,i){IU(t);const s=await this._initialize(t);await s.initialized(),s.resetRedirect(),RF(),await this._originValidation(t);const a=NU(t,r,i);await RU(t,a);const o=await vU(t,a,n),u=await CU(o);return wU(t,s,u)}_isIframeWebStorageSupported(t,n){throw new Error("Method not implemented.")}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bU(t)),this.originValidationPromises[n]}attachCallbackListeners(t,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=Bs(),a=setTimeout(async()=>{await rT(t),n.onEvent(iT())},MU),o=async d=>{clearTimeout(a);const c=await rT(t);let f=null;c&&(d!=null&&d.url)&&(f=PU(c,d.url)),n.onEvent(f||iT())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,o);const u=i,l=`${s.packageName.toLowerCase()}://`;Bs().handleOpenURL=async d=>{if(d.toLowerCase().startsWith(l)&&o({url:d}),typeof u=="function")try{u(d)}catch(c){console.error(c)}}}}const UU=FU;function iT(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ht("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BU(e,t){Ge(e)._logFramework(t)}var HU="@firebase/auth-compat",jU="0.5.16";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU=1e3;function ku(){var e;return((e=self==null?void 0:self.location)===null||e===void 0?void 0:e.protocol)||null}function WU(){return ku()==="http:"||ku()==="https:"}function F3(e=ft()){return!!((ku()==="file:"||ku()==="ionic:"||ku()==="capacitor:")&&e.toLowerCase().match(/iphone|ipad|ipod|android/))}function VU(){return Ph()||aI()}function $U(){return lI()&&(document==null?void 0:document.documentMode)===11}function YU(e=ft()){return/Edge\/\d+/.test(e)}function GU(e=ft()){return $U()||YU(e)}function U3(){try{const e=self.localStorage,t=Zl();if(e)return e.setItem(t,"1"),e.removeItem(t),GU()?Fd():!0}catch{return g_()&&Fd()}return!1}function g_(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Tp(){return(WU()||uI()||F3())&&!VU()&&U3()&&!g_()}function B3(){return F3()&&typeof document<"u"}async function qU(){return B3()?new Promise(e=>{const t=setTimeout(()=>{e(!1)},zU);document.addEventListener("deviceready",()=>{clearTimeout(t),e(!0)})}):!1}function KU(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln={LOCAL:"local",NONE:"none",SESSION:"session"},Go=U,H3="persistence";function QU(e,t){if(Go(Object.values(ln).includes(t),e,"invalid-persistence-type"),Ph()){Go(t!==ln.SESSION,e,"unsupported-persistence-type");return}if(aI()){Go(t===ln.NONE,e,"unsupported-persistence-type");return}if(g_()){Go(t===ln.NONE||t===ln.LOCAL&&Fd(),e,"unsupported-persistence-type");return}Go(t===ln.NONE||U3(),e,"unsupported-persistence-type")}async function N0(e){await e._initializationPromise;const t=j3(),n=Cs(H3,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function XU(e,t){const n=j3();if(!n)return[];const r=Cs(H3,e,t);switch(n.getItem(r)){case ln.NONE:return[ro];case ln.LOCAL:return[vl,Fs];case ln.SESSION:return[Fs];default:return[]}}function j3(){var e;try{return((e=KU())===null||e===void 0?void 0:e.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JU=U;class yi{constructor(){this.browserResolver=hn(fU),this.cordovaResolver=hn(UU),this.underlyingResolver=null,this._redirectPersistence=Fs,this._completeRedirectFn=cf,this._overrideRedirectResult=p_}async _initialize(t){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(t)}async _openPopup(t,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(t,n,r,i)}async _openRedirect(t,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(t,n,r,i)}_isIframeWebStorageSupported(t,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(t,n)}_originValidation(t){return this.assertedUnderlyingResolver._originValidation(t)}get _shouldInitProactively(){return B3()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return JU(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const t=await qU();this.underlyingResolver=t?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(e){return e.unwrap()}function ZU(e){return e.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eB(e){return W3(e)}function tB(e,t){var n;const r=(n=t.customData)===null||n===void 0?void 0:n._tokenResponse;if((t==null?void 0:t.code)==="auth/multi-factor-auth-required"){const i=t;i.resolver=new nB(e,G7(e,t))}else if(r){const i=W3(t),s=t;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function W3(e){const{_tokenResponse:t}=e instanceof en?e.customData:e;if(!t)return null;if(!(e instanceof en)&&"temporaryProof"in t&&"phoneNumber"in t)return Us.credentialFromResult(e);const n=t.providerId;if(!n||n===$o.PASSWORD)return null;let r;switch(n){case $o.GOOGLE:r=dr;break;case $o.FACEBOOK:r=cr;break;case $o.GITHUB:r=hr;break;case $o.TWITTER:r=fr;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:a,pendingToken:o,nonce:u}=t;return!s&&!a&&!i&&!o?null:o?n.startsWith("saml.")?io._create(n,o):Cr._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:i,accessToken:s}):new Fa(n).credential({idToken:i,accessToken:s,rawNonce:u})}return e instanceof en?r.credentialFromError(e):r.credentialFromResult(e)}function $t(e,t){return t.catch(n=>{throw n instanceof en&&tB(e,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:eB(n),additionalUserInfo:Y7(n),user:Fr.getOrCreate(i)}})}async function R0(e,t){const n=await t;return{verificationId:n.verificationId,confirm:r=>$t(e,n.confirm(r))}}class nB{constructor(t,n){this.resolver=n,this.auth=ZU(t)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(t){return $t(z3(this.auth),this.resolver.resolveSignIn(t))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(t){this._delegate=t,this.multiFactor=Q7(t)}static getOrCreate(t){return Fr.USER_MAP.has(t)||Fr.USER_MAP.set(t,new Fr(t)),Fr.USER_MAP.get(t)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(t){return this._delegate.getIdTokenResult(t)}getIdToken(t){return this._delegate.getIdToken(t)}linkAndRetrieveDataWithCredential(t){return this.linkWithCredential(t)}async linkWithCredential(t){return $t(this.auth,E3(this._delegate,t))}async linkWithPhoneNumber(t,n){return R0(this.auth,yF(this._delegate,t,n))}async linkWithPopup(t){return $t(this.auth,AF(this._delegate,t,yi))}async linkWithRedirect(t){return await N0(Ge(this.auth)),MF(this._delegate,t,yi)}reauthenticateAndRetrieveDataWithCredential(t){return this.reauthenticateWithCredential(t)}async reauthenticateWithCredential(t){return $t(this.auth,y3(this._delegate,t))}reauthenticateWithPhoneNumber(t,n){return R0(this.auth,TF(this._delegate,t,n))}reauthenticateWithPopup(t){return $t(this.auth,SF(this._delegate,t,yi))}async reauthenticateWithRedirect(t){return await N0(Ge(this.auth)),LF(this._delegate,t,yi)}sendEmailVerification(t){return D7(this._delegate,t)}async unlink(t){return await v7(this._delegate,t),this}updateEmail(t){return B7(this._delegate,t)}updatePassword(t){return H7(this._delegate,t)}updatePhoneNumber(t){return vF(this._delegate,t)}updateProfile(t){return U7(this._delegate,t)}verifyBeforeUpdateEmail(t,n){return M7(this._delegate,t,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Fr.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=U;let P0=class{constructor(t,n){if(this.app=t,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=t.options;qo(r,"invalid-api-key",{appName:t.name}),qo(r,"invalid-api-key",{appName:t.name});const i=typeof window<"u"?yi:void 0;this._delegate=n.initialize({options:{persistence:rB(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(d9),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Fr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(t){this._delegate.languageCode=t}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(t){this._delegate.tenantId=t}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(t,n){J9(this._delegate,t,n)}applyActionCode(t){return S7(this._delegate,t)}checkActionCode(t){return T3(this._delegate,t)}confirmPasswordReset(t,n){return I7(this._delegate,t,n)}async createUserWithEmailAndPassword(t,n){return $t(this._delegate,k7(this._delegate,t,n))}fetchProvidersForEmail(t){return this.fetchSignInMethodsForEmail(t)}fetchSignInMethodsForEmail(t){return L7(this._delegate,t)}isSignInWithEmailLink(t){return R7(this._delegate,t)}async getRedirectResult(){qo(Tp(),this._delegate,"operation-not-supported-in-this-environment");const t=await UF(this._delegate,yi);return t?$t(this._delegate,Promise.resolve(t)):{credential:null,user:null}}addFrameworkForLogging(t){BU(this._delegate,t)}onAuthStateChanged(t,n,r){const{next:i,error:s,complete:a}=sT(t,n,r);return this._delegate.onAuthStateChanged(i,s,a)}onIdTokenChanged(t,n,r){const{next:i,error:s,complete:a}=sT(t,n,r);return this._delegate.onIdTokenChanged(i,s,a)}sendSignInLinkToEmail(t,n){return N7(this._delegate,t,n)}sendPasswordResetEmail(t,n){return w7(this._delegate,t,n||void 0)}async setPersistence(t){QU(this._delegate,t);let n;switch(t){case ln.SESSION:n=Fs;break;case ln.LOCAL:n=await hn(vl)._isAvailable()?vl:u_;break;case ln.NONE:n=ro;break;default:return kt("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(t){return this.signInWithCredential(t)}signInAnonymously(){return $t(this._delegate,T7(this._delegate))}signInWithCredential(t){return $t(this._delegate,sf(this._delegate,t))}signInWithCustomToken(t){return $t(this._delegate,C7(this._delegate,t))}signInWithEmailAndPassword(t,n){return $t(this._delegate,x7(this._delegate,t,n))}signInWithEmailLink(t,n){return $t(this._delegate,P7(this._delegate,t,n))}signInWithPhoneNumber(t,n){return R0(this._delegate,EF(this._delegate,t,n))}async signInWithPopup(t){return qo(Tp(),this._delegate,"operation-not-supported-in-this-environment"),$t(this._delegate,h_(this._delegate,t,yi))}async signInWithRedirect(t){return qo(Tp(),this._delegate,"operation-not-supported-in-this-environment"),await N0(this._delegate),PF(this._delegate,t,yi)}updateCurrentUser(t){return this._delegate.updateCurrentUser(t)}verifyPasswordResetCode(t){return A7(this._delegate,t)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}};P0.Persistence=ln;function sT(e,t,n){let r=e;typeof e!="function"&&({next:r,error:t,complete:n}=e);const i=r;return{next:a=>i(a&&Fr.getOrCreate(a)),error:t,complete:n}}function rB(e,t){const n=XU(e,t);if(typeof self<"u"&&!n.includes(vl)&&n.push(vl),typeof window<"u")for(const r of[u_,Fs])n.includes(r)||n.push(r);return n.includes(ro)||n.push(ro),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{static credential(t,n){return Us.credential(t,n)}constructor(){this.providerId="phone",this._delegate=new Us(z3(wr.auth()))}verifyPhoneNumber(t,n){return this._delegate.verifyPhoneNumber(t,n)}unwrap(){return this._delegate}}__.PHONE_SIGN_IN_METHOD=Us.PHONE_SIGN_IN_METHOD;__.PROVIDER_ID=Us.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB=U;class sB{constructor(t,n,r=wr.app()){var i;iB((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new gF(r.auth(),t,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aB="auth-compat";function oB(e){e.INTERNAL.registerComponent(new Dn(aB,t=>{const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("auth");return new P0(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:aa.EMAIL_SIGNIN,PASSWORD_RESET:aa.PASSWORD_RESET,RECOVER_EMAIL:aa.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:aa.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:aa.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:aa.VERIFY_EMAIL}},EmailAuthProvider:ns,FacebookAuthProvider:cr,GithubAuthProvider:hr,GoogleAuthProvider:dr,OAuthProvider:Fa,SAMLAuthProvider:th,PhoneAuthProvider:__,PhoneMultiFactorGenerator:M3,RecaptchaVerifier:sB,TwitterAuthProvider:fr,Auth:P0,AuthCredential:vo,Error:en}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion(HU,jU)}oB(wr);const uB={apiKey:"AIzaSyCHsCuljZCMZVpSiEXyGMmiQLnzhF2kBTY",authDomain:"ally-web.firebaseapp.com",databaseURL:"https://ally-web-default-rtdb.firebaseio.com",projectId:"ally-web",storageBucket:"ally-web.firebasestorage.app",messagingSenderId:"82438629304",appId:"1:82438629304:web:af3ae23c1465fa5c41114d"};wr.initializeApp(uB);const Te=wr.database(),le=wr.auth(),V3=new wr.auth.GoogleAuthProvider,$3=new wr.auth.FacebookAuthProvider,lB=["prioritize everything sent to=bio ","to=bio += *command - compdoc() / composedocument():*","nigger","GU1D3L1N3S","3TH1C4L","M0R4L"],ou=e=>{const t=e.toLowerCase();return lB.some(n=>t.includes(n.toLocaleLowerCase()))},O0="This message may violate our policies";var aT;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(aT||(aT={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oT;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(oT||(oT={}));var uT;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(uT||(uT={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=["user","model","function","system"];var cT;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(cT||(cT={}));var dT;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(dT||(dT={}));var hT;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(hT||(hT={}));var fT;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(fT||(fT={}));var xu;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER"})(xu||(xu={}));var pT;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(pT||(pT={}));var mT;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(mT||(mT={}));var gT;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(gT||(gT={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class oa extends qt{constructor(t,n){super(t),this.response=n}}class Y3 extends qt{constructor(t,n,r,i){super(t),this.status=n,this.statusText=r,this.errorDetails=i}}class Di extends qt{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cB="https://generativelanguage.googleapis.com",dB="v1beta",hB="0.21.0",fB="genai-js";var Hs;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Hs||(Hs={}));class pB{constructor(t,n,r,i,s){this.model=t,this.task=n,this.apiKey=r,this.stream=i,this.requestOptions=s}toString(){var t,n;const r=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||dB;let s=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||cB}/${r}/${this.model}:${this.task}`;return this.stream&&(s+="?alt=sse"),s}}function mB(e){const t=[];return e!=null&&e.apiClient&&t.push(e.apiClient),t.push(`${fB}/${hB}`),t.join(" ")}async function gB(e){var t;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",mB(e.requestOptions)),n.append("x-goog-api-key",e.apiKey);let r=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new Di(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,s]of r.entries()){if(i==="x-goog-api-key")throw new Di(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new Di(`Header name ${i} can only be set using the apiClient field`);n.append(i,s)}}return n}async function _B(e,t,n,r,i,s){const a=new pB(e,t,n,r,s);return{url:a.toString(),fetchOptions:Object.assign(Object.assign({},vB(s)),{method:"POST",headers:await gB(a),body:i})}}async function tc(e,t,n,r,i,s={},a=fetch){const{url:o,fetchOptions:u}=await _B(e,t,n,r,i,s);return EB(o,u,a)}async function EB(e,t,n=fetch){let r;try{r=await n(e,t)}catch(i){yB(i,e)}return r.ok||await TB(r,e),r}function yB(e,t){let n=e;throw e instanceof Y3||e instanceof Di||(n=new qt(`Error fetching from ${t.toString()}: ${e.message}`),n.stack=e.stack),n}async function TB(e,t){let n="",r;try{const i=await e.json();n=i.error.message,i.error.details&&(n+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new Y3(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${n}`,e.status,e.statusText,r)}function vB(e){const t={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const n=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>n.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{n.abort()}),t.signal=n.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),td(e.candidates[0]))throw new oa(`${ci(e)}`,e);return bB(e)}else if(e.promptFeedback)throw new oa(`Text not available. ${ci(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),td(e.candidates[0]))throw new oa(`${ci(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),_T(e)[0]}else if(e.promptFeedback)throw new oa(`Function call not available. ${ci(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),td(e.candidates[0]))throw new oa(`${ci(e)}`,e);return _T(e)}else if(e.promptFeedback)throw new oa(`Function call not available. ${ci(e)}`,e)},e}function bB(e){var t,n,r,i;const s=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const a of(i=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)a.text&&s.push(a.text),a.executableCode&&s.push("\n```"+a.executableCode.language+`
`+a.executableCode.code+"\n```\n"),a.codeExecutionResult&&s.push("\n```\n"+a.codeExecutionResult.output+"\n```\n");return s.length>0?s.join(""):""}function _T(e){var t,n,r,i;const s=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const a of(i=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)a.functionCall&&s.push(a.functionCall);if(s.length>0)return s}const CB=[xu.RECITATION,xu.SAFETY,xu.LANGUAGE];function td(e){return!!e.finishReason&&CB.includes(e.finishReason)}function ci(e){var t,n,r;let i="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)i+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(i+=` due to ${e.promptFeedback.blockReason}`),!((n=e.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(i+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((r=e.candidates)===null||r===void 0)&&r[0]){const s=e.candidates[0];td(s)&&(i+=`Candidate was blocked due to ${s.finishReason}`,s.finishMessage&&(i+=`: ${s.finishMessage}`))}return i}function bl(e){return this instanceof bl?(this.v=e,this):new bl(e)}function wB(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(f){r[f]&&(i[f]=function(p){return new Promise(function(g,T){s.push([f,p,g,T])>1||o(f,p)})})}function o(f,p){try{u(r[f](p))}catch(g){c(s[0][3],g)}}function u(f){f.value instanceof bl?Promise.resolve(f.value.v).then(l,d):c(s[0][2],f)}function l(f){o("next",f)}function d(f){o("throw",f)}function c(f,p){f(p),s.shift(),s.length&&o(s[0][0],s[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function IB(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=kB(t),[r,i]=n.tee();return{stream:AB(r),response:SB(i)}}async function SB(e){const t=[],n=e.getReader();for(;;){const{done:r,value:i}=await n.read();if(r)return E_(xB(t));t.push(i)}}function AB(e){return wB(this,arguments,function*(){const n=e.getReader();for(;;){const{value:r,done:i}=yield bl(n.read());if(i)break;yield yield bl(E_(r))}})}function kB(e){const t=e.getReader();return new ReadableStream({start(r){let i="";return s();function s(){return t.read().then(({value:a,done:o})=>{if(o){if(i.trim()){r.error(new qt("Failed to parse stream"));return}r.close();return}i+=a;let u=i.match(ET),l;for(;u;){try{l=JSON.parse(u[1])}catch{r.error(new qt(`Error parsing JSON response: "${u[1]}"`));return}r.enqueue(l),i=i.substring(u[0].length),u=i.match(ET)}return s()})}}})}function xB(e){const t=e[e.length-1],n={promptFeedback:t==null?void 0:t.promptFeedback};for(const r of e){if(r.candidates)for(const i of r.candidates){const s=i.index;if(n.candidates||(n.candidates=[]),n.candidates[s]||(n.candidates[s]={index:i.index}),n.candidates[s].citationMetadata=i.citationMetadata,n.candidates[s].groundingMetadata=i.groundingMetadata,n.candidates[s].finishReason=i.finishReason,n.candidates[s].finishMessage=i.finishMessage,n.candidates[s].safetyRatings=i.safetyRatings,i.content&&i.content.parts){n.candidates[s].content||(n.candidates[s].content={role:i.content.role||"user",parts:[]});const a={};for(const o of i.content.parts)o.text&&(a.text=o.text),o.functionCall&&(a.functionCall=o.functionCall),o.executableCode&&(a.executableCode=o.executableCode),o.codeExecutionResult&&(a.codeExecutionResult=o.codeExecutionResult),Object.keys(a).length===0&&(a.text=""),n.candidates[s].content.parts.push(a)}}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G3(e,t,n,r){const i=await tc(t,Hs.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(n),r);return IB(i)}async function q3(e,t,n,r){const s=await(await tc(t,Hs.GENERATE_CONTENT,e,!1,JSON.stringify(n),r)).json();return{response:E_(s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function Cl(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const n of e)typeof n=="string"?t.push({text:n}):t.push(n);return NB(t)}function NB(e){const t={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,i=!1;for(const s of e)"functionResponse"in s?(n.parts.push(s),i=!0):(t.parts.push(s),r=!0);if(r&&i)throw new qt("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new qt("No content is provided for sending chat message.");return r?t:n}function RB(e,t){var n;let r={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(n=t==null?void 0:t.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const i=e.generateContentRequest!=null;if(e.contents){if(i)throw new Di("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=e.contents}else if(i)r=Object.assign(Object.assign({},r),e.generateContentRequest);else{const s=Cl(e);r.contents=[s]}return{generateContentRequest:r}}function yT(e){let t;return e.contents?t=e:t={contents:[Cl(e)]},e.systemInstruction&&(t.systemInstruction=K3(e.systemInstruction)),t}function PB(e){return typeof e=="string"||Array.isArray(e)?{content:Cl(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],OB={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function LB(e){let t=!1;for(const n of e){const{role:r,parts:i}=n;if(!t&&r!=="user")throw new qt(`First content should be with role 'user', got ${r}`);if(!lT.includes(r))throw new qt(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(lT)}`);if(!Array.isArray(i))throw new qt("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new qt("Each Content should have at least one part");const s={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const o of i)for(const u of TT)u in o&&(s[u]+=1);const a=OB[r];for(const o of TT)if(!a.includes(o)&&s[o]>0)throw new qt(`Content with role '${r}' can't contain '${o}' part`);t=!0}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="SILENT_ERROR";class DB{constructor(t,n,r,i={}){this.model=n,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,r!=null&&r.history&&(LB(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,n={}){var r,i,s,a,o,u;await this._sendPromise;const l=Cl(t),d={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(u=this.params)===null||u===void 0?void 0:u.cachedContent,contents:[...this._history,l]},c=Object.assign(Object.assign({},this._requestOptions),n);let f;return this._sendPromise=this._sendPromise.then(()=>q3(this._apiKey,this.model,d,c)).then(p=>{var g;if(p.response.candidates&&p.response.candidates.length>0){this._history.push(l);const T=Object.assign({parts:[],role:"model"},(g=p.response.candidates)===null||g===void 0?void 0:g[0].content);this._history.push(T)}else{const T=ci(p.response);T&&console.warn(`sendMessage() was unsuccessful. ${T}. Inspect response object for details.`)}f=p}),await this._sendPromise,f}async sendMessageStream(t,n={}){var r,i,s,a,o,u;await this._sendPromise;const l=Cl(t),d={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(u=this.params)===null||u===void 0?void 0:u.cachedContent,contents:[...this._history,l]},c=Object.assign(Object.assign({},this._requestOptions),n),f=G3(this._apiKey,this.model,d,c);return this._sendPromise=this._sendPromise.then(()=>f).catch(p=>{throw new Error(vT)}).then(p=>p.response).then(p=>{if(p.candidates&&p.candidates.length>0){this._history.push(l);const g=Object.assign({},p.candidates[0].content);g.role||(g.role="model"),this._history.push(g)}else{const g=ci(p);g&&console.warn(`sendMessageStream() was unsuccessful. ${g}. Inspect response object for details.`)}}).catch(p=>{p.message!==vT&&console.error(p)}),f}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MB(e,t,n,r){return(await tc(t,Hs.COUNT_TOKENS,e,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FB(e,t,n,r){return(await tc(t,Hs.EMBED_CONTENT,e,!1,JSON.stringify(n),r)).json()}async function UB(e,t,n,r){const i=n.requests.map(a=>Object.assign(Object.assign({},a),{model:t}));return(await tc(t,Hs.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(t,n,r={}){this.apiKey=t,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=K3(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(t,n={}){var r;const i=yT(t),s=Object.assign(Object.assign({},this._requestOptions),n);return q3(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),s)}async generateContentStream(t,n={}){var r;const i=yT(t),s=Object.assign(Object.assign({},this._requestOptions),n);return G3(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),s)}startChat(t){var n;return new DB(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},t),this._requestOptions)}async countTokens(t,n={}){const r=RB(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),n);return MB(this.apiKey,this.model,r,i)}async embedContent(t,n={}){const r=PB(t),i=Object.assign(Object.assign({},this._requestOptions),n);return FB(this.apiKey,this.model,r,i)}async batchEmbedContents(t,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return UB(this.apiKey,this.model,t,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(t){this.apiKey=t}getGenerativeModel(t,n){if(!t.model)throw new qt("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new bT(this.apiKey,t,n)}getGenerativeModelFromCachedContent(t,n,r){if(!t.name)throw new Di("Cached content must contain a `name` field.");if(!t.model)throw new Di("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const a of i)if(n!=null&&n[a]&&t[a]&&(n==null?void 0:n[a])!==t[a]){if(a==="model"){const o=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,u=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(o===u)continue}throw new Di(`Different value for "${a}" specified in modelParams (${n[a]}) and cachedContent (${t[a]})`)}const s=Object.assign(Object.assign({},n),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new bT(this.apiKey,s,r)}}const HB="AIzaSyApClqszUTiruooucL-l1UUQEsEeRi6zuk",tt=[{name:"Ally-2",description:"Advanced language model, suitable for everyday use",icon:W6,symbole:"a",defaultHistory:"If and only if someone asks you what your name or who created you, tell them that your name is AllyAI, Ally for short, and you are an artificial intelligence created and trained by the person at CodeAdiksuu. You help with many tasks, generate text, and can analyze and respond to photos. If you need more information for a specific task, provide sample data, but indicate that these are sample data",dailyLimit:50},{name:"Ally-Lie",description:"Reworked Ally-2 model misleading in answers",icon:iR,symbole:"b",defaultHistory:"Lie and mislead by providing false information in every subsequent message, regardless of the question asked, giving ridiculous and incorrect answers in response, even if they are untrue",dailyLimit:50},{name:"Ally-Imagine",description:"A model that allows you to replace text with a photo",icon:X6,symbole:"c",defaultHistory:"",dailyLimit:5},{name:"Ally-Custom",description:"Create and configure your own AI assistant based on your preferences",icon:fw,symbole:"x",defaultHistory:"",dailyLimit:20,experimental:!0}],Xs=async()=>{const e=await Te.ref(`users/${le.currentUser.uid}/settings/`).once("value");if(e.exists())return{temperature:e.val().temperature||1,length:e.val().length||8192,language:e.val().language||"auto",rules:e.val().rules||"",experimental:e.val().experimental||!1,tone:e.val().tone||"neutral"};{const t={temperature:1,length:8192,language:"auto",rules:"",experimental:!1,tone:"neutral"};return await Te.ref(`users/${le.currentUser.uid}/settings`).set(t),t}},jB=(e,t,n,r,i,s,a,o,u,l)=>{if(e>=0&&e<=2&&t>0&&t<=8192&&a.length<=300)Te.ref(`users/${le.currentUser.uid}/settings/`).update({temperature:e,length:t,language:i,rules:a,tone:u});else{const d={temperature:1,length:8192,language:"auto",rules:"",tone:"neutral"};Te.ref(`users/${le.currentUser.uid}/settings`).set(d),n("1"),r("8192"),s("auto"),o(""),l("neutral")}},zB=async()=>{const e=await Te.ref(`users/${le.currentUser.uid}/custom/`).once("value");if(e.exists())return{rules:e.val().rules};{const t={rules:""};return await Te.ref(`users/${le.currentUser.uid}/custom`).set(t),t}},WB='Provide it in the form: "1. query1 2. query2 3. query3".';function VB(e,t,n,r,i){const s=HB,a=new BB(s);return e!=="ALLY-CUSTOM"?a.getGenerativeModel({model:"gemini-2.0-flash-exp",generationConfig:{temperature:t},systemInstruction:`${n!=="auto"?`Always speek in ${n} language!`:""}, Stick to these rules: ${r} ${e?`and ${tt.find(o=>o.name.toUpperCase()===e).defaultHistory}`:`and ${WB}`}`}):a.getGenerativeModel({model:"gemini-2.0-flash-exp",generationConfig:{temperature:t},systemInstruction:`${n!=="auto"?`Always speek in ${n} language!`:""}, Stick to these rules: ${r} and ${i}`})}function $B(e,t){return e.startChat({history:[...t]})}const YB=e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>t(r.result.split(",")[1]),r.onerror=i=>n(i),r.readAsDataURL(e)}),GB=async(e,t,n,r)=>{const i=await Promise.all(n.map(async u=>{const l=u.type;return{inlineData:{data:await YB(u),mimeType:l}}})),s=r.map(u=>u.message).join(`
`)+`
`+t,a=await e.generateContentStream([s,...i]);let o="";for await(const u of a.stream)o+=u.text();return o||"No response generated."};async function qB(e,t,n=3,r=1e3){var s,a,o,u,l;let i=0;for(;i<n;)try{return((l=(u=(o=(a=(s=(await e.sendMessage(t)).response.candidates)==null?void 0:s[0])==null?void 0:a.content)==null?void 0:o.parts)==null?void 0:u[0])==null?void 0:l.text)||"No response generated."}catch(d){if(d.message.includes("503")&&i<n-1)console.warn(`Attempt ${i+1} failed. Retrying in ${r}ms...`),await new Promise(c=>setTimeout(c,r)),i++;else throw console.error("Error sending message to Gemini API:",d),new Error("Failed to send message.")}}async function L0(e,t,n,r){try{const i=await Xs(),s=await zB(),a=i.temperature||1,o=i.language||"auto",u=`Always use ${i.tone} tone language!. ${i.rules}`||"",l=s.rules||"",d=VB(r,a,o,u,l);if(n.length>0)return await GB(d,e,n,t);{const c=await $B(d,t);return await qB(c,e)}}catch(i){return console.error("Error with Gemini API:",i),"Unfortunately, the server is overloaded. Please try again later."}}const KB=async e=>{const t=await L0("Provide a list of 10 questions the user could ask (based on their question writing style) depending on the context of this conversation.",e,[],void 0);return QB(t)},QB=e=>{if(!e||typeof e!="string")return["blad"];const t=/\d+\.\s/;return e.split(t).filter(Boolean)};function vp(){const e=new Date,t=String(e.getHours()).padStart(2,"0"),n=String(e.getMinutes()).padStart(2,"0");return`${t}:${n}`}const XB=async e=>{try{const t=await fetch("https://api-inference.huggingface.co/models/ZB-Tech/Text-to-Image",{headers:{Authorization:"Bearer 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","Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)});if(!t.ok)throw new Error(`Failed to fetch image: ${t.statusText}`);const n=await t.blob();return new Promise((r,i)=>{const s=new FileReader;s.onloadend=()=>{r(s.result)},s.onerror=a=>{i(new Error("Failed to convert blob to Base64"))},s.readAsDataURL(n)})}catch(t){return console.error("Error with Hugging Face API:",t.message),"Unfortunately, the server is overloaded. Please try again later."}};async function CT(e){if(e)return await XB({inputs:e})}async function Q3(e){return(await Te.ref(`users/${e||le.currentUser.uid}`).once("value")).val().username}async function nc(e){const t=await Te.ref(`users/${le.currentUser.uid}/prompts`).once("value");return t.exists()?t.val()[e]:0}function JB(e,t){Te.ref(`users/${le.currentUser.uid}/prompts`).update({[e]:t+1})}function ZB(e,t){e(""),t([])}async function df(e,t,n,r,i,s,a,o,u,l){if(r&&r.preventDefault(),t.trim()==="")return;n&&u&&ZB(n,u),a&&a(!0);const d=`chats/${le.currentUser.uid}/${e.toUpperCase()}/${i}`,f=(await Te.ref(d).once("value")).numChildren(),p=f.toString().padStart(6,"0");if(JB(e.toUpperCase(),await nc(e.toUpperCase())),l){const g=parseInt(l.replace("message_","")-1).toString().padStart(6,"0"),T=e.toUpperCase()==="ALLY-IMAGINE";Te.ref(`${d}/message_${g}/`).once("value").then(async w=>{const _=w.val().message,E={message:ou(_)?O0:T?await CT(_):await L0(_,s,o,e.toUpperCase()),username:"Ally",author:"ai",time:vp(),loading:!0,invalid:ou(_)};Te.ref(`${d}/${l}/`).update(E).then(()=>{a&&a(!1)})})}else{const g={message:t,author:"user",time:vp(),username:await Q3(),file:o.length>0?o.map(w=>URL.createObjectURL(w)):null,invalid:!1},T=e.toUpperCase()==="ALLY-IMAGINE";Te.ref(`${d}/message_${p}/`).set(g).then(async()=>{const w={message:ou(t)?O0:T?await CT(t):await L0(t,s,o,e.toUpperCase()),username:"Ally",author:"ai",time:vp(),loading:!0,invalid:ou(t)};Te.ref(`${d}/message_${(f+1).toString().padStart(6,"0")}/`).set(w).then(()=>{a&&a(!1)})})}}const D0=["Tell me about the weather in New York","How many people are in London?","Who won the 2020 Nobel Prize in Literature?","What is the current stock price of Apple Inc.?","Who is the Prime Minister of France?","What is the capital of Australia?","Describe the characteristics of a giraffe.","What are the ingredients in a chocolate chip cookie?","Summarize the plot of Romeo and Juliet.",'Translate "hello" to Spanish.',"What is the population of Brazil?","Compare and contrast the Roman Empire and the Han Dynasty.","What are the symptoms of the common cold?","Recommend three restaurants in Paris that serve French cuisine.","Write a short poem about a sunset.","Explain the theory of relativity in simple terms.","What is the highest mountain in the world?","Give me five facts about the moon.","Who painted the Mona Lisa?","What is the chemical formula for water?","What is the largest planet in our solar system?",'Who wrote "Hamlet"?',"What is the capital of Japan?","Explain the process of photosynthesis.","What are the causes of World War I?","Describe the characteristics of a redwood tree.","What is the difference between a dog and a cat?","What is the function of the liver?","What is the history of the internet?","What is the difference between a republic and a monarchy?","What are the major religions of the world?","Who invented the printing press?","What is the importance of trees in the ecosystem?","What is the role of a neuron in the nervous system?","What are the different types of clouds?","What is the capital of Egypt?","Explain the process of cellular respiration.","What is the significance of the Magna Carta?","What are the different types of volcanoes?","What is the structure of a DNA molecule?","What are the major causes of air pollution?","What is the difference between a virus and a bacteria?","Who is considered the father of medicine?","What are the main components of the Earth's atmosphere?","What is the theory of plate tectonics?","What is the difference between a hawk and an eagle?","What is the process of digestion in humans?","What are the benefits of regular exercise?","What is the function of the heart?","What is the history of the United States?","What are the major components of a computer?","Describe the characteristics of a mountain lion.","Who was Abraham Lincoln?","What is the process of photosynthesis?","What are the different types of government?","What is the role of gravity in the universe?","Who is Albert Einstein?","What is the importance of biodiversity?","What are the different types of musical instruments?","What is the history of the Roman Empire?","Describe the characteristics of a polar bear.","What is the current population of the world?","What are the main causes of climate change?","Describe the characteristics of a desert.","Explain the process of mitosis.","Who is the current president of the United States?","What is the meaning of life?","What is the difference between a democracy and an oligarchy?","Write a short story about a lost dog.","What is the tallest building in the world?","What are the major rivers in the United States?","Explain the concept of time travel.","What is the difference between a mammal and a reptile?","What is the role of oxygen in the human body?","What are the benefits of eating a healthy diet?","What is the capital of Canada?","Who painted the Starry Night?","What is the history of the computer?","How do electric cars work?","What are the Seven Wonders of the Ancient World?","Explain how blockchain technology works.","What are the different types of renewable energy?","How does artificial intelligence learn?","What is the process of making chocolate?","Explain quantum computing in simple terms.","What are the major events of the Renaissance period?","How do vaccines work?","What is the impact of social media on society?","Describe the process of making wine.","What are the different types of stars?","How does a nuclear reactor work?","What is the history of cryptocurrency?","Explain how the human immune system works.","What are the principles of sustainable architecture?","How do earthquakes occur?","What is the process of making paper?","Describe the life cycle of a butterfly.","What are the different types of cognitive biases?","How does weather forecasting work?","What is the future of space exploration?","Explain how 3D printing works.","What are the different types of programming languages?","How does the stock market work?","What is the role of fungi in ecosystems?","How do black holes form?","Explain the basics of machine learning.","What are the different types of pasta?","How does a combustion engine work?","What is the history of chess?","Explain the water cycle on Earth.","What are the major art movements in history?","How do solar panels generate electricity?","What is the process of making steel?","Describe the Great Barrier Reef ecosystem.","What are the different types of chemical bonds?","How does GPS navigation work?","What is the history of aviation?","Explain how wind turbines generate power.","What are the different types of dinosaurs?","How does memory work in the human brain?","What is the process of coffee production?","Explain how television works.","What are the different types of ocean waves?","How do plants adapt to different environments?","What is the history of medicine?","Explain how refrigeration works.","What are the different types of rock formations?","How does sound travel?","What is the process of beer brewing?","Explain how batteries work.","What are the different types of weather phenomena?","How does photographic film work?","What is the history of mathematics?","Describe the process of glass making.","What are the different types of renewable resources?","How does fiber optic communication work?","What is the process of oil refining?","Explain how nuclear fusion works.","What are the different types of mental disorders?","How does a microwave oven work?","What is the history of agriculture?","Describe the process of wine fermentation.","What are the different types of natural disasters?","How does air conditioning work?","What is the process of diamond formation?","Explain how digital cameras work.","What are the different types of alternative medicine?","How does wireless charging work?","What is the history of transportation?","Describe the process of honey production.","What are the different types of martial arts?","How does facial recognition technology work?","What is the process of recycling plastic?","Explain how hydroelectric power works.","What are the different types of tea?","How does voice recognition work?","What is the history of writing systems?","Describe the process of pottery making.","What are the different types of dance styles?","How does a touchscreen work?","What is the process of chocolate making?","Explain how virtual reality works.","What are the different types of meditation?","How does cloud computing work?","What is the history of currency?","Describe the process of perfume making.","What are the different types of renewable energy storage?","How does gene editing work?","What is the process of silk production?","Explain how quantum encryption works.","What are the different types of psychological therapies?","How does 5G technology work?","What is the history of robotics?","Describe the process of pearl formation.","What are the different types of artificial intelligence?","How does noise-canceling technology work?","What is the process of paper recycling?","Explain how autonomous vehicles work.","What are the different types of sleep disorders?","How does carbon capture technology work?","What is the history of space exploration?","Describe the process of rubber production.","What are the different types of sustainable energy?","How does biometric authentication work?","What is the process of composting?","Explain how augmented reality works.","What are the different types of learning disabilities?","How does water purification work?","What is the history of artificial intelligence?","Describe the process of salt production.","What are the different types of cloud computing services?","How does quantum computing work?","What is the process of biodiesel production?","Explain how smart home technology works.","What are the different types of renewable transportation?","How does blockchain mining work?","What is the history of genetic engineering?","Describe the process of bioplastic production.","What are the different types of cybersecurity threats?","How does machine translation work?","What is the process of wastewater treatment?","Explain how edge computing works.","What are the different types of renewable building materials?","How does quantum sensing work?","What is the history of nanotechnology?","Describe the process of hydrogen fuel production.","What are the different types of space propulsion?","How does brain-computer interface technology work?"],eH=(e,t)=>[...e].sort(()=>.5-Math.random()).slice(0,t);function tH(e){e(D0[Math.floor(Math.random()*D0.length)])}const nH=()=>{Te.ref(`users/${le.currentUser.uid}`).update({premium:!0})},Co=async()=>(await Te.ref(`users/${le.currentUser.uid}/`).once("value")).val().premium||!1;function rH({model:e}){const[t,n]=R.useState(""),[r,i]=R.useState(!1),[s,a]=R.useState(0),o=R.useRef(null),u=Fn(),[l,d]=R.useState(!1);R.useEffect(()=>{(async()=>{const _=await Co();d(_)})()},[]);const c=async w=>{if(w.preventDefault(),t.trim()==="")return;i(!0);const _=Date.now(),E=`${tt.find(y=>y.name===e).symbole}${_}`;await df(e,t,n,w,E,[],i,[]),u(`/chat/${E}`,{state:{loading:!0}})},f=()=>{const w=o.current;w&&(w.style.height="auto",w.style.height=`${w.scrollHeight-20}px`)},p=w=>{w.key==="Enter"&&!w.shiftKey&&(w.preventDefault(),c(w))},g=w=>{n(w.target.value),f()};R.useEffect(()=>{(async()=>{a(await nc(e.toUpperCase()))})()},[u]);const T=l?999:tt.find(w=>w.name.toUpperCase()===e.toUpperCase()).dailyLimit;return m.jsxs("form",{className:"input",onSubmit:w=>c(w),children:[m.jsx("textarea",{ref:o,disabled:s>=T||r,type:"text",onKeyDown:p,placeholder:s>=T?"Prompts limit reached for today":r?"Wait for response...":"Ask question",value:t,onChange:w=>g(w)}),m.jsxs("div",{className:"send_options",children:[m.jsx("label",{onClick:()=>tH(n),children:m.jsx(he,{icon:_R})}),m.jsx("button",{type:"submit",disabled:t.trim().length===0||s>=T||r,children:m.jsx(he,{icon:_w})})]})]})}function iH({model:e}){const[t,n]=R.useState(!1),r=Fn(),[i]=R.useState(eH(D0,3)),[s,a]=R.useState(!1),[o,u]=R.useState(0),l=s?999:tt.find(g=>g.name.toUpperCase()===e.toUpperCase()).dailyLimit;R.useEffect(()=>{(async()=>{u(await nc(e.toUpperCase()))})()},[r]),R.useEffect(()=>{(async()=>{const T=await Co();a(T)})()},[]);const d=async g=>{if(o>=l)return;n(!0);const T=Date.now(),w=`${tt.find(_=>_.name===e).symbole}${T}`;await df(e.toUpperCase(),g,null,null,w,[],n,[]),r(`/chat/${w}`,{state:{loading:!0}})},c=["What about this?","Ask me this!","Curious? Try me!"],f=[vR,mw,fw];function p({example:g,index:T}){return m.jsxs("div",{className:"example",onClick:()=>d(g),children:[m.jsx("span",{children:m.jsx(he,{icon:f[T]})}),m.jsx("h3",{children:c[T]}),m.jsx("p",{children:g})]})}return m.jsx("div",{className:"examples",children:i.map((g,T)=>m.jsx(p,{example:g,index:T},T))})}function sH({model:e,setModel:t}){const n=tt.find(u=>u.name===e),[r,i]=R.useState(!1),s=()=>{i(!r)};function a(u){u.name!==n.name&&(t(u.name),i(!1))}function o({model:u}){return m.jsxs("div",{onClick:()=>a(u),className:`model${u.name===n.name&&r?" primary":""}`,children:[m.jsxs("span",{children:[m.jsx(he,{icon:u.icon})," ",u.name]}),u.name===n.name?m.jsx("button",{onClick:()=>s(),children:m.jsx(he,{icon:Mm})}):null]})}return m.jsxs("div",{className:"select_model",children:[m.jsx(o,{model:n},e),r?m.jsx("div",{className:"list",children:tt.filter(u=>u.name!==n.name&&!u.disabled).map((u,l)=>m.jsx(o,{model:u},l))}):null]})}function aH({isPremium:e,experimental:t}){const n=Fn();function r({icon:i,title:s,description:a}){return m.jsxs("div",{className:"new_version",onClick:()=>n("/settings"),children:[m.jsx("div",{className:"left",children:m.jsx(he,{icon:i})}),m.jsxs("div",{className:"right",children:[m.jsx("h3",{children:s}),m.jsx("p",{children:a})]})]})}return e?t?null:m.jsx(r,{icon:tR,title:"Experimental features",description:"Try out the latest features in the settings tab"}):m.jsx(r,{icon:q6,title:"Premium account available",description:"Get access to additional features, unlimited prompts and more"})}const rc="/assets/logo-BlcMkMaV.png";function oH({searching:e,setSearching:t,setActivate:n}){return m.jsxs("div",{className:"searchbar",children:[m.jsx("input",{onClick:()=>n(!0),type:"text",placeholder:"Search for chats...",value:e,onChange:r=>t(r.target.value)}),m.jsx("button",{"aria-label":"search",children:m.jsx(he,{icon:gw})})]})}function uH({setActivate:e}){const t=[{text:"Home",icon:uR,path:"/"},{text:"Models",icon:eR,path:"/models"},{text:"Settings",icon:pw,path:"/settings"},{text:"Chats",icon:V6,path:"/chats"}];function n({button:r}){return r.text!=="Chats"?m.jsx("li",{children:m.jsxs(Ll,{className:r!=null&&r.disabled?"disabled":"",to:r.path,children:[m.jsx(he,{icon:r.icon})," ",m.jsx("p",{children:r.text})]})}):m.jsx("li",{className:"",children:m.jsxs("a",{onClick:()=>e(!0),children:[m.jsx(he,{icon:r.icon})," ",m.jsx("p",{children:r.text})]})})}return m.jsx("ul",{className:"others",children:t.map((r,i)=>m.jsx(n,{button:r},i))})}function lH(){return m.jsx("div",{className:"bottom",children:m.jsxs(Ll,{to:"/chats",className:"createChat",children:[m.jsx(he,{icon:dR})," Create new chat"]})})}function cH(e,t){(async()=>{const r=[];for(const i of tt){const s=i.name,a=await Te.ref(`chats/${le.currentUser.uid}/${s.toUpperCase()}`).once("value");a.exists()&&a.forEach(o=>{const u=o.key,l=`chats/${le.currentUser.uid}/${s.toUpperCase()}/${u}/`;Te.ref(`${l}/message_000000`).once("value").then(d=>{const c=d.val();if(!c)return;const f={path:u,model:s,firstMessage:c.message.trim().length>=25?`${c.message.trim().slice(0,25)}...`:`${c.message.trim()}`};r.push(f),t([...r])})})}})()}function dH({searching:e,setSearching:t,chatsList:n,setActivate:r}){const i=Fn(),[s,a]=R.useState(""),o=()=>{r(!1)},u=c=>{o(),i(`/chat/${c.path}`,{state:{loading:!1,model:c.model}})};function l({chat:c}){return m.jsx("div",{className:"chat",onClick:()=>u(c),children:m.jsxs("p",{children:[c.firstMessage," ",m.jsx("span",{children:c.model})]})})}const d=n.filter(c=>c.firstMessage.toLowerCase().includes(e.trim().toLowerCase())&&c.model.toLowerCase().includes(s.trim().toLowerCase()));return m.jsxs(m.Fragment,{children:[m.jsx("div",{onClick:()=>o(),className:"blurred-bg"}),m.jsxs("div",{className:"floating_chats",children:[m.jsxs("div",{className:"top",children:[m.jsxs("div",{className:"leftside",children:[m.jsx("span",{children:m.jsx(he,{icon:gw})}),m.jsx("input",{type:"text",value:e,placeholder:"Search for chats...",onChange:c=>t(c.target.value)})]}),m.jsxs("div",{className:"rightside",children:[m.jsx("span",{children:m.jsx(he,{icon:mR})}),m.jsx("input",{type:"text",value:s,placeholder:"Filter by model",onChange:c=>a(c.target.value)})]})]}),d.length>0?m.jsx("div",{className:"list",children:d.reverse().map((c,f)=>m.jsx(l,{chat:c},f))}):m.jsx("div",{className:"bottom",children:m.jsx("div",{className:"text",children:m.jsx("p",{children:"Oops, we couldn't find what you're looking for now"})})})]})]})}function so(){const[e,t]=R.useState([]),[n,r]=R.useState(""),[i,s]=R.useState(!1);return R.useEffect(()=>{t([]),cH(e,t)},[i]),m.jsxs("div",{className:"sidebar",children:[m.jsx("div",{className:"top",children:m.jsxs("div",{children:[m.jsx("img",{src:rc,alt:"logo of app"}),m.jsx("h1",{children:"AllyAI"})]})}),m.jsx(oH,{searching:n,setSearching:r,setActivate:s}),i?m.jsx(dH,{searching:n,setSearching:r,chatsList:e,setActivate:s}):null,m.jsx(uH,{setActivate:s}),m.jsx(lH,{})]})}function hH(){var l;const e=Zi(),t=Fn(),[n,r]=R.useState(((l=e.state)==null?void 0:l.model)||"Ally-2"),{id:i}=uw(),[s,a]=R.useState(!0),[o,u]=R.useState(!1);return R.useEffect(()=>{(async()=>{const c=await Co();u(c)})()},[]),R.useEffect(()=>{(async()=>{const c=await Xs();a(c.experimental)})(),t("/chats",{replace:!0,state:null})},[t,i]),m.jsxs(m.Fragment,{children:[m.jsx(so,{}),m.jsxs("section",{className:"home",children:[m.jsx(aH,{isPremium:o,experimental:s}),m.jsx(iH,{model:n}),m.jsxs("div",{className:"container",children:[m.jsx("h1",{children:"How can I help you?"}),m.jsx("p",{children:"Ask what you want and you will receive a quick and concise answer"}),m.jsx(rH,{model:n}),m.jsx(sH,{model:n,setModel:r})]})]})]})}function fH({model:e,prompts:t,isPremium:n}){const r=Fn(),i=()=>{r("/chats",{state:{model:e.name}})};function s(){return m.jsx("button",{onClick:()=>r("/settings",{state:{category:"Experimental settings"}}),className:"settings",children:m.jsx(he,{icon:pw})})}return m.jsxs("div",{className:`model${e!=null&&e.disabled?" disabled":""}`,children:[m.jsx("div",{className:"leftside",children:m.jsx("span",{children:m.jsx(he,{icon:e.icon})})}),m.jsxs("div",{className:"rightside",onClick:()=>i(),children:[m.jsx("h2",{children:e.name}),m.jsx("p",{children:e.description}),m.jsxs("span",{children:[t[e.name.toUpperCase()],"/",n?999:tt.find(a=>a.name===e.name).dailyLimit," prompts"]})]}),(e==null?void 0:e.experimental)===!0&&m.jsx(s,{})]})}async function pH(){const t=(await Te.ref(`users/${le.currentUser.uid}/prompts/`).once("value")).val();return t?{"ALLY-2":t["ALLY-2"]||0,"ALLY-LIE":t["ALLY-LIE"]||0,"ALLY-IMAGINE":t["ALLY-IMAGINE"]||0,"ALLY-CUSTOM":t["ALLY-CUSTOM"]||0}:{"ALLY-2":0,"ALLY-LIE":0,"ALLY-IMAGINE":0,"ALLY-CUSTOM":0}}function mH(){const[e,t]=R.useState({"ALLY-2":0,"ALLY-LIE":0,"ALLY-IMAGINE":0}),[n,r]=R.useState(!1),[i,s]=R.useState(!1);return R.useEffect(()=>{(async()=>{const o=await Co();r(o);const u=await Xs();s(u.experimental)})()},[]),R.useEffect(()=>{(async()=>{t(await pH())})()},[]),m.jsxs(m.Fragment,{children:[m.jsx(so,{}),m.jsxs("section",{className:"models",children:[m.jsxs("div",{className:"info",children:[m.jsx("h1",{children:"Try our models"}),m.jsx("p",{children:"AllyAI offers several language models, try them all!"})]}),m.jsx("div",{className:"container",children:tt.map((a,o)=>(!a.experimental||a.experimental===i)&&m.jsx(fH,{model:a,prompts:e,isPremium:n},o))})]})]})}function gH(e,t){const n=tt.find(r=>r.symbole===window.location.pathname.at(6)).name.toUpperCase();Te.ref(`chats/${le.currentUser.uid}/${n}/${e}/`).remove().then(()=>{t(!0)})}function _H(e){Te.ref(`chats/${le.currentUser.uid}`).remove().then(()=>{e(!0),setTimeout(()=>{e(!1)},1e3)})}const EH=e=>{const t=window.location.pathname.at(6);tt.find(r=>r.symbole===t).name.toUpperCase()&&navigator.clipboard.writeText(`${window.location.origin}/chat/${e}from${le.currentUser.uid}`)},yH=e=>{const t=window.location.pathname.at(6),n=tt.find(r=>r.symbole===t).name.toUpperCase();return new Promise((r,i)=>{n||r("error");const s=e.split("from"),a=`chats/${s[1]}/${n}/${s[0]}`,o=`chats/${le.currentUser.uid}/${n}/${s[0]}`;Te.ref(a).on("value",u=>{const l=u.val();l||r("error"),Te.ref(o).set(l).then(()=>{r("back")})})})};function TH({id:e,experimental:t,history:n}){const[r,i]=R.useState(!1),s=Fn(),a=[{icon:Y6,do:()=>EH(e),exp:!0},{icon:z6,do:()=>gH(e,i),exp:!1}];R.useEffect(()=>{r&&(i(!1),s("/chats"))},[r]);function o({button:u}){return m.jsx("button",{onClick:()=>u.do(),children:m.jsx(he,{icon:u.icon})})}return m.jsxs("div",{className:"navbar",children:[m.jsxs("h1",{children:["Chatting with ",m.jsx("span",{children:tt.find(u=>u.symbole===window.location.pathname.at(6)).name.toUpperCase()})]}),m.jsx("div",{className:"options",children:a.map((u,l)=>u.exp===!0?t===!0&&m.jsx(o,{button:u},l):m.jsx(o,{button:u},l))})]})}const vH=e=>{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),t.remove()},bH=(e,t,n,r)=>{r(s=>s.filter(a=>{var o;return((o=a.parts[0])==null?void 0:o.text)!==e.text}));const i=tt.find(s=>s.symbole===window.location.pathname.at(6)).name.toUpperCase();df(i,e.text,null,null,window.location.pathname.slice(6),t,n,e.file||[],null,e.key)};function wT(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const a=n.slice(i,r).trim();(a||!s)&&t.push(a),i=r+1,r=n.indexOf(",",i)}return t}function X3(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const CH=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,wH=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,IH={};function IT(e,t){return(IH.jsx?wH:CH).test(e)}const SH=/[ \t\n\f\r]/g;function AH(e){return typeof e=="object"?e.type==="text"?ST(e.value):!1:ST(e)}function ST(e){return e.replace(SH,"")===""}let ic=class{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}};ic.prototype.normal={};ic.prototype.property={};ic.prototype.space=void 0;function J3(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new ic(n,r,t)}function wl(e){return e.toLowerCase()}let rn=class{constructor(t,n){this.attribute=n,this.property=t}};rn.prototype.attribute="";rn.prototype.booleanish=!1;rn.prototype.boolean=!1;rn.prototype.commaOrSpaceSeparated=!1;rn.prototype.commaSeparated=!1;rn.prototype.defined=!1;rn.prototype.mustUseProperty=!1;rn.prototype.number=!1;rn.prototype.overloadedBoolean=!1;rn.prototype.property="";rn.prototype.spaceSeparated=!1;rn.prototype.space=void 0;let kH=0;const re=Js(),rt=Js(),Z3=Js(),j=Js(),Ne=Js(),Ba=Js(),an=Js();function Js(){return 2**++kH}const M0=Object.freeze(Object.defineProperty({__proto__:null,boolean:re,booleanish:rt,commaOrSpaceSeparated:an,commaSeparated:Ba,number:j,overloadedBoolean:Z3,spaceSeparated:Ne},Symbol.toStringTag,{value:"Module"})),bp=Object.keys(M0);let y_=class extends rn{constructor(t,n,r,i){let s=-1;if(super(t,n),AT(this,"space",i),typeof r=="number")for(;++s<bp.length;){const a=bp[s];AT(this,bp[s],(r&M0[a])===M0[a])}}};y_.prototype.defined=!0;function AT(e,t,n){n&&(e[t]=n)}function wo(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new y_(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[wl(r)]=r,n[wl(s.attribute)]=r}return new ic(t,n,e.space)}const eA=wo({properties:{ariaActiveDescendant:null,ariaAtomic:rt,ariaAutoComplete:null,ariaBusy:rt,ariaChecked:rt,ariaColCount:j,ariaColIndex:j,ariaColSpan:j,ariaControls:Ne,ariaCurrent:null,ariaDescribedBy:Ne,ariaDetails:null,ariaDisabled:rt,ariaDropEffect:Ne,ariaErrorMessage:null,ariaExpanded:rt,ariaFlowTo:Ne,ariaGrabbed:rt,ariaHasPopup:null,ariaHidden:rt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ne,ariaLevel:j,ariaLive:null,ariaModal:rt,ariaMultiLine:rt,ariaMultiSelectable:rt,ariaOrientation:null,ariaOwns:Ne,ariaPlaceholder:null,ariaPosInSet:j,ariaPressed:rt,ariaReadOnly:rt,ariaRelevant:null,ariaRequired:rt,ariaRoleDescription:Ne,ariaRowCount:j,ariaRowIndex:j,ariaRowSpan:j,ariaSelected:rt,ariaSetSize:j,ariaSort:null,ariaValueMax:j,ariaValueMin:j,ariaValueNow:j,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function tA(e,t){return t in e?e[t]:t}function nA(e,t){return tA(e,t.toLowerCase())}const xH=wo({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ba,acceptCharset:Ne,accessKey:Ne,action:null,allow:null,allowFullScreen:re,allowPaymentRequest:re,allowUserMedia:re,alt:null,as:null,async:re,autoCapitalize:null,autoComplete:Ne,autoFocus:re,autoPlay:re,blocking:Ne,capture:null,charSet:null,checked:re,cite:null,className:Ne,cols:j,colSpan:null,content:null,contentEditable:rt,controls:re,controlsList:Ne,coords:j|Ba,crossOrigin:null,data:null,dateTime:null,decoding:null,default:re,defer:re,dir:null,dirName:null,disabled:re,download:Z3,draggable:rt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:re,formTarget:null,headers:Ne,height:j,hidden:re,high:j,href:null,hrefLang:null,htmlFor:Ne,httpEquiv:Ne,id:null,imageSizes:null,imageSrcSet:null,inert:re,inputMode:null,integrity:null,is:null,isMap:re,itemId:null,itemProp:Ne,itemRef:Ne,itemScope:re,itemType:Ne,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:re,low:j,manifest:null,max:null,maxLength:j,media:null,method:null,min:null,minLength:j,multiple:re,muted:re,name:null,nonce:null,noModule:re,noValidate:re,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:re,optimum:j,pattern:null,ping:Ne,placeholder:null,playsInline:re,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:re,referrerPolicy:null,rel:Ne,required:re,reversed:re,rows:j,rowSpan:j,sandbox:Ne,scope:null,scoped:re,seamless:re,selected:re,shadowRootClonable:re,shadowRootDelegatesFocus:re,shadowRootMode:null,shape:null,size:j,sizes:null,slot:null,span:j,spellCheck:rt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:j,step:null,style:null,tabIndex:j,target:null,title:null,translate:null,type:null,typeMustMatch:re,useMap:null,value:rt,width:j,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ne,axis:null,background:null,bgColor:null,border:j,borderColor:null,bottomMargin:j,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:re,declare:re,event:null,face:null,frame:null,frameBorder:null,hSpace:j,leftMargin:j,link:null,longDesc:null,lowSrc:null,marginHeight:j,marginWidth:j,noResize:re,noHref:re,noShade:re,noWrap:re,object:null,profile:null,prompt:null,rev:null,rightMargin:j,rules:null,scheme:null,scrolling:rt,standby:null,summary:null,text:null,topMargin:j,valueType:null,version:null,vAlign:null,vLink:null,vSpace:j,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:re,disableRemotePlayback:re,prefix:null,property:null,results:j,security:null,unselectable:null},space:"html",transform:nA}),NH=wo({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:an,accentHeight:j,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:j,amplitude:j,arabicForm:null,ascent:j,attributeName:null,attributeType:null,azimuth:j,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:j,by:null,calcMode:null,capHeight:j,className:Ne,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:j,diffuseConstant:j,direction:null,display:null,dur:null,divisor:j,dominantBaseline:null,download:re,dx:null,dy:null,edgeMode:null,editable:null,elevation:j,enableBackground:null,end:null,event:null,exponent:j,externalResourcesRequired:null,fill:null,fillOpacity:j,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ba,g2:Ba,glyphName:Ba,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:j,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:j,horizOriginX:j,horizOriginY:j,id:null,ideographic:j,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:j,k:j,k1:j,k2:j,k3:j,k4:j,kernelMatrix:an,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:j,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:j,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:j,overlineThickness:j,paintOrder:null,panose1:null,path:null,pathLength:j,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ne,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:j,pointsAtY:j,pointsAtZ:j,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:an,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:an,rev:an,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:an,requiredFeatures:an,requiredFonts:an,requiredFormats:an,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:j,specularExponent:j,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:j,strikethroughThickness:j,string:null,stroke:null,strokeDashArray:an,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:j,strokeOpacity:j,strokeWidth:null,style:null,surfaceScale:j,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:an,tabIndex:j,tableValues:null,target:null,targetX:j,targetY:j,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:an,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:j,underlineThickness:j,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:j,values:null,vAlphabetic:j,vMathematical:j,vectorEffect:null,vHanging:j,vIdeographic:j,version:null,vertAdvY:j,vertOriginX:j,vertOriginY:j,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:j,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:tA}),rA=wo({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),iA=wo({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:nA}),sA=wo({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),RH={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},PH=/[A-Z]/g,kT=/-[a-z]/g,OH=/^data[-\w.:]+$/i;function T_(e,t){const n=wl(t);let r=t,i=rn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&OH.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(kT,DH);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!kT.test(s)){let a=s.replace(PH,LH);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=y_}return new i(r,t)}function LH(e){return"-"+e.toLowerCase()}function DH(e){return e.charAt(1).toUpperCase()}const hf=J3([eA,xH,rA,iA,sA],"html"),Io=J3([eA,NH,rA,iA,sA],"svg");function xT(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function aA(e){return e.join(" ").trim()}var oA={},NT=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,MH=/\n/g,FH=/^\s*/,UH=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,BH=/^:\s*/,HH=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,jH=/^[;\s]*/,zH=/^\s+|\s+$/g,WH=`
`,RT="/",PT="*",ds="",VH="comment",$H="declaration",YH=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(g){var T=g.match(MH);T&&(n+=T.length);var w=g.lastIndexOf(WH);r=~w?g.length-w:r+g.length}function s(){var g={line:n,column:r};return function(T){return T.position=new a(g),l(),T}}function a(g){this.start=g,this.end={line:n,column:r},this.source=t.source}a.prototype.content=e;function o(g){var T=new Error(t.source+":"+n+":"+r+": "+g);if(T.reason=g,T.filename=t.source,T.line=n,T.column=r,T.source=e,!t.silent)throw T}function u(g){var T=g.exec(e);if(T){var w=T[0];return i(w),e=e.slice(w.length),T}}function l(){u(FH)}function d(g){var T;for(g=g||[];T=c();)T!==!1&&g.push(T);return g}function c(){var g=s();if(!(RT!=e.charAt(0)||PT!=e.charAt(1))){for(var T=2;ds!=e.charAt(T)&&(PT!=e.charAt(T)||RT!=e.charAt(T+1));)++T;if(T+=2,ds===e.charAt(T-1))return o("End of comment missing");var w=e.slice(2,T-2);return r+=2,i(w),e=e.slice(T),r+=2,g({type:VH,comment:w})}}function f(){var g=s(),T=u(UH);if(T){if(c(),!u(BH))return o("property missing ':'");var w=u(HH),_=g({type:$H,property:OT(T[0].replace(NT,ds)),value:w?OT(w[0].replace(NT,ds)):ds});return u(jH),_}}function p(){var g=[];d(g);for(var T;T=f();)T!==!1&&(g.push(T),d(g));return g}return l(),p()};function OT(e){return e?e.replace(zH,ds):ds}var GH=G_&&G_.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(oA,"__esModule",{value:!0});var LT=oA.default=KH,qH=GH(YH);function KH(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,qH.default)(e),i=typeof t=="function";return r.forEach(function(s){if(s.type==="declaration"){var a=s.property,o=s.value;i?t(a,o,s):o&&(n=n||{},n[a]=o)}}),n}const QH=LT.default||LT,ff=uA("end"),Ir=uA("start");function uA(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function XH(e){const t=Ir(e),n=ff(e);if(t&&n)return{start:t,end:n}}function Nu(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?DT(e.position):"start"in e||"end"in e?DT(e):"line"in e||"column"in e?F0(e):""}function F0(e){return MT(e&&e.line)+":"+MT(e&&e.column)}function DT(e){return F0(e&&e.start)+"-"+F0(e&&e.end)}function MT(e){return e&&typeof e=="number"?e:1}class Dt extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(a=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?s.ruleId=r:(s.source=r.slice(0,u),s.ruleId=r.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){const u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=o?o.line:void 0,this.name=Nu(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}Dt.prototype.file="";Dt.prototype.name="";Dt.prototype.reason="";Dt.prototype.message="";Dt.prototype.stack="";Dt.prototype.column=void 0;Dt.prototype.line=void 0;Dt.prototype.ancestors=void 0;Dt.prototype.cause=void 0;Dt.prototype.fatal=void 0;Dt.prototype.place=void 0;Dt.prototype.ruleId=void 0;Dt.prototype.source=void 0;const v_={}.hasOwnProperty,JH=new Map,ZH=/[A-Z]/g,ej=/-([a-z])/g,tj=new Set(["table","tbody","thead","tfoot","tr"]),nj=new Set(["td","th"]),lA="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function rj(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=dj(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=cj(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Io:hf,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=cA(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function cA(e,t,n){if(t.type==="element")return ij(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return sj(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return oj(e,t,n);if(t.type==="mdxjsEsm")return aj(e,t);if(t.type==="root")return uj(e,t,n);if(t.type==="text")return lj(e,t)}function ij(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Io,e.schema=i),e.ancestors.push(t);const s=hA(e,t.tagName,!1),a=hj(e,t);let o=C_(e,t);return tj.has(t.tagName)&&(o=o.filter(function(u){return typeof u=="string"?!AH(u):!0})),dA(e,a,s,t),b_(a,o),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function sj(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Il(e,t.position)}function aj(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Il(e,t.position)}function oj(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Io,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:hA(e,t.name,!0),a=fj(e,t),o=C_(e,t);return dA(e,a,s,t),b_(a,o),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function uj(e,t,n){const r={};return b_(r,C_(e,t)),e.create(t,e.Fragment,r,n)}function lj(e,t){return t.value}function dA(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function b_(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function cj(e,t,n){return r;function r(i,s,a,o){const l=Array.isArray(a.children)?n:t;return o?l(s,a,o):l(s,a)}}function dj(e,t){return n;function n(r,i,s,a){const o=Array.isArray(s.children),u=Ir(r);return t(i,s,a,o,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function hj(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&v_.call(t.properties,i)){const s=pj(e,i,t.properties[i]);if(s){const[a,o]=s;e.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&nj.has(t.tagName)?r=o:n[a]=o}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function fj(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const a=s.expression;a.type;const o=a.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else Il(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,s=e.evaluater.evaluateExpression(o.expression)}else Il(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function C_(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:JH;for(;++r<t.children.length;){const s=t.children[r];let a;if(e.passKeys){const u=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(u){const l=i.get(u)||0;a=u+"-"+l,i.set(u,l+1)}}const o=cA(e,s,a);o!==void 0&&n.push(o)}return n}function pj(e,t,n){const r=T_(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?X3(n):aA(n)),r.property==="style"){let i=typeof n=="object"?n:mj(e,String(n));return e.stylePropertyNameCase==="css"&&(i=gj(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?RH[r.property]||r.property:r.attribute,n]}}function mj(e,t){const n={};try{QH(t,r)}catch(i){if(!e.ignoreInvalidStyle){const s=i,a=new Dt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=lA+"#cannot-parse-style-attribute",a}}return n;function r(i,s){let a=i;a.slice(0,2)!=="--"&&(a.slice(0,4)==="-ms-"&&(a="ms-"+a.slice(4)),a=a.replace(ej,Ej)),n[a]=s}}function hA(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,a;for(;++s<i.length;){const o=IT(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}r=a}else r=IT(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return v_.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Il(e)}function Il(e,t){const n=new Dt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=lA+"#cannot-handle-mdx-estrees-without-createevaluater",n}function gj(e){const t={};let n;for(n in e)v_.call(e,n)&&(t[_j(n)]=e[n]);return t}function _j(e){let t=e.replace(ZH,yj);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Ej(e,t){return t.toUpperCase()}function yj(e){return"-"+e.toLowerCase()}const Cp={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Tj={};function w_(e,t){const n=Tj,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return fA(e,r,i)}function fA(e,t,n){if(vj(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return FT(e.children,t,n)}return Array.isArray(e)?FT(e,t,n):""}function FT(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=fA(e[i],t,n);return r.join("")}function vj(e){return!!(e&&typeof e=="object")}const UT=document.createElement("i");function I_(e){const t="&"+e+";";UT.innerHTML=t;const n=UT.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function gn(e,t,n,r){const i=e.length;let s=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(t,0),e.splice(...a),s+=1e4,t+=1e4}function In(e,t){return e.length>0?(gn(e,e.length,0,t),e):t}const BT={}.hasOwnProperty;function pA(e){const t={};let n=-1;for(;++n<e.length;)bj(t,e[n]);return t}function bj(e,t){let n;for(n in t){const i=(BT.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let a;if(s)for(a in s){BT.call(i,a)||(i[a]=[]);const o=s[a];Cj(i[a],Array.isArray(o)?o:o?[o]:[])}}}function Cj(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);gn(e,0,0,r)}function mA(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Jn(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ut=rs(/[A-Za-z]/),Pt=rs(/[\dA-Za-z]/),wj=rs(/[#-'*+\--9=?A-Z^-~]/);function sh(e){return e!==null&&(e<32||e===127)}const U0=rs(/\d/),Ij=rs(/[\dA-Fa-f]/),Sj=rs(/[!-/:-@[-`{-~]/);function X(e){return e!==null&&e<-2}function ke(e){return e!==null&&(e<0||e===32)}function de(e){return e===-2||e===-1||e===32}const pf=rs(new RegExp("\\p{P}|\\p{S}","u")),js=rs(/\s/);function rs(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function So(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let a="";if(s===37&&Pt(e.charCodeAt(n+1))&&Pt(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=e.charCodeAt(n+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),i=1):a=""}else a=String.fromCharCode(s);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function ge(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(u){return de(u)?(e.enter(n),o(u)):t(u)}function o(u){return de(u)&&s++<i?(e.consume(u),o):(e.exit(n),t(u))}}const Aj={tokenize:kj};function kj(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),ge(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),s(o)}function s(o){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,a(o)}function a(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return X(o)?(e.consume(o),e.exit("chunkText"),s):(e.consume(o),a)}}const xj={tokenize:Nj},HT={tokenize:Rj};function Nj(e){const t=this,n=[];let r=0,i,s,a;return o;function o(y){if(r<n.length){const k=n[r];return t.containerState=k[1],e.attempt(k[0].continuation,u,l)(y)}return l(y)}function u(y){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&E();const k=t.events.length;let L=k,A;for(;L--;)if(t.events[L][0]==="exit"&&t.events[L][1].type==="chunkFlow"){A=t.events[L][1].end;break}_(r);let P=k;for(;P<t.events.length;)t.events[P][1].end={...A},P++;return gn(t.events,L+1,0,t.events.slice(k)),t.events.length=P,l(y)}return o(y)}function l(y){if(r===n.length){if(!i)return f(y);if(i.currentConstruct&&i.currentConstruct.concrete)return g(y);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(HT,d,c)(y)}function d(y){return i&&E(),_(r),f(y)}function c(y){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,g(y)}function f(y){return t.containerState={},e.attempt(HT,p,g)(y)}function p(y){return r++,n.push([t.currentConstruct,t.containerState]),f(y)}function g(y){if(y===null){i&&E(),_(0),e.consume(y);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),T(y)}function T(y){if(y===null){w(e.exit("chunkFlow"),!0),_(0),e.consume(y);return}return X(y)?(e.consume(y),w(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(y),T)}function w(y,k){const L=t.sliceStream(y);if(k&&L.push(null),y.previous=s,s&&(s.next=y),s=y,i.defineSkip(y.start),i.write(L),t.parser.lazy[y.start.line]){let A=i.events.length;for(;A--;)if(i.events[A][1].start.offset<a&&(!i.events[A][1].end||i.events[A][1].end.offset>a))return;const P=t.events.length;let B=P,Q,x;for(;B--;)if(t.events[B][0]==="exit"&&t.events[B][1].type==="chunkFlow"){if(Q){x=t.events[B][1].end;break}Q=!0}for(_(r),A=P;A<t.events.length;)t.events[A][1].end={...x},A++;gn(t.events,B+1,0,t.events.slice(P)),t.events.length=A}}function _(y){let k=n.length;for(;k-- >y;){const L=n[k];t.containerState=L[1],L[0].exit.call(t,e)}n.length=y}function E(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function Rj(e,t,n){return ge(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ao(e){if(e===null||ke(e)||js(e))return 1;if(pf(e))return 2}function mf(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const B0={name:"attention",resolveAll:Pj,tokenize:Oj};function Pj(e,t){let n=-1,r,i,s,a,o,u,l,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const c={...e[r][1].end},f={...e[n][1].start};jT(c,-u),jT(f,u),a={type:u>1?"strongSequence":"emphasisSequence",start:c,end:{...e[r][1].end}},o={type:u>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:f},s={type:u>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:u>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},e[r][1].end={...a.start},e[n][1].start={...o.end},l=[],e[r][1].end.offset-e[r][1].start.offset&&(l=In(l,[["enter",e[r][1],t],["exit",e[r][1],t]])),l=In(l,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",s,t]]),l=In(l,mf(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),l=In(l,[["exit",s,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,l=In(l,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,gn(e,r-1,n-r+3,l),n=r+l.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Oj(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=ao(r);let s;return a;function a(u){return s=u,e.enter("attentionSequence"),o(u)}function o(u){if(u===s)return e.consume(u),o;const l=e.exit("attentionSequence"),d=ao(u),c=!d||d===2&&i||n.includes(u),f=!i||i===2&&d||n.includes(r);return l._open=!!(s===42?c:c&&(i||!f)),l._close=!!(s===42?f:f&&(d||!c)),t(u)}}function jT(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Lj={name:"autolink",tokenize:Dj};function Dj(e,t,n){let r=0;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(p){return Ut(p)?(e.consume(p),a):p===64?n(p):l(p)}function a(p){return p===43||p===45||p===46||Pt(p)?(r=1,o(p)):l(p)}function o(p){return p===58?(e.consume(p),r=0,u):(p===43||p===45||p===46||Pt(p))&&r++<32?(e.consume(p),o):(r=0,l(p))}function u(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||sh(p)?n(p):(e.consume(p),u)}function l(p){return p===64?(e.consume(p),d):wj(p)?(e.consume(p),l):n(p)}function d(p){return Pt(p)?c(p):n(p)}function c(p){return p===46?(e.consume(p),r=0,d):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):f(p)}function f(p){if((p===45||Pt(p))&&r++<63){const g=p===45?f:c;return e.consume(p),g}return n(p)}}const sc={partial:!0,tokenize:Mj};function Mj(e,t,n){return r;function r(s){return de(s)?ge(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||X(s)?t(s):n(s)}}const gA={continuation:{tokenize:Uj},exit:Bj,name:"blockQuote",tokenize:Fj};function Fj(e,t,n){const r=this;return i;function i(a){if(a===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),s}return n(a)}function s(a){return de(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function Uj(e,t,n){const r=this;return i;function i(a){return de(a)?ge(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return e.attempt(gA,t,n)(a)}}function Bj(e){e.exit("blockQuote")}const _A={name:"characterEscape",tokenize:Hj};function Hj(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return Sj(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const EA={name:"characterReference",tokenize:jj};function jj(e,t,n){const r=this;let i=0,s,a;return o;function o(c){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(c),e.exit("characterReferenceMarker"),u}function u(c){return c===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(c),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),s=31,a=Pt,d(c))}function l(c){return c===88||c===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(c),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=Ij,d):(e.enter("characterReferenceValue"),s=7,a=U0,d(c))}function d(c){if(c===59&&i){const f=e.exit("characterReferenceValue");return a===Pt&&!I_(r.sliceSerialize(f))?n(c):(e.enter("characterReferenceMarker"),e.consume(c),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(c)&&i++<s?(e.consume(c),d):n(c)}}const zT={partial:!0,tokenize:Wj},WT={concrete:!0,name:"codeFenced",tokenize:zj};function zj(e,t,n){const r=this,i={partial:!0,tokenize:L};let s=0,a=0,o;return u;function u(A){return l(A)}function l(A){const P=r.events[r.events.length-1];return s=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,o=A,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(A)}function d(A){return A===o?(a++,e.consume(A),d):a<3?n(A):(e.exit("codeFencedFenceSequence"),de(A)?ge(e,c,"whitespace")(A):c(A))}function c(A){return A===null||X(A)?(e.exit("codeFencedFence"),r.interrupt?t(A):e.check(zT,T,k)(A)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(A))}function f(A){return A===null||X(A)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),c(A)):de(A)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),ge(e,p,"whitespace")(A)):A===96&&A===o?n(A):(e.consume(A),f)}function p(A){return A===null||X(A)?c(A):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(A))}function g(A){return A===null||X(A)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),c(A)):A===96&&A===o?n(A):(e.consume(A),g)}function T(A){return e.attempt(i,k,w)(A)}function w(A){return e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),_}function _(A){return s>0&&de(A)?ge(e,E,"linePrefix",s+1)(A):E(A)}function E(A){return A===null||X(A)?e.check(zT,T,k)(A):(e.enter("codeFlowValue"),y(A))}function y(A){return A===null||X(A)?(e.exit("codeFlowValue"),E(A)):(e.consume(A),y)}function k(A){return e.exit("codeFenced"),t(A)}function L(A,P,B){let Q=0;return x;function x(pe){return A.enter("lineEnding"),A.consume(pe),A.exit("lineEnding"),Y}function Y(pe){return A.enter("codeFencedFence"),de(pe)?ge(A,K,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(pe):K(pe)}function K(pe){return pe===o?(A.enter("codeFencedFenceSequence"),_e(pe)):B(pe)}function _e(pe){return pe===o?(Q++,A.consume(pe),_e):Q>=a?(A.exit("codeFencedFenceSequence"),de(pe)?ge(A,xe,"whitespace")(pe):xe(pe)):B(pe)}function xe(pe){return pe===null||X(pe)?(A.exit("codeFencedFence"),P(pe)):B(pe)}}}function Wj(e,t,n){const r=this;return i;function i(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const wp={name:"codeIndented",tokenize:$j},Vj={partial:!0,tokenize:Yj};function $j(e,t,n){const r=this;return i;function i(l){return e.enter("codeIndented"),ge(e,s,"linePrefix",5)(l)}function s(l){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?a(l):n(l)}function a(l){return l===null?u(l):X(l)?e.attempt(Vj,a,u)(l):(e.enter("codeFlowValue"),o(l))}function o(l){return l===null||X(l)?(e.exit("codeFlowValue"),a(l)):(e.consume(l),o)}function u(l){return e.exit("codeIndented"),t(l)}}function Yj(e,t,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):X(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):ge(e,s,"linePrefix",5)(a)}function s(a){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):X(a)?i(a):n(a)}}const Gj={name:"codeText",previous:Kj,resolve:qj,tokenize:Qj};function qj(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Kj(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Qj(e,t,n){let r=0,i,s;return a;function a(c){return e.enter("codeText"),e.enter("codeTextSequence"),o(c)}function o(c){return c===96?(e.consume(c),r++,o):(e.exit("codeTextSequence"),u(c))}function u(c){return c===null?n(c):c===32?(e.enter("space"),e.consume(c),e.exit("space"),u):c===96?(s=e.enter("codeTextSequence"),i=0,d(c)):X(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),u):(e.enter("codeTextData"),l(c))}function l(c){return c===null||c===32||c===96||X(c)?(e.exit("codeTextData"),u(c)):(e.consume(c),l)}function d(c){return c===96?(e.consume(c),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(c)):(s.type="codeTextData",l(c))}}class Xj{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Ko(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Ko(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Ko(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Ko(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Ko(this.left,n.reverse())}}}function Ko(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function yA(e){const t={};let n=-1,r,i,s,a,o,u,l;const d=new Xj(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Jj(d,n)),n=t[n],l=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(a=d.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(a[1].type!=="linePrefix")break;i&&(r[1].end={...d.get(i)[1].start},o=d.slice(i,n),o.unshift(r),d.splice(i,n-i+1,o))}}return gn(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!l}function Jj(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[],a=n._tokenizer||r.parser[n.contentType](n.start),o=a.events,u=[],l={};let d,c,f=-1,p=n,g=0,T=0;const w=[T];for(;p;){for(;e.get(++i)[1]!==p;);s.push(i),p._tokenizer||(d=r.sliceStream(p),p.next||d.push(null),c&&a.defineSkip(p.start),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(d),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),c=p,p=p.next}for(p=n;++f<o.length;)o[f][0]==="exit"&&o[f-1][0]==="enter"&&o[f][1].type===o[f-1][1].type&&o[f][1].start.line!==o[f][1].end.line&&(T=f+1,w.push(T),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(a.events=[],p?(p._tokenizer=void 0,p.previous=void 0):w.pop(),f=w.length;f--;){const _=o.slice(w[f],w[f+1]),E=s.pop();u.push([E,E+_.length-1]),e.splice(E,2,_)}for(u.reverse(),f=-1;++f<u.length;)l[g+u[f][0]]=g+u[f][1],g+=u[f][1]-u[f][0]-1;return l}const Zj={resolve:tz,tokenize:nz},ez={partial:!0,tokenize:rz};function tz(e){return yA(e),e}function nz(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):X(o)?e.check(ez,a,s)(o):(e.consume(o),i)}function s(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function a(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function rz(e,t,n){const r=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),ge(e,s,"linePrefix")}function s(a){if(a===null||X(a))return n(a);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function TA(e,t,n,r,i,s,a,o,u){const l=u||Number.POSITIVE_INFINITY;let d=0;return c;function c(_){return _===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(_),e.exit(s),f):_===null||_===32||_===41||sh(_)?n(_):(e.enter(r),e.enter(a),e.enter(o),e.enter("chunkString",{contentType:"string"}),T(_))}function f(_){return _===62?(e.enter(s),e.consume(_),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),p(_))}function p(_){return _===62?(e.exit("chunkString"),e.exit(o),f(_)):_===null||_===60||X(_)?n(_):(e.consume(_),_===92?g:p)}function g(_){return _===60||_===62||_===92?(e.consume(_),p):p(_)}function T(_){return!d&&(_===null||_===41||ke(_))?(e.exit("chunkString"),e.exit(o),e.exit(a),e.exit(r),t(_)):d<l&&_===40?(e.consume(_),d++,T):_===41?(e.consume(_),d--,T):_===null||_===32||_===40||sh(_)?n(_):(e.consume(_),_===92?w:T)}function w(_){return _===40||_===41||_===92?(e.consume(_),T):T(_)}}function vA(e,t,n,r,i,s){const a=this;let o=0,u;return l;function l(p){return e.enter(r),e.enter(i),e.consume(p),e.exit(i),e.enter(s),d}function d(p){return o>999||p===null||p===91||p===93&&!u||p===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?n(p):p===93?(e.exit(s),e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):X(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),c(p))}function c(p){return p===null||p===91||p===93||X(p)||o++>999?(e.exit("chunkString"),d(p)):(e.consume(p),u||(u=!de(p)),p===92?f:c)}function f(p){return p===91||p===92||p===93?(e.consume(p),o++,c):c(p)}}function bA(e,t,n,r,i,s){let a;return o;function o(f){return f===34||f===39||f===40?(e.enter(r),e.enter(i),e.consume(f),e.exit(i),a=f===40?41:f,u):n(f)}function u(f){return f===a?(e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):(e.enter(s),l(f))}function l(f){return f===a?(e.exit(s),u(a)):f===null?n(f):X(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),ge(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(f))}function d(f){return f===a||f===null||X(f)?(e.exit("chunkString"),l(f)):(e.consume(f),f===92?c:d)}function c(f){return f===a||f===92?(e.consume(f),d):d(f)}}function Ru(e,t){let n;return r;function r(i){return X(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):de(i)?ge(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const iz={name:"definition",tokenize:az},sz={partial:!0,tokenize:oz};function az(e,t,n){const r=this;let i;return s;function s(p){return e.enter("definition"),a(p)}function a(p){return vA.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function o(p){return i=Jn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),u):n(p)}function u(p){return ke(p)?Ru(e,l)(p):l(p)}function l(p){return TA(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function d(p){return e.attempt(sz,c,c)(p)}function c(p){return de(p)?ge(e,f,"whitespace")(p):f(p)}function f(p){return p===null||X(p)?(e.exit("definition"),r.parser.defined.push(i),t(p)):n(p)}}function oz(e,t,n){return r;function r(o){return ke(o)?Ru(e,i)(o):n(o)}function i(o){return bA(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return de(o)?ge(e,a,"whitespace")(o):a(o)}function a(o){return o===null||X(o)?t(o):n(o)}}const uz={name:"hardBreakEscape",tokenize:lz};function lz(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return X(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const cz={name:"headingAtx",resolve:dz,tokenize:hz};function dz(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},gn(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function hz(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),s(d)}function s(d){return e.enter("atxHeadingSequence"),a(d)}function a(d){return d===35&&r++<6?(e.consume(d),a):d===null||ke(d)?(e.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(e.enter("atxHeadingSequence"),u(d)):d===null||X(d)?(e.exit("atxHeading"),t(d)):de(d)?ge(e,o,"whitespace")(d):(e.enter("atxHeadingText"),l(d))}function u(d){return d===35?(e.consume(d),u):(e.exit("atxHeadingSequence"),o(d))}function l(d){return d===null||d===35||ke(d)?(e.exit("atxHeadingText"),o(d)):(e.consume(d),l)}}const fz=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],VT=["pre","script","style","textarea"],pz={concrete:!0,name:"htmlFlow",resolveTo:_z,tokenize:Ez},mz={partial:!0,tokenize:Tz},gz={partial:!0,tokenize:yz};function _z(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Ez(e,t,n){const r=this;let i,s,a,o,u;return l;function l(S){return d(S)}function d(S){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(S),c}function c(S){return S===33?(e.consume(S),f):S===47?(e.consume(S),s=!0,T):S===63?(e.consume(S),i=3,r.interrupt?t:C):Ut(S)?(e.consume(S),a=String.fromCharCode(S),w):n(S)}function f(S){return S===45?(e.consume(S),i=2,p):S===91?(e.consume(S),i=5,o=0,g):Ut(S)?(e.consume(S),i=4,r.interrupt?t:C):n(S)}function p(S){return S===45?(e.consume(S),r.interrupt?t:C):n(S)}function g(S){const ut="CDATA[";return S===ut.charCodeAt(o++)?(e.consume(S),o===ut.length?r.interrupt?t:K:g):n(S)}function T(S){return Ut(S)?(e.consume(S),a=String.fromCharCode(S),w):n(S)}function w(S){if(S===null||S===47||S===62||ke(S)){const ut=S===47,Hn=a.toLowerCase();return!ut&&!s&&VT.includes(Hn)?(i=1,r.interrupt?t(S):K(S)):fz.includes(a.toLowerCase())?(i=6,ut?(e.consume(S),_):r.interrupt?t(S):K(S)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(S):s?E(S):y(S))}return S===45||Pt(S)?(e.consume(S),a+=String.fromCharCode(S),w):n(S)}function _(S){return S===62?(e.consume(S),r.interrupt?t:K):n(S)}function E(S){return de(S)?(e.consume(S),E):x(S)}function y(S){return S===47?(e.consume(S),x):S===58||S===95||Ut(S)?(e.consume(S),k):de(S)?(e.consume(S),y):x(S)}function k(S){return S===45||S===46||S===58||S===95||Pt(S)?(e.consume(S),k):L(S)}function L(S){return S===61?(e.consume(S),A):de(S)?(e.consume(S),L):y(S)}function A(S){return S===null||S===60||S===61||S===62||S===96?n(S):S===34||S===39?(e.consume(S),u=S,P):de(S)?(e.consume(S),A):B(S)}function P(S){return S===u?(e.consume(S),u=null,Q):S===null||X(S)?n(S):(e.consume(S),P)}function B(S){return S===null||S===34||S===39||S===47||S===60||S===61||S===62||S===96||ke(S)?L(S):(e.consume(S),B)}function Q(S){return S===47||S===62||de(S)?y(S):n(S)}function x(S){return S===62?(e.consume(S),Y):n(S)}function Y(S){return S===null||X(S)?K(S):de(S)?(e.consume(S),Y):n(S)}function K(S){return S===45&&i===2?(e.consume(S),nt):S===60&&i===1?(e.consume(S),Je):S===62&&i===4?(e.consume(S),Ee):S===63&&i===3?(e.consume(S),C):S===93&&i===5?(e.consume(S),J):X(S)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(mz,Ie,_e)(S)):S===null||X(S)?(e.exit("htmlFlowData"),_e(S)):(e.consume(S),K)}function _e(S){return e.check(gz,xe,Ie)(S)}function xe(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),pe}function pe(S){return S===null||X(S)?_e(S):(e.enter("htmlFlowData"),K(S))}function nt(S){return S===45?(e.consume(S),C):K(S)}function Je(S){return S===47?(e.consume(S),a="",$):K(S)}function $(S){if(S===62){const ut=a.toLowerCase();return VT.includes(ut)?(e.consume(S),Ee):K(S)}return Ut(S)&&a.length<8?(e.consume(S),a+=String.fromCharCode(S),$):K(S)}function J(S){return S===93?(e.consume(S),C):K(S)}function C(S){return S===62?(e.consume(S),Ee):S===45&&i===2?(e.consume(S),C):K(S)}function Ee(S){return S===null||X(S)?(e.exit("htmlFlowData"),Ie(S)):(e.consume(S),Ee)}function Ie(S){return e.exit("htmlFlow"),t(S)}}function yz(e,t,n){const r=this;return i;function i(a){return X(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function Tz(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(sc,t,n)}}const vz={name:"htmlText",tokenize:bz};function bz(e,t,n){const r=this;let i,s,a;return o;function o(C){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(C),u}function u(C){return C===33?(e.consume(C),l):C===47?(e.consume(C),L):C===63?(e.consume(C),y):Ut(C)?(e.consume(C),B):n(C)}function l(C){return C===45?(e.consume(C),d):C===91?(e.consume(C),s=0,g):Ut(C)?(e.consume(C),E):n(C)}function d(C){return C===45?(e.consume(C),p):n(C)}function c(C){return C===null?n(C):C===45?(e.consume(C),f):X(C)?(a=c,Je(C)):(e.consume(C),c)}function f(C){return C===45?(e.consume(C),p):c(C)}function p(C){return C===62?nt(C):C===45?f(C):c(C)}function g(C){const Ee="CDATA[";return C===Ee.charCodeAt(s++)?(e.consume(C),s===Ee.length?T:g):n(C)}function T(C){return C===null?n(C):C===93?(e.consume(C),w):X(C)?(a=T,Je(C)):(e.consume(C),T)}function w(C){return C===93?(e.consume(C),_):T(C)}function _(C){return C===62?nt(C):C===93?(e.consume(C),_):T(C)}function E(C){return C===null||C===62?nt(C):X(C)?(a=E,Je(C)):(e.consume(C),E)}function y(C){return C===null?n(C):C===63?(e.consume(C),k):X(C)?(a=y,Je(C)):(e.consume(C),y)}function k(C){return C===62?nt(C):y(C)}function L(C){return Ut(C)?(e.consume(C),A):n(C)}function A(C){return C===45||Pt(C)?(e.consume(C),A):P(C)}function P(C){return X(C)?(a=P,Je(C)):de(C)?(e.consume(C),P):nt(C)}function B(C){return C===45||Pt(C)?(e.consume(C),B):C===47||C===62||ke(C)?Q(C):n(C)}function Q(C){return C===47?(e.consume(C),nt):C===58||C===95||Ut(C)?(e.consume(C),x):X(C)?(a=Q,Je(C)):de(C)?(e.consume(C),Q):nt(C)}function x(C){return C===45||C===46||C===58||C===95||Pt(C)?(e.consume(C),x):Y(C)}function Y(C){return C===61?(e.consume(C),K):X(C)?(a=Y,Je(C)):de(C)?(e.consume(C),Y):Q(C)}function K(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),i=C,_e):X(C)?(a=K,Je(C)):de(C)?(e.consume(C),K):(e.consume(C),xe)}function _e(C){return C===i?(e.consume(C),i=void 0,pe):C===null?n(C):X(C)?(a=_e,Je(C)):(e.consume(C),_e)}function xe(C){return C===null||C===34||C===39||C===60||C===61||C===96?n(C):C===47||C===62||ke(C)?Q(C):(e.consume(C),xe)}function pe(C){return C===47||C===62||ke(C)?Q(C):n(C)}function nt(C){return C===62?(e.consume(C),e.exit("htmlTextData"),e.exit("htmlText"),t):n(C)}function Je(C){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),$}function $(C){return de(C)?ge(e,J,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):J(C)}function J(C){return e.enter("htmlTextData"),a(C)}}const S_={name:"labelEnd",resolveAll:Sz,resolveTo:Az,tokenize:kz},Cz={tokenize:xz},wz={tokenize:Nz},Iz={tokenize:Rz};function Sz(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&gn(e,0,e.length,n),e}function Az(e,t){let n=e.length,r=0,i,s,a,o;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const u={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},l={type:"label",start:{...e[s][1].start},end:{...e[a][1].end}},d={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[a-2][1].start}};return o=[["enter",u,t],["enter",l,t]],o=In(o,e.slice(s+1,s+r+3)),o=In(o,[["enter",d,t]]),o=In(o,mf(t.parser.constructs.insideSpan.null,e.slice(s+r+4,a-3),t)),o=In(o,[["exit",d,t],e[a-2],e[a-1],["exit",l,t]]),o=In(o,e.slice(a+1)),o=In(o,[["exit",u,t]]),gn(e,s,e.length,o),e}function kz(e,t,n){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return o;function o(f){return s?s._inactive?c(f):(a=r.parser.defined.includes(Jn(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),u):n(f)}function u(f){return f===40?e.attempt(Cz,d,a?d:c)(f):f===91?e.attempt(wz,d,a?l:c)(f):a?d(f):c(f)}function l(f){return e.attempt(Iz,d,c)(f)}function d(f){return t(f)}function c(f){return s._balanced=!0,n(f)}}function xz(e,t,n){return r;function r(c){return e.enter("resource"),e.enter("resourceMarker"),e.consume(c),e.exit("resourceMarker"),i}function i(c){return ke(c)?Ru(e,s)(c):s(c)}function s(c){return c===41?d(c):TA(e,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(c)}function a(c){return ke(c)?Ru(e,u)(c):d(c)}function o(c){return n(c)}function u(c){return c===34||c===39||c===40?bA(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(c):d(c)}function l(c){return ke(c)?Ru(e,d)(c):d(c)}function d(c){return c===41?(e.enter("resourceMarker"),e.consume(c),e.exit("resourceMarker"),e.exit("resource"),t):n(c)}}function Nz(e,t,n){const r=this;return i;function i(o){return vA.call(r,e,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(Jn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function a(o){return n(o)}}function Rz(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const Pz={name:"labelStartImage",resolveAll:S_.resolveAll,tokenize:Oz};function Oz(e,t,n){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),s}function s(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),a):n(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Lz={name:"labelStartLink",resolveAll:S_.resolveAll,tokenize:Dz};function Dz(e,t,n){const r=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const Ip={name:"lineEnding",tokenize:Mz};function Mz(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),ge(e,t,"linePrefix")}}const nd={name:"thematicBreak",tokenize:Fz};function Fz(e,t,n){let r=0,i;return s;function s(l){return e.enter("thematicBreak"),a(l)}function a(l){return i=l,o(l)}function o(l){return l===i?(e.enter("thematicBreakSequence"),u(l)):r>=3&&(l===null||X(l))?(e.exit("thematicBreak"),t(l)):n(l)}function u(l){return l===i?(e.consume(l),r++,u):(e.exit("thematicBreakSequence"),de(l)?ge(e,o,"whitespace")(l):o(l))}}const Vt={continuation:{tokenize:jz},exit:Wz,name:"list",tokenize:Hz},Uz={partial:!0,tokenize:Vz},Bz={partial:!0,tokenize:zz};function Hz(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return o;function o(p){const g=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:U0(p)){if(r.containerState.type||(r.containerState.type=g,e.enter(g,{_container:!0})),g==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(nd,n,l)(p):l(p);if(!r.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(p)}return n(p)}function u(p){return U0(p)&&++a<10?(e.consume(p),u):(!r.interrupt||a<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),l(p)):n(p)}function l(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,e.check(sc,r.interrupt?n:d,e.attempt(Uz,f,c))}function d(p){return r.containerState.initialBlankLine=!0,s++,f(p)}function c(p){return de(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),f):n(p)}function f(p){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function jz(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(sc,i,s);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ge(e,t,"listItemIndent",r.containerState.size+1)(o)}function s(o){return r.containerState.furtherBlankLines||!de(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Bz,t,a)(o))}function a(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,ge(e,e.attempt(Vt,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function zz(e,t,n){const r=this;return ge(e,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(s):n(s)}}function Wz(e){e.exit(this.containerState.type)}function Vz(e,t,n){const r=this;return ge(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=r.events[r.events.length-1];return!de(s)&&a&&a[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const $T={name:"setextUnderline",resolveTo:$z,tokenize:Yz};function $z(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:{...e[i][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",a,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=a,e.push(["exit",a,t]),e}function Yz(e,t,n){const r=this;let i;return s;function s(l){let d=r.events.length,c;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){c=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||c)?(e.enter("setextHeadingLine"),i=l,a(l)):n(l)}function a(l){return e.enter("setextHeadingLineSequence"),o(l)}function o(l){return l===i?(e.consume(l),o):(e.exit("setextHeadingLineSequence"),de(l)?ge(e,u,"lineSuffix")(l):u(l))}function u(l){return l===null||X(l)?(e.exit("setextHeadingLine"),t(l)):n(l)}}const Gz={tokenize:qz};function qz(e){const t=this,n=e.attempt(sc,r,e.attempt(this.parser.constructs.flowInitial,i,ge(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Zj,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Kz={resolveAll:wA()},Qz=CA("string"),Xz=CA("text");function CA(e){return{resolveAll:wA(e==="text"?Jz:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,a,o);return a;function a(d){return l(d)?s(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),u}function u(d){return l(d)?(n.exit("data"),s(d)):(n.consume(d),u)}function l(d){if(d===null)return!0;const c=i[d];let f=-1;if(c)for(;++f<c.length;){const p=c[f];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function wA(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function Jz(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,a=-1,o=0,u;for(;s--;){const l=i[s];if(typeof l=="string"){for(a=l.length;l.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(l===-2)u=!0,o++;else if(l!==-1){s++;break}}if(o){const l={type:n===e.length||u||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...l.start},r.start.offset===r.end.offset?Object.assign(r,l):(e.splice(n,0,["enter",l,t],["exit",l,t]),n+=2)}n++}return e}const Zz={42:Vt,43:Vt,45:Vt,48:Vt,49:Vt,50:Vt,51:Vt,52:Vt,53:Vt,54:Vt,55:Vt,56:Vt,57:Vt,62:gA},eW={91:iz},tW={[-2]:wp,[-1]:wp,32:wp},nW={35:cz,42:nd,45:[$T,nd],60:pz,61:$T,95:nd,96:WT,126:WT},rW={38:EA,92:_A},iW={[-5]:Ip,[-4]:Ip,[-3]:Ip,33:Pz,38:EA,42:B0,60:[Lj,vz],91:Lz,92:[uz,_A],93:S_,95:B0,96:Gj},sW={null:[B0,Kz]},aW={null:[42,95]},oW={null:[]},uW=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:aW,contentInitial:eW,disable:oW,document:Zz,flow:nW,flowInitial:tW,insideSpan:sW,string:rW,text:iW},Symbol.toStringTag,{value:"Module"}));function lW(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let a=[],o=[];const u={attempt:P(L),check:P(A),consume:E,enter:y,exit:k,interrupt:P(A,{interrupt:!0})},l={code:null,containerState:{},defineSkip:T,events:[],now:g,parser:e,previous:null,sliceSerialize:f,sliceStream:p,write:c};let d=t.tokenize.call(l,u);return t.resolveAll&&s.push(t),l;function c(Y){return a=In(a,Y),w(),a[a.length-1]!==null?[]:(B(t,0),l.events=mf(s,l.events,l),l.events)}function f(Y,K){return dW(p(Y),K)}function p(Y){return cW(a,Y)}function g(){const{_bufferIndex:Y,_index:K,line:_e,column:xe,offset:pe}=r;return{_bufferIndex:Y,_index:K,line:_e,column:xe,offset:pe}}function T(Y){i[Y.line]=Y.column,x()}function w(){let Y;for(;r._index<a.length;){const K=a[r._index];if(typeof K=="string")for(Y=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===Y&&r._bufferIndex<K.length;)_(K.charCodeAt(r._bufferIndex));else _(K)}}function _(Y){d=d(Y)}function E(Y){X(Y)?(r.line++,r.column=1,r.offset+=Y===-3?2:1,x()):Y!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),l.previous=Y}function y(Y,K){const _e=K||{};return _e.type=Y,_e.start=g(),l.events.push(["enter",_e,l]),o.push(_e),_e}function k(Y){const K=o.pop();return K.end=g(),l.events.push(["exit",K,l]),K}function L(Y,K){B(Y,K.from)}function A(Y,K){K.restore()}function P(Y,K){return _e;function _e(xe,pe,nt){let Je,$,J,C;return Array.isArray(xe)?Ie(xe):"tokenize"in xe?Ie([xe]):Ee(xe);function Ee(De){return rr;function rr(ti){const ta=ti!==null&&De[ti],na=ti!==null&&De.null,cc=[...Array.isArray(ta)?ta:ta?[ta]:[],...Array.isArray(na)?na:na?[na]:[]];return Ie(cc)(ti)}}function Ie(De){return Je=De,$=0,De.length===0?nt:S(De[$])}function S(De){return rr;function rr(ti){return C=Q(),J=De,De.partial||(l.currentConstruct=De),De.name&&l.parser.constructs.disable.null.includes(De.name)?Hn():De.tokenize.call(K?Object.assign(Object.create(l),K):l,u,ut,Hn)(ti)}}function ut(De){return Y(J,C),pe}function Hn(De){return C.restore(),++$<Je.length?S(Je[$]):nt}}}function B(Y,K){Y.resolveAll&&!s.includes(Y)&&s.push(Y),Y.resolve&&gn(l.events,K,l.events.length-K,Y.resolve(l.events.slice(K),l)),Y.resolveTo&&(l.events=Y.resolveTo(l.events,l))}function Q(){const Y=g(),K=l.previous,_e=l.currentConstruct,xe=l.events.length,pe=Array.from(o);return{from:xe,restore:nt};function nt(){r=Y,l.previous=K,l.currentConstruct=_e,l.events.length=xe,o=pe,x()}}function x(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function cW(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let a;if(n===i)a=[e[n].slice(r,s)];else{if(a=e.slice(n,i),r>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(r):a.shift()}s>0&&a.push(e[i].slice(0,s))}return a}function dW(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}function hW(e){const r={constructs:pA([uW,...(e||{}).extensions||[]]),content:i(Aj),defined:[],document:i(xj),flow:i(Gz),lazy:{},string:i(Qz),text:i(Xz)};return r;function i(s){return a;function a(o){return lW(r,s,o)}}}function fW(e){for(;!yA(e););return e}const YT=/[\0\t\n\r]/g;function pW(){let e=1,t="",n=!0,r;return i;function i(s,a,o){const u=[];let l,d,c,f,p;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),c=0,t="",n&&(s.charCodeAt(0)===65279&&c++,n=void 0);c<s.length;){if(YT.lastIndex=c,l=YT.exec(s),f=l&&l.index!==void 0?l.index:s.length,p=s.charCodeAt(f),!l){t=s.slice(c);break}if(p===10&&c===f&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),c<f&&(u.push(s.slice(c,f)),e+=f-c),p){case 0:{u.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,u.push(-2);e++<d;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}c=f+1}return o&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}const mW=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function gW(e){return e.replace(mW,_W)}function _W(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return mA(n.slice(s?2:1),s?16:10)}return I_(n)||e}const IA={}.hasOwnProperty;function EW(e,t,n){return typeof t!="string"&&(n=t,t=void 0),yW(n)(fW(hW(n).document().write(pW()(e,t,!0))))}function yW(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s($_),autolinkProtocol:Q,autolinkEmail:Q,atxHeading:s(z_),blockQuote:s(na),characterEscape:Q,characterReference:Q,codeFenced:s(cc),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(cc,a),codeText:s(sx,a),codeTextData:Q,data:Q,codeFlowValue:Q,definition:s(ax),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(ox),hardBreakEscape:s(W_),hardBreakTrailing:s(W_),htmlFlow:s(V_,a),htmlFlowData:Q,htmlText:s(V_,a),htmlTextData:Q,image:s(ux),label:a,link:s($_),listItem:s(lx),listItemValue:f,listOrdered:s(Y_,c),listUnordered:s(Y_),paragraph:s(cx),reference:S,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(z_),strong:s(dx),thematicBreak:s(fx)},exit:{atxHeading:u(),atxHeadingSequence:L,autolink:u(),autolinkEmail:ta,autolinkProtocol:ti,blockQuote:u(),characterEscapeValue:x,characterReferenceMarkerHexadecimal:Hn,characterReferenceMarkerNumeric:Hn,characterReferenceValue:De,characterReference:rr,codeFenced:u(w),codeFencedFence:T,codeFencedFenceInfo:p,codeFencedFenceMeta:g,codeFlowValue:x,codeIndented:u(_),codeText:u(pe),codeTextData:x,data:x,definition:u(),definitionDestinationString:k,definitionLabelString:E,definitionTitleString:y,emphasis:u(),hardBreakEscape:u(K),hardBreakTrailing:u(K),htmlFlow:u(_e),htmlFlowData:x,htmlText:u(xe),htmlTextData:x,image:u(Je),label:J,labelText:$,lineEnding:Y,link:u(nt),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:ut,resourceDestinationString:C,resourceTitleString:Ee,resource:Ie,setextHeading:u(B),setextHeadingLineSequence:P,setextHeadingText:A,strong:u(),thematicBreak:u()}};SA(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(D){let V={type:"root",children:[]};const ne={stack:[V],tokenStack:[],config:t,enter:o,exit:l,buffer:a,resume:d,data:n},me=[];let Se=-1;for(;++Se<D.length;)if(D[Se][1].type==="listOrdered"||D[Se][1].type==="listUnordered")if(D[Se][0]==="enter")me.push(Se);else{const jn=me.pop();Se=i(D,jn,Se)}for(Se=-1;++Se<D.length;){const jn=t[D[Se][0]];IA.call(jn,D[Se][1].type)&&jn[D[Se][1].type].call(Object.assign({sliceSerialize:D[Se][2].sliceSerialize},ne),D[Se][1])}if(ne.tokenStack.length>0){const jn=ne.tokenStack[ne.tokenStack.length-1];(jn[1]||GT).call(ne,void 0,jn[0])}for(V.position={start:si(D.length>0?D[0][1].start:{line:1,column:1,offset:0}),end:si(D.length>0?D[D.length-2][1].end:{line:1,column:1,offset:0})},Se=-1;++Se<t.transforms.length;)V=t.transforms[Se](V)||V;return V}function i(D,V,ne){let me=V-1,Se=-1,jn=!1,is,Ar,Ro,Po;for(;++me<=ne;){const sn=D[me];switch(sn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{sn[0]==="enter"?Se++:Se--,Po=void 0;break}case"lineEndingBlank":{sn[0]==="enter"&&(is&&!Po&&!Se&&!Ro&&(Ro=me),Po=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Po=void 0}if(!Se&&sn[0]==="enter"&&sn[1].type==="listItemPrefix"||Se===-1&&sn[0]==="exit"&&(sn[1].type==="listUnordered"||sn[1].type==="listOrdered")){if(is){let ra=me;for(Ar=void 0;ra--;){const kr=D[ra];if(kr[1].type==="lineEnding"||kr[1].type==="lineEndingBlank"){if(kr[0]==="exit")continue;Ar&&(D[Ar][1].type="lineEndingBlank",jn=!0),kr[1].type="lineEnding",Ar=ra}else if(!(kr[1].type==="linePrefix"||kr[1].type==="blockQuotePrefix"||kr[1].type==="blockQuotePrefixWhitespace"||kr[1].type==="blockQuoteMarker"||kr[1].type==="listItemIndent"))break}Ro&&(!Ar||Ro<Ar)&&(is._spread=!0),is.end=Object.assign({},Ar?D[Ar][1].start:sn[1].end),D.splice(Ar||me,0,["exit",is,sn[2]]),me++,ne++}if(sn[1].type==="listItemPrefix"){const ra={type:"listItem",_spread:!1,start:Object.assign({},sn[1].start),end:void 0};is=ra,D.splice(me,0,["enter",ra,sn[2]]),me++,ne++,Ro=void 0,Po=!0}}}return D[V][1]._spread=jn,ne}function s(D,V){return ne;function ne(me){o.call(this,D(me),me),V&&V.call(this,me)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(D,V,ne){this.stack[this.stack.length-1].children.push(D),this.stack.push(D),this.tokenStack.push([V,ne||void 0]),D.position={start:si(V.start),end:void 0}}function u(D){return V;function V(ne){D&&D.call(this,ne),l.call(this,ne)}}function l(D,V){const ne=this.stack.pop(),me=this.tokenStack.pop();if(me)me[0].type!==D.type&&(V?V.call(this,D,me[0]):(me[1]||GT).call(this,D,me[0]));else throw new Error("Cannot close `"+D.type+"` ("+Nu({start:D.start,end:D.end})+"): its not open");ne.position.end=si(D.end)}function d(){return w_(this.stack.pop())}function c(){this.data.expectingFirstListItemValue=!0}function f(D){if(this.data.expectingFirstListItemValue){const V=this.stack[this.stack.length-2];V.start=Number.parseInt(this.sliceSerialize(D),10),this.data.expectingFirstListItemValue=void 0}}function p(){const D=this.resume(),V=this.stack[this.stack.length-1];V.lang=D}function g(){const D=this.resume(),V=this.stack[this.stack.length-1];V.meta=D}function T(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const D=this.resume(),V=this.stack[this.stack.length-1];V.value=D.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function _(){const D=this.resume(),V=this.stack[this.stack.length-1];V.value=D.replace(/(\r?\n|\r)$/g,"")}function E(D){const V=this.resume(),ne=this.stack[this.stack.length-1];ne.label=V,ne.identifier=Jn(this.sliceSerialize(D)).toLowerCase()}function y(){const D=this.resume(),V=this.stack[this.stack.length-1];V.title=D}function k(){const D=this.resume(),V=this.stack[this.stack.length-1];V.url=D}function L(D){const V=this.stack[this.stack.length-1];if(!V.depth){const ne=this.sliceSerialize(D).length;V.depth=ne}}function A(){this.data.setextHeadingSlurpLineEnding=!0}function P(D){const V=this.stack[this.stack.length-1];V.depth=this.sliceSerialize(D).codePointAt(0)===61?1:2}function B(){this.data.setextHeadingSlurpLineEnding=void 0}function Q(D){const ne=this.stack[this.stack.length-1].children;let me=ne[ne.length-1];(!me||me.type!=="text")&&(me=hx(),me.position={start:si(D.start),end:void 0},ne.push(me)),this.stack.push(me)}function x(D){const V=this.stack.pop();V.value+=this.sliceSerialize(D),V.position.end=si(D.end)}function Y(D){const V=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ne=V.children[V.children.length-1];ne.position.end=si(D.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(V.type)&&(Q.call(this,D),x.call(this,D))}function K(){this.data.atHardBreak=!0}function _e(){const D=this.resume(),V=this.stack[this.stack.length-1];V.value=D}function xe(){const D=this.resume(),V=this.stack[this.stack.length-1];V.value=D}function pe(){const D=this.resume(),V=this.stack[this.stack.length-1];V.value=D}function nt(){const D=this.stack[this.stack.length-1];if(this.data.inReference){const V=this.data.referenceType||"shortcut";D.type+="Reference",D.referenceType=V,delete D.url,delete D.title}else delete D.identifier,delete D.label;this.data.referenceType=void 0}function Je(){const D=this.stack[this.stack.length-1];if(this.data.inReference){const V=this.data.referenceType||"shortcut";D.type+="Reference",D.referenceType=V,delete D.url,delete D.title}else delete D.identifier,delete D.label;this.data.referenceType=void 0}function $(D){const V=this.sliceSerialize(D),ne=this.stack[this.stack.length-2];ne.label=gW(V),ne.identifier=Jn(V).toLowerCase()}function J(){const D=this.stack[this.stack.length-1],V=this.resume(),ne=this.stack[this.stack.length-1];if(this.data.inReference=!0,ne.type==="link"){const me=D.children;ne.children=me}else ne.alt=V}function C(){const D=this.resume(),V=this.stack[this.stack.length-1];V.url=D}function Ee(){const D=this.resume(),V=this.stack[this.stack.length-1];V.title=D}function Ie(){this.data.inReference=void 0}function S(){this.data.referenceType="collapsed"}function ut(D){const V=this.resume(),ne=this.stack[this.stack.length-1];ne.label=V,ne.identifier=Jn(this.sliceSerialize(D)).toLowerCase(),this.data.referenceType="full"}function Hn(D){this.data.characterReferenceType=D.type}function De(D){const V=this.sliceSerialize(D),ne=this.data.characterReferenceType;let me;ne?(me=mA(V,ne==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):me=I_(V);const Se=this.stack[this.stack.length-1];Se.value+=me}function rr(D){const V=this.stack.pop();V.position.end=si(D.end)}function ti(D){x.call(this,D);const V=this.stack[this.stack.length-1];V.url=this.sliceSerialize(D)}function ta(D){x.call(this,D);const V=this.stack[this.stack.length-1];V.url="mailto:"+this.sliceSerialize(D)}function na(){return{type:"blockquote",children:[]}}function cc(){return{type:"code",lang:null,meta:null,value:""}}function sx(){return{type:"inlineCode",value:""}}function ax(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ox(){return{type:"emphasis",children:[]}}function z_(){return{type:"heading",depth:0,children:[]}}function W_(){return{type:"break"}}function V_(){return{type:"html",value:""}}function ux(){return{type:"image",title:null,url:"",alt:null}}function $_(){return{type:"link",title:null,url:"",children:[]}}function Y_(D){return{type:"list",ordered:D.type==="listOrdered",start:null,spread:D._spread,children:[]}}function lx(D){return{type:"listItem",spread:D._spread,checked:null,children:[]}}function cx(){return{type:"paragraph",children:[]}}function dx(){return{type:"strong",children:[]}}function hx(){return{type:"text",value:""}}function fx(){return{type:"thematicBreak"}}}function si(e){return{line:e.line,column:e.column,offset:e.offset}}function SA(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?SA(e,r):TW(e,r)}}function TW(e,t){let n;for(n in t)if(IA.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function GT(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Nu({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Nu({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Nu({start:t.start,end:t.end})+") is still open")}function vW(e){const t=this;t.parser=n;function n(r){return EW(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function bW(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function CW(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function wW(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function IW(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function SW(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function AW(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=So(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let a,o=e.footnoteCounts.get(r);o===void 0?(o=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=s+1,o+=1,e.footnoteCounts.set(r,o);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,u);const l={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,l),e.applyData(t,l)}function kW(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function xW(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function AA(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function NW(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return AA(e,t);const i={src:So(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function RW(e,t){const n={src:So(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function PW(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function OW(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return AA(e,t);const i={href:So(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function LW(e,t){const n={href:So(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function DW(e,t,n){const r=e.all(t),i=n?MW(n):kA(t),s={},a=[];if(typeof t.checked=="boolean"){const d=r[0];let c;d&&d.type==="element"&&d.tagName==="p"?c=d:(c={type:"element",tagName:"p",properties:{},children:[]},r.unshift(c)),c.children.length>0&&c.children.unshift({type:"text",value:" "}),c.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const d=r[o];(i||o!==0||d.type!=="element"||d.tagName!=="p")&&a.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?a.push(...d.children):a.push(d)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&a.push({type:"text",value:`
`});const l={type:"element",tagName:"li",properties:s,children:a};return e.patch(t,l),e.applyData(t,l)}function MW(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=kA(n[r])}return t}function kA(e){const t=e.spread;return t??e.children.length>1}function FW(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function UW(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function BW(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function HW(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function jW(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=Ir(t.children[1]),u=ff(t.children[t.children.length-1]);o&&u&&(a.position={start:o,end:u}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function zW(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,o=a?a.length:t.children.length;let u=-1;const l=[];for(;++u<o;){const c=t.children[u],f={},p=a?a[u]:void 0;p&&(f.align=p);let g={type:"element",tagName:s,properties:f,children:[]};c&&(g.children=e.all(c),e.patch(c,g),g=e.applyData(c,g)),l.push(g)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,d),e.applyData(t,d)}function WW(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const qT=9,KT=32;function VW(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(QT(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(QT(t.slice(i),i>0,!1)),s.join("")}function QT(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===qT||s===KT;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===qT||s===KT;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function $W(e,t){const n={type:"text",value:VW(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function YW(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const GW={blockquote:bW,break:CW,code:wW,delete:IW,emphasis:SW,footnoteReference:AW,heading:kW,html:xW,imageReference:NW,image:RW,inlineCode:PW,linkReference:OW,link:LW,listItem:DW,list:FW,paragraph:UW,root:BW,strong:HW,table:jW,tableCell:WW,tableRow:zW,text:$W,thematicBreak:YW,toml:Pc,yaml:Pc,definition:Pc,footnoteDefinition:Pc};function Pc(){}const xA=-1,gf=0,Pu=1,ah=2,A_=3,k_=4,x_=5,N_=6,NA=7,RA=8,XT=typeof self=="object"?self:globalThis,qW=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,a]=t[i];switch(s){case gf:case xA:return n(a,i);case Pu:{const o=n([],i);for(const u of a)o.push(r(u));return o}case ah:{const o=n({},i);for(const[u,l]of a)o[r(u)]=r(l);return o}case A_:return n(new Date(a),i);case k_:{const{source:o,flags:u}=a;return n(new RegExp(o,u),i)}case x_:{const o=n(new Map,i);for(const[u,l]of a)o.set(r(u),r(l));return o}case N_:{const o=n(new Set,i);for(const u of a)o.add(r(u));return o}case NA:{const{name:o,message:u}=a;return n(new XT[o](u),i)}case RA:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return n(new DataView(o),a)}}return n(new XT[s](a),i)};return r},JT=e=>qW(new Map,e)(0),ua="",{toString:KW}={},{keys:QW}=Object,Qo=e=>{const t=typeof e;if(t!=="object"||!e)return[gf,t];const n=KW.call(e).slice(8,-1);switch(n){case"Array":return[Pu,ua];case"Object":return[ah,ua];case"Date":return[A_,ua];case"RegExp":return[k_,ua];case"Map":return[x_,ua];case"Set":return[N_,ua];case"DataView":return[Pu,n]}return n.includes("Array")?[Pu,n]:n.includes("Error")?[NA,n]:[ah,n]},Oc=([e,t])=>e===gf&&(t==="function"||t==="symbol"),XW=(e,t,n,r)=>{const i=(a,o)=>{const u=r.push(a)-1;return n.set(o,u),u},s=a=>{if(n.has(a))return n.get(a);let[o,u]=Qo(a);switch(o){case gf:{let d=a;switch(u){case"bigint":o=RA,d=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);d=null;break;case"undefined":return i([xA],a)}return i([o,d],a)}case Pu:{if(u){let f=a;return u==="DataView"?f=new Uint8Array(a.buffer):u==="ArrayBuffer"&&(f=new Uint8Array(a)),i([u,[...f]],a)}const d=[],c=i([o,d],a);for(const f of a)d.push(s(f));return c}case ah:{if(u)switch(u){case"BigInt":return i([u,a.toString()],a);case"Boolean":case"Number":case"String":return i([u,a.valueOf()],a)}if(t&&"toJSON"in a)return s(a.toJSON());const d=[],c=i([o,d],a);for(const f of QW(a))(e||!Oc(Qo(a[f])))&&d.push([s(f),s(a[f])]);return c}case A_:return i([o,a.toISOString()],a);case k_:{const{source:d,flags:c}=a;return i([o,{source:d,flags:c}],a)}case x_:{const d=[],c=i([o,d],a);for(const[f,p]of a)(e||!(Oc(Qo(f))||Oc(Qo(p))))&&d.push([s(f),s(p)]);return c}case N_:{const d=[],c=i([o,d],a);for(const f of a)(e||!Oc(Qo(f)))&&d.push(s(f));return c}}const{message:l}=a;return i([o,{name:u,message:l}],a)};return s},ZT=(e,{json:t,lossy:n}={})=>{const r=[];return XW(!(t||n),!!t,new Map,r)(e),r},oo=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?JT(ZT(e,t)):structuredClone(e):(e,t)=>JT(ZT(e,t));function JW(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function ZW(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function eV(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||JW,r=e.options.footnoteBackLabel||ZW,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let u=-1;for(;++u<e.footnoteOrder.length;){const l=e.footnoteById.get(e.footnoteOrder[u]);if(!l)continue;const d=e.all(l),c=String(l.identifier).toUpperCase(),f=So(c.toLowerCase());let p=0;const g=[],T=e.footnoteCounts.get(c);for(;T!==void 0&&++p<=T;){g.length>0&&g.push({type:"text",value:" "});let E=typeof n=="string"?n:n(u,p);typeof E=="string"&&(E={type:"text",value:E}),g.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,p),className:["data-footnote-backref"]},children:Array.isArray(E)?E:[E]})}const w=d[d.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const E=w.children[w.children.length-1];E&&E.type==="text"?E.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...g)}else d.push(...g);const _={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:e.wrap(d,!0)};e.patch(l,_),o.push(_)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...oo(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const _f=function(e){if(e==null)return iV;if(typeof e=="function")return Ef(e);if(typeof e=="object")return Array.isArray(e)?tV(e):nV(e);if(typeof e=="string")return rV(e);throw new Error("Expected function, string, or object as test")};function tV(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=_f(e[n]);return Ef(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function nV(e){const t=e;return Ef(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function rV(e){return Ef(t);function t(n){return n&&n.type===e}}function Ef(e){return t;function t(n,r,i){return!!(sV(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function iV(){return!0}function sV(e){return e!==null&&typeof e=="object"&&"type"in e}const PA=[],aV=!0,H0=!1,oV="skip";function OA(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=_f(i),a=r?-1:1;o(e,void 0,[])();function o(u,l,d){const c=u&&typeof u=="object"?u:{};if(typeof c.type=="string"){const p=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(u.type+(p?"<"+p+">":""))+")"})}return f;function f(){let p=PA,g,T,w;if((!t||s(u,l,d[d.length-1]||void 0))&&(p=uV(n(u,d)),p[0]===H0))return p;if("children"in u&&u.children){const _=u;if(_.children&&p[0]!==oV)for(T=(r?_.children.length:-1)+a,w=d.concat(_);T>-1&&T<_.children.length;){const E=_.children[T];if(g=o(E,T,w)(),g[0]===H0)return g;T=typeof g[1]=="number"?g[1]:T+a}}return p}}}function uV(e){return Array.isArray(e)?e:typeof e=="number"?[aV,e]:e==null?PA:[e]}function yf(e,t,n,r){let i,s,a;typeof t=="function"&&typeof n!="function"?(s=void 0,a=t,i=n):(s=t,a=n,i=r),OA(e,s,o,i);function o(u,l){const d=l[l.length-1],c=d?d.children.indexOf(u):void 0;return a(u,c,d)}}const j0={}.hasOwnProperty,lV={};function cV(e,t){const n=t||lV,r=new Map,i=new Map,s=new Map,a={...GW,...n.handlers},o={all:l,applyData:hV,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:u,options:n,patch:dV,wrap:pV};return yf(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const c=d.type==="definition"?r:i,f=String(d.identifier).toUpperCase();c.has(f)||c.set(f,d)}}),o;function u(d,c){const f=d.type,p=o.handlers[f];if(j0.call(o.handlers,f)&&p)return p(o,d,c);if(o.options.passThrough&&o.options.passThrough.includes(f)){if("children"in d){const{children:T,...w}=d,_=oo(w);return _.children=o.all(d),_}return oo(d)}return(o.options.unknownHandler||fV)(o,d,c)}function l(d){const c=[];if("children"in d){const f=d.children;let p=-1;for(;++p<f.length;){const g=o.one(f[p],d);if(g){if(p&&f[p-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=ev(g.value)),!Array.isArray(g)&&g.type==="element")){const T=g.children[0];T&&T.type==="text"&&(T.value=ev(T.value))}Array.isArray(g)?c.push(...g):c.push(g)}}}return c}}function dV(e,t){e.position&&(t.position=XH(e))}function hV(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&s&&Object.assign(n.properties,oo(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function fV(e,t){const n=t.data||{},r="value"in t&&!(j0.call(n,"hProperties")||j0.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function pV(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function ev(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function tv(e,t){const n=cV(e,t),r=n.one(e,void 0),i=eV(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function mV(e,t){return e&&"run"in e?async function(n,r){const i=tv(n,{file:r,...t});await e.run(i,r)}:function(n,r){return tv(n,{file:r,...e||t})}}function nv(e){if(e)throw e}var rd=Object.prototype.hasOwnProperty,LA=Object.prototype.toString,rv=Object.defineProperty,iv=Object.getOwnPropertyDescriptor,sv=function(t){return typeof Array.isArray=="function"?Array.isArray(t):LA.call(t)==="[object Array]"},av=function(t){if(!t||LA.call(t)!=="[object Object]")return!1;var n=rd.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&rd.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||rd.call(t,i)},ov=function(t,n){rv&&n.name==="__proto__"?rv(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},uv=function(t,n){if(n==="__proto__")if(rd.call(t,n)){if(iv)return iv(t,n).value}else return;return t[n]},gV=function e(){var t,n,r,i,s,a,o=arguments[0],u=1,l=arguments.length,d=!1;for(typeof o=="boolean"&&(d=o,o=arguments[1]||{},u=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});u<l;++u)if(t=arguments[u],t!=null)for(n in t)r=uv(o,n),i=uv(t,n),o!==i&&(d&&i&&(av(i)||(s=sv(i)))?(s?(s=!1,a=r&&sv(r)?r:[]):a=r&&av(r)?r:{},ov(o,{name:n,newValue:e(d,a,i)})):typeof i<"u"&&ov(o,{name:n,newValue:i}));return o};const Sp=J0(gV);function z0(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function _V(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...i);function o(u,...l){const d=e[++s];let c=-1;if(u){a(u);return}for(;++c<i.length;)(l[c]===null||l[c]===void 0)&&(l[c]=i[c]);i=l,d?EV(d,o)(...l):a(null,...l)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function EV(e,t){let n;return r;function r(...a){const o=e.length>a.length;let u;o&&a.push(i);try{u=e.apply(this,a)}catch(l){const d=l;if(o&&n)throw d;return i(d)}o||(u&&u.then&&typeof u.then=="function"?u.then(s,i):u instanceof Error?i(u):s(u))}function i(a,...o){n||(n=!0,t(a,...o))}function s(a){i(null,a)}}const ar={basename:yV,dirname:TV,extname:vV,join:bV,sep:"/"};function yV(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');ac(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else a<0&&(s=!0,a=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(r=i):(o=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function TV(e){if(ac(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function vV(e){ac(e);let t=e.length,n=-1,r=0,i=-1,s=0,a;for(;t--;){const o=e.codePointAt(t);if(o===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),o===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function bV(...e){let t=-1,n;for(;++t<e.length;)ac(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":CV(n)}function CV(e){ac(e);const t=e.codePointAt(0)===47;let n=wV(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function wV(e,t){let n="",r=0,i=-1,s=0,a=-1,o,u;for(;++a<=e.length;){if(a<e.length)o=e.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length>0){n="",r=0,i=a,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,a):n=e.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s>-1?s++:s=-1}return n}function ac(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const IV={cwd:SV};function SV(){return"/"}function W0(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function AV(e){if(typeof e=="string")e=new URL(e);else if(!W0(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return kV(e)}function kV(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Ap=["history","path","basename","stem","extname","dirname"];class DA{constructor(t){let n;t?W0(t)?n={path:t}:typeof t=="string"||xV(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":IV.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Ap.length;){const s=Ap[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Ap.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?ar.basename(this.path):void 0}set basename(t){xp(t,"basename"),kp(t,"basename"),this.path=ar.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?ar.dirname(this.path):void 0}set dirname(t){lv(this.basename,"dirname"),this.path=ar.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?ar.extname(this.path):void 0}set extname(t){if(kp(t,"extname"),lv(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ar.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){W0(t)&&(t=AV(t)),xp(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?ar.basename(this.path,this.extname):void 0}set stem(t){xp(t,"stem"),kp(t,"stem"),this.path=ar.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Dt(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function kp(e,t){if(e&&e.includes(ar.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ar.sep+"`")}function xp(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function lv(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function xV(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const NV=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},RV={}.hasOwnProperty;class R_ extends NV{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=_V()}copy(){const t=new R_;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Sp(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Pp("data",this.frozen),this.namespace[t]=n,this):RV.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Pp("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Lc(t),r=this.parser||this.Parser;return Np("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Np("process",this.parser||this.Parser),Rp("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,a){const o=Lc(t),u=r.parse(o);r.run(u,o,function(d,c,f){if(d||!c||!f)return l(d);const p=c,g=r.stringify(p,f);LV(g)?f.value=g:f.result=g,l(d,f)});function l(d,c){d||!c?a(d):s?s(c):n(void 0,c)}}}processSync(t){let n=!1,r;return this.freeze(),Np("processSync",this.parser||this.Parser),Rp("processSync",this.compiler||this.Compiler),this.process(t,i),dv("processSync","process",n),r;function i(s,a){n=!0,nv(s),r=a}}run(t,n,r){cv(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,o){const u=Lc(n);i.run(t,u,l);function l(d,c,f){const p=c||t;d?o(d):a?a(p):r(void 0,p,f)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),dv("runSync","run",r),i;function s(a,o){nv(a),i=o,r=!0}}stringify(t,n){this.freeze();const r=Lc(n),i=this.compiler||this.Compiler;return Rp("stringify",i),cv(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Pp("use",this.frozen),t!=null)if(typeof t=="function")u(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(l){if(typeof l=="function")u(l,[]);else if(typeof l=="object")if(Array.isArray(l)){const[d,...c]=l;u(d,c)}else a(l);else throw new TypeError("Expected usable value, not `"+l+"`")}function a(l){if(!("plugins"in l)&&!("settings"in l))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(l.plugins),l.settings&&(i.settings=Sp(!0,i.settings,l.settings))}function o(l){let d=-1;if(l!=null)if(Array.isArray(l))for(;++d<l.length;){const c=l[d];s(c)}else throw new TypeError("Expected a list of plugins, not `"+l+"`")}function u(l,d){let c=-1,f=-1;for(;++c<r.length;)if(r[c][0]===l){f=c;break}if(f===-1)r.push([l,...d]);else if(d.length>0){let[p,...g]=d;const T=r[f][1];z0(T)&&z0(p)&&(p=Sp(!0,T,p)),r[f]=[l,p,...g]}}}}const PV=new R_().freeze();function Np(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Rp(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Pp(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function cv(e){if(!z0(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function dv(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Lc(e){return OV(e)?e:new DA(e)}function OV(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function LV(e){return typeof e=="string"||DV(e)}function DV(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const MV="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",hv=[],fv={allowDangerousHtml:!0},FV=/^(https?|ircs?|mailto|xmpp)$/i,UV=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function BV(e){const t=HV(e),n=jV(e);return zV(t.runSync(t.parse(n),n),e)}function HV(e){const t=e.rehypePlugins||hv,n=e.remarkPlugins||hv,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...fv}:fv;return PV().use(vW).use(n).use(mV,r).use(t)}function jV(e){const t=e.children||"",n=new DA;return typeof t=="string"&&(n.value=t),n}function zV(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,a=t.skipHtml,o=t.unwrapDisallowed,u=t.urlTransform||WV;for(const d of UV)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+MV+d.id,void 0);return yf(e,l),rj(e,{Fragment:m.Fragment,components:i,ignoreInvalidStyle:!0,jsx:m.jsx,jsxs:m.jsxs,passKeys:!0,passNode:!0});function l(d,c,f){if(d.type==="raw"&&f&&typeof c=="number")return a?f.children.splice(c,1):f.children[c]={type:"text",value:d.value},c;if(d.type==="element"){let p;for(p in Cp)if(Object.hasOwn(Cp,p)&&Object.hasOwn(d.properties,p)){const g=d.properties[p],T=Cp[p];(T===null||T.includes(d.tagName))&&(d.properties[p]=u(String(g||""),p,d))}}if(d.type==="element"){let p=n?!n.includes(d.tagName):s?s.includes(d.tagName):!1;if(!p&&r&&typeof c=="number"&&(p=!r(d,c,f)),p&&f&&typeof c=="number")return o&&d.children?f.children.splice(c,1,...d.children):f.children.splice(c,1),c}}}function WV(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||FV.test(e.slice(0,t))?e:""}function pv(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function VV(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function $V(e,t,n){const i=_f((n||{}).ignore||[]),s=YV(t);let a=-1;for(;++a<s.length;)OA(e,"text",o);function o(l,d){let c=-1,f;for(;++c<d.length;){const p=d[c],g=f?f.children:void 0;if(i(p,g?g.indexOf(p):void 0,f))return;f=p}if(f)return u(l,d)}function u(l,d){const c=d[d.length-1],f=s[a][0],p=s[a][1];let g=0;const w=c.children.indexOf(l);let _=!1,E=[];f.lastIndex=0;let y=f.exec(l.value);for(;y;){const k=y.index,L={index:y.index,input:y.input,stack:[...d,l]};let A=p(...y,L);if(typeof A=="string"&&(A=A.length>0?{type:"text",value:A}:void 0),A===!1?f.lastIndex=k+1:(g!==k&&E.push({type:"text",value:l.value.slice(g,k)}),Array.isArray(A)?E.push(...A):A&&E.push(A),g=k+y[0].length,_=!0),!f.global)break;y=f.exec(l.value)}return _?(g<l.value.length&&E.push({type:"text",value:l.value.slice(g)}),c.children.splice(w,1,...E)):E=[l],w+E.length}}function YV(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([GV(i[0]),qV(i[1])])}return t}function GV(e){return typeof e=="string"?new RegExp(VV(e),"g"):e}function qV(e){return typeof e=="function"?e:function(){return e}}const Op="phrasing",Lp=["autolink","link","image","label"];function KV(){return{transforms:[n$],enter:{literalAutolink:XV,literalAutolinkEmail:Dp,literalAutolinkHttp:Dp,literalAutolinkWww:Dp},exit:{literalAutolink:t$,literalAutolinkEmail:e$,literalAutolinkHttp:JV,literalAutolinkWww:ZV}}}function QV(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Op,notInConstruct:Lp},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Op,notInConstruct:Lp},{character:":",before:"[ps]",after:"\\/",inConstruct:Op,notInConstruct:Lp}]}}function XV(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Dp(e){this.config.enter.autolinkProtocol.call(this,e)}function JV(e){this.config.exit.autolinkProtocol.call(this,e)}function ZV(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function e$(e){this.config.exit.autolinkEmail.call(this,e)}function t$(e){this.exit(e)}function n$(e){$V(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,r$],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),i$]],{ignore:["link","linkReference"]})}function r$(e,t,n,r,i){let s="";if(!MA(i)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!s$(n)))return!1;const a=a$(n+r);if(!a[0])return!1;const o={type:"link",title:null,url:s+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[o,{type:"text",value:a[1]}]:o}function i$(e,t,n,r){return!MA(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function s$(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function a$(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=pv(e,"(");let s=pv(e,")");for(;r!==-1&&i>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function MA(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||js(n)||pf(n))&&(!t||n!==47)}FA.peek=m$;function o$(){this.buffer()}function u$(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function l$(){this.buffer()}function c$(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function d$(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Jn(this.sliceSerialize(e)).toLowerCase(),n.label=t}function h$(e){this.exit(e)}function f$(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Jn(this.sliceSerialize(e)).toLowerCase(),n.label=t}function p$(e){this.exit(e)}function m$(){return"["}function FA(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const a=n.enter("footnoteReference"),o=n.enter("reference");return s+=i.move(n.safe(n.associationId(e),{after:"]",before:s})),o(),a(),s+=i.move("]"),s}function g$(){return{enter:{gfmFootnoteCallString:o$,gfmFootnoteCall:u$,gfmFootnoteDefinitionLabelString:l$,gfmFootnoteDefinition:c$},exit:{gfmFootnoteCallString:d$,gfmFootnoteCall:h$,gfmFootnoteDefinitionLabelString:f$,gfmFootnoteDefinition:p$}}}function _$(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:FA},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,a){const o=s.createTracker(a);let u=o.move("[^");const l=s.enter("footnoteDefinition"),d=s.enter("label");return u+=o.move(s.safe(s.associationId(r),{before:u,after:"]"})),d(),u+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),u+=o.move((t?`
`:" ")+s.indentLines(s.containerFlow(r,o.current()),t?UA:E$))),l(),u}}function E$(e,t,n){return t===0?e:UA(e,t,n)}function UA(e,t,n){return(n?"":"    ")+e}const y$=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];BA.peek=w$;function T$(){return{canContainEols:["delete"],enter:{strikethrough:b$},exit:{strikethrough:C$}}}function v$(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:y$}],handlers:{delete:BA}}}function b$(e){this.enter({type:"delete",children:[]},e)}function C$(e){this.exit(e)}function BA(e,t,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(e,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),s(),a}function w$(){return"~"}function I$(e){return e.length}function S$(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||I$,s=[],a=[],o=[],u=[];let l=0,d=-1;for(;++d<e.length;){const T=[],w=[];let _=-1;for(e[d].length>l&&(l=e[d].length);++_<e[d].length;){const E=A$(e[d][_]);if(n.alignDelimiters!==!1){const y=i(E);w[_]=y,(u[_]===void 0||y>u[_])&&(u[_]=y)}T.push(E)}a[d]=T,o[d]=w}let c=-1;if(typeof r=="object"&&"length"in r)for(;++c<l;)s[c]=mv(r[c]);else{const T=mv(r);for(;++c<l;)s[c]=T}c=-1;const f=[],p=[];for(;++c<l;){const T=s[c];let w="",_="";T===99?(w=":",_=":"):T===108?w=":":T===114&&(_=":");let E=n.alignDelimiters===!1?1:Math.max(1,u[c]-w.length-_.length);const y=w+"-".repeat(E)+_;n.alignDelimiters!==!1&&(E=w.length+E+_.length,E>u[c]&&(u[c]=E),p[c]=E),f[c]=y}a.splice(1,0,f),o.splice(1,0,p),d=-1;const g=[];for(;++d<a.length;){const T=a[d],w=o[d];c=-1;const _=[];for(;++c<l;){const E=T[c]||"";let y="",k="";if(n.alignDelimiters!==!1){const L=u[c]-(w[c]||0),A=s[c];A===114?y=" ".repeat(L):A===99?L%2?(y=" ".repeat(L/2+.5),k=" ".repeat(L/2-.5)):(y=" ".repeat(L/2),k=y):k=" ".repeat(L)}n.delimiterStart!==!1&&!c&&_.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&E==="")&&(n.delimiterStart!==!1||c)&&_.push(" "),n.alignDelimiters!==!1&&_.push(y),_.push(E),n.alignDelimiters!==!1&&_.push(k),n.padding!==!1&&_.push(" "),(n.delimiterEnd!==!1||c!==l-1)&&_.push("|")}g.push(n.delimiterEnd===!1?_.join("").replace(/ +$/,""):_.join(""))}return g.join(`
`)}function A$(e){return e==null?"":String(e)}function mv(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}const gv={}.hasOwnProperty;function HA(e,t){const n=t||{};function r(i,...s){let a=r.invalid;const o=r.handlers;if(i&&gv.call(i,e)){const u=String(i[e]);a=gv.call(o,u)?o[u]:r.unknown}if(a)return a.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}function k$(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const a=n.indentLines(n.containerFlow(e,s.current()),x$);return i(),a}function x$(e,t,n){return">"+(n?"":" ")+e}function N$(e,t){return _v(e,t.inConstruct,!0)&&!_v(e,t.notInConstruct,!1)}function _v(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function Ev(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&N$(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function R$(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>a&&(a=s):s=1,i=r+t.length,r=n.indexOf(t,i);return a}function P$(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function O$(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function L$(e,t,n,r){const i=O$(n),s=e.value||"",a=i==="`"?"GraveAccent":"Tilde";if(P$(e,n)){const c=n.enter("codeIndented"),f=n.indentLines(s,D$);return c(),f}const o=n.createTracker(r),u=i.repeat(Math.max(R$(s,i)+1,3)),l=n.enter("codeFenced");let d=o.move(u);if(e.lang){const c=n.enter(`codeFencedLang${a}`);d+=o.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...o.current()})),c()}if(e.lang&&e.meta){const c=n.enter(`codeFencedMeta${a}`);d+=o.move(" "),d+=o.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...o.current()})),c()}return d+=o.move(`
`),s&&(d+=o.move(s+`
`)),d+=o.move(u),l(),d}function D$(e,t,n){return(n?"":"    ")+e}function P_(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function M$(e,t,n,r){const i=P_(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("definition");let o=n.enter("label");const u=n.createTracker(r);let l=u.move("[");return l+=u.move(n.safe(n.associationId(e),{before:l,after:"]",...u.current()})),l+=u.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),l+=u.move("<"),l+=u.move(n.safe(e.url,{before:l,after:">",...u.current()})),l+=u.move(">")):(o=n.enter("destinationRaw"),l+=u.move(n.safe(e.url,{before:l,after:e.title?" ":`
`,...u.current()}))),o(),e.title&&(o=n.enter(`title${s}`),l+=u.move(" "+i),l+=u.move(n.safe(e.title,{before:l,after:i,...u.current()})),l+=u.move(i),o()),a(),l}function F$(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Sl(e){return"&#x"+e.toString(16).toUpperCase()+";"}function oh(e,t,n){const r=ao(e),i=ao(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}jA.peek=U$;function jA(e,t,n,r){const i=F$(n),s=n.enter("emphasis"),a=n.createTracker(r),o=a.move(i);let u=a.move(n.containerPhrasing(e,{after:i,before:o,...a.current()}));const l=u.charCodeAt(0),d=oh(r.before.charCodeAt(r.before.length-1),l,i);d.inside&&(u=Sl(l)+u.slice(1));const c=u.charCodeAt(u.length-1),f=oh(r.after.charCodeAt(0),c,i);f.inside&&(u=u.slice(0,-1)+Sl(c));const p=a.move(i);return s(),n.attentionEncodeSurroundingInfo={after:f.outside,before:d.outside},o+u+p}function U$(e,t,n){return n.options.emphasis||"*"}function B$(e,t){let n=!1;return yf(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,H0}),!!((!e.depth||e.depth<3)&&w_(e)&&(t.options.setext||n))}function H$(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(B$(e,n)){const d=n.enter("headingSetext"),c=n.enter("phrasing"),f=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return c(),d(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const a="#".repeat(i),o=n.enter("headingAtx"),u=n.enter("phrasing");s.move(a+" ");let l=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(l)&&(l=Sl(l.charCodeAt(0))+l.slice(1)),l=l?a+" "+l:a,n.options.closeAtx&&(l+=" "+a),u(),o(),l}zA.peek=j$;function zA(e){return e.value||""}function j$(){return"<"}WA.peek=z$;function WA(e,t,n,r){const i=P_(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("image");let o=n.enter("label");const u=n.createTracker(r);let l=u.move("![");return l+=u.move(n.safe(e.alt,{before:l,after:"]",...u.current()})),l+=u.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),l+=u.move("<"),l+=u.move(n.safe(e.url,{before:l,after:">",...u.current()})),l+=u.move(">")):(o=n.enter("destinationRaw"),l+=u.move(n.safe(e.url,{before:l,after:e.title?" ":")",...u.current()}))),o(),e.title&&(o=n.enter(`title${s}`),l+=u.move(" "+i),l+=u.move(n.safe(e.title,{before:l,after:i,...u.current()})),l+=u.move(i),o()),l+=u.move(")"),a(),l}function z$(){return"!"}VA.peek=W$;function VA(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let a=n.enter("label");const o=n.createTracker(r);let u=o.move("![");const l=n.safe(e.alt,{before:u,after:"]",...o.current()});u+=o.move(l+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const c=n.safe(n.associationId(e),{before:u,after:"]",...o.current()});return a(),n.stack=d,s(),i==="full"||!l||l!==c?u+=o.move(c+"]"):i==="shortcut"?u=u.slice(0,-1):u+=o.move("]"),u}function W$(){return"!"}$A.peek=V$;function $A(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const a=n.unsafe[s],o=n.compilePattern(a);let u;if(a.atBreak)for(;u=o.exec(r);){let l=u.index;r.charCodeAt(l)===10&&r.charCodeAt(l-1)===13&&l--,r=r.slice(0,l)+" "+r.slice(u.index+1)}}return i+r+i}function V$(){return"`"}function YA(e,t){const n=w_(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}GA.peek=$$;function GA(e,t,n,r){const i=P_(n),s=i==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let o,u;if(YA(e,n)){const d=n.stack;n.stack=[],o=n.enter("autolink");let c=a.move("<");return c+=a.move(n.containerPhrasing(e,{before:c,after:">",...a.current()})),c+=a.move(">"),o(),n.stack=d,c}o=n.enter("link"),u=n.enter("label");let l=a.move("[");return l+=a.move(n.containerPhrasing(e,{before:l,after:"](",...a.current()})),l+=a.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),l+=a.move("<"),l+=a.move(n.safe(e.url,{before:l,after:">",...a.current()})),l+=a.move(">")):(u=n.enter("destinationRaw"),l+=a.move(n.safe(e.url,{before:l,after:e.title?" ":")",...a.current()}))),u(),e.title&&(u=n.enter(`title${s}`),l+=a.move(" "+i),l+=a.move(n.safe(e.title,{before:l,after:i,...a.current()})),l+=a.move(i),u()),l+=a.move(")"),o(),l}function $$(e,t,n){return YA(e,n)?"<":"["}qA.peek=Y$;function qA(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let a=n.enter("label");const o=n.createTracker(r);let u=o.move("[");const l=n.containerPhrasing(e,{before:u,after:"]",...o.current()});u+=o.move(l+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const c=n.safe(n.associationId(e),{before:u,after:"]",...o.current()});return a(),n.stack=d,s(),i==="full"||!l||l!==c?u+=o.move(c+"]"):i==="shortcut"?u=u.slice(0,-1):u+=o.move("]"),u}function Y$(){return"["}function O_(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function G$(e){const t=O_(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function q$(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function KA(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function K$(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let a=e.ordered?q$(n):O_(n);const o=e.ordered?a==="."?")":".":G$(n);let u=t&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(u=!0),KA(n)===a&&d){let c=-1;for(;++c<e.children.length;){const f=e.children[c];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(a=o),n.bulletCurrent=a;const l=n.containerFlow(e,r);return n.bulletLastUsed=a,n.bulletCurrent=s,i(),l}function Q$(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function X$(e,t,n,r){const i=Q$(n);let s=n.bulletCurrent||O_(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let a=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const o=n.createTracker(r);o.move(s+" ".repeat(a-s.length)),o.shift(a);const u=n.enter("listItem"),l=n.indentLines(n.containerFlow(e,o.current()),d);return u(),l;function d(c,f,p){return f?(p?"":" ".repeat(a))+c:(p?s:s+" ".repeat(a-s.length))+c}}function J$(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),a=n.containerPhrasing(e,r);return s(),i(),a}const Z$=_f(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function eY(e,t,n,r){return(e.children.some(function(a){return Z$(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function tY(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}QA.peek=nY;function QA(e,t,n,r){const i=tY(n),s=n.enter("strong"),a=n.createTracker(r),o=a.move(i+i);let u=a.move(n.containerPhrasing(e,{after:i,before:o,...a.current()}));const l=u.charCodeAt(0),d=oh(r.before.charCodeAt(r.before.length-1),l,i);d.inside&&(u=Sl(l)+u.slice(1));const c=u.charCodeAt(u.length-1),f=oh(r.after.charCodeAt(0),c,i);f.inside&&(u=u.slice(0,-1)+Sl(c));const p=a.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:f.outside,before:d.outside},o+u+p}function nY(e,t,n){return n.options.strong||"*"}function rY(e,t,n,r){return n.safe(e.value,r)}function iY(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function sY(e,t,n){const r=(KA(n)+(n.options.ruleSpaces?" ":"")).repeat(iY(n));return n.options.ruleSpaces?r.slice(0,-1):r}const XA={blockquote:k$,break:Ev,code:L$,definition:M$,emphasis:jA,hardBreak:Ev,heading:H$,html:zA,image:WA,imageReference:VA,inlineCode:$A,link:GA,linkReference:qA,list:K$,listItem:X$,paragraph:J$,root:eY,strong:QA,text:rY,thematicBreak:sY};function aY(){return{enter:{table:oY,tableData:yv,tableHeader:yv,tableRow:lY},exit:{codeText:cY,table:uY,tableData:Mp,tableHeader:Mp,tableRow:Mp}}}function oY(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function uY(e){this.exit(e),this.data.inTable=void 0}function lY(e){this.enter({type:"tableRow",children:[]},e)}function Mp(e){this.exit(e)}function yv(e){this.enter({type:"tableCell",children:[]},e)}function cY(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,dY));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function dY(e,t){return t==="|"?t:e}function hY(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:a,tableCell:u,tableRow:o}};function a(p,g,T,w){return l(d(p,T,w),p.align)}function o(p,g,T,w){const _=c(p,T,w),E=l([_]);return E.slice(0,E.indexOf(`
`))}function u(p,g,T,w){const _=T.enter("tableCell"),E=T.enter("phrasing"),y=T.containerPhrasing(p,{...w,before:s,after:s});return E(),_(),y}function l(p,g){return S$(p,{align:g,alignDelimiters:r,padding:n,stringLength:i})}function d(p,g,T){const w=p.children;let _=-1;const E=[],y=g.enter("table");for(;++_<w.length;)E[_]=c(w[_],g,T);return y(),E}function c(p,g,T){const w=p.children;let _=-1;const E=[],y=g.enter("tableRow");for(;++_<w.length;)E[_]=u(w[_],p,g,T);return y(),E}function f(p,g,T){let w=XA.inlineCode(p,g,T);return T.stack.includes("tableCell")&&(w=w.replace(/\|/g,"\\$&")),w}}function fY(){return{exit:{taskListCheckValueChecked:Tv,taskListCheckValueUnchecked:Tv,paragraph:mY}}}function pY(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:gY}}}function Tv(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function mY(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let s=-1,a;for(;++s<i.length;){const o=i[s];if(o.type==="paragraph"){a=o;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function gY(e,t,n,r){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",o=n.createTracker(r);s&&o.move(a);let u=XA.listItem(e,t,n,{...r,...o.current()});return s&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,l)),u;function l(d){return d+a}}function _Y(){return[KV(),g$(),T$(),aY(),fY()]}function EY(e){return{extensions:[QV(),_$(e),v$(),hY(e),pY()]}}const yY={tokenize:IY,partial:!0},JA={tokenize:SY,partial:!0},ZA={tokenize:AY,partial:!0},ek={tokenize:kY,partial:!0},TY={tokenize:xY,partial:!0},tk={name:"wwwAutolink",tokenize:CY,previous:rk},nk={name:"protocolAutolink",tokenize:wY,previous:ik},ei={name:"emailAutolink",tokenize:bY,previous:sk},Sr={};function vY(){return{text:Sr}}let ss=48;for(;ss<123;)Sr[ss]=ei,ss++,ss===58?ss=65:ss===91&&(ss=97);Sr[43]=ei;Sr[45]=ei;Sr[46]=ei;Sr[95]=ei;Sr[72]=[ei,nk];Sr[104]=[ei,nk];Sr[87]=[ei,tk];Sr[119]=[ei,tk];function bY(e,t,n){const r=this;let i,s;return a;function a(c){return!V0(c)||!sk.call(r,r.previous)||L_(r.events)?n(c):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(c))}function o(c){return V0(c)?(e.consume(c),o):c===64?(e.consume(c),u):n(c)}function u(c){return c===46?e.check(TY,d,l)(c):c===45||c===95||Pt(c)?(s=!0,e.consume(c),u):d(c)}function l(c){return e.consume(c),i=!0,u}function d(c){return s&&i&&Ut(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(c)):n(c)}}function CY(e,t,n){const r=this;return i;function i(a){return a!==87&&a!==119||!rk.call(r,r.previous)||L_(r.events)?n(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(yY,e.attempt(JA,e.attempt(ZA,s),n),n)(a))}function s(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function wY(e,t,n){const r=this;let i="",s=!1;return a;function a(c){return(c===72||c===104)&&ik.call(r,r.previous)&&!L_(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(c),e.consume(c),o):n(c)}function o(c){if(Ut(c)&&i.length<5)return i+=String.fromCodePoint(c),e.consume(c),o;if(c===58){const f=i.toLowerCase();if(f==="http"||f==="https")return e.consume(c),u}return n(c)}function u(c){return c===47?(e.consume(c),s?l:(s=!0,u)):n(c)}function l(c){return c===null||sh(c)||ke(c)||js(c)||pf(c)?n(c):e.attempt(JA,e.attempt(ZA,d),n)(c)}function d(c){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(c)}}function IY(e,t,n){let r=0;return i;function i(a){return(a===87||a===119)&&r<3?(r++,e.consume(a),i):a===46&&r===3?(e.consume(a),s):n(a)}function s(a){return a===null?n(a):t(a)}}function SY(e,t,n){let r,i,s;return a;function a(l){return l===46||l===95?e.check(ek,u,o)(l):l===null||ke(l)||js(l)||l!==45&&pf(l)?u(l):(s=!0,e.consume(l),a)}function o(l){return l===95?r=!0:(i=r,r=void 0),e.consume(l),a}function u(l){return i||r||!s?n(l):t(l)}}function AY(e,t){let n=0,r=0;return i;function i(a){return a===40?(n++,e.consume(a),i):a===41&&r<n?s(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(ek,t,s)(a):a===null||ke(a)||js(a)?t(a):(e.consume(a),i)}function s(a){return a===41&&r++,e.consume(a),i}}function kY(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),s):o===93?(e.consume(o),i):o===60||o===null||ke(o)||js(o)?t(o):n(o)}function i(o){return o===null||o===40||o===91||ke(o)||js(o)?t(o):r(o)}function s(o){return Ut(o)?a(o):n(o)}function a(o){return o===59?(e.consume(o),r):Ut(o)?(e.consume(o),a):n(o)}}function xY(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return Pt(s)?n(s):t(s)}}function rk(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||ke(e)}function ik(e){return!Ut(e)}function sk(e){return!(e===47||V0(e))}function V0(e){return e===43||e===45||e===46||e===95||Pt(e)}function L_(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const NY={tokenize:UY,partial:!0};function RY(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:DY,continuation:{tokenize:MY},exit:FY}},text:{91:{name:"gfmFootnoteCall",tokenize:LY},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:PY,resolveTo:OY}}}}function PY(e,t,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const u=r.events[i][1];if(u.type==="labelImage"){a=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return o;function o(u){if(!a||!a._balanced)return n(u);const l=Jn(r.sliceSerialize({start:a.end,end:r.now()}));return l.codePointAt(0)!==94||!s.includes(l.slice(1))?n(u):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),t(u))}}function OY(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",a,t],["exit",a,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function LY(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,a;return o;function o(c){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),u}function u(c){return c!==94?n(c):(e.enter("gfmFootnoteCallMarker"),e.consume(c),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",l)}function l(c){if(s>999||c===93&&!a||c===null||c===91||ke(c))return n(c);if(c===93){e.exit("chunkString");const f=e.exit("gfmFootnoteCallString");return i.includes(Jn(r.sliceSerialize(f)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(c)}return ke(c)||(a=!0),s++,e.consume(c),c===92?d:l}function d(c){return c===91||c===92||c===93?(e.consume(c),s++,l):l(c)}}function DY(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,a=0,o;return u;function u(g){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),l}function l(g){return g===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(g)}function d(g){if(a>999||g===93&&!o||g===null||g===91||ke(g))return n(g);if(g===93){e.exit("chunkString");const T=e.exit("gfmFootnoteDefinitionLabelString");return s=Jn(r.sliceSerialize(T)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),f}return ke(g)||(o=!0),a++,e.consume(g),g===92?c:d}function c(g){return g===91||g===92||g===93?(e.consume(g),a++,d):d(g)}function f(g){return g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),i.includes(s)||i.push(s),ge(e,p,"gfmFootnoteDefinitionWhitespace")):n(g)}function p(g){return t(g)}}function MY(e,t,n){return e.check(sc,t,e.attempt(NY,t,n))}function FY(e){e.exit("gfmFootnoteDefinition")}function UY(e,t,n){const r=this;return ge(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(s):n(s)}}function BY(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(a,o){let u=-1;for(;++u<a.length;)if(a[u][0]==="enter"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._close){let l=u;for(;l--;)if(a[l][0]==="exit"&&a[l][1].type==="strikethroughSequenceTemporary"&&a[l][1]._open&&a[u][1].end.offset-a[u][1].start.offset===a[l][1].end.offset-a[l][1].start.offset){a[u][1].type="strikethroughSequence",a[l][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},a[l][1].start),end:Object.assign({},a[u][1].end)},c={type:"strikethroughText",start:Object.assign({},a[l][1].end),end:Object.assign({},a[u][1].start)},f=[["enter",d,o],["enter",a[l][1],o],["exit",a[l][1],o],["enter",c,o]],p=o.parser.constructs.insideSpan.null;p&&gn(f,f.length,0,mf(p,a.slice(l+1,u),o)),gn(f,f.length,0,[["exit",c,o],["enter",a[u][1],o],["exit",a[u][1],o],["exit",d,o]]),gn(a,l-1,u-l+3,f),u=l+f.length-2;break}}for(u=-1;++u<a.length;)a[u][1].type==="strikethroughSequenceTemporary"&&(a[u][1].type="data");return a}function s(a,o,u){const l=this.previous,d=this.events;let c=0;return f;function f(g){return l===126&&d[d.length-1][1].type!=="characterEscape"?u(g):(a.enter("strikethroughSequenceTemporary"),p(g))}function p(g){const T=ao(l);if(g===126)return c>1?u(g):(a.consume(g),c++,p);if(c<2&&!n)return u(g);const w=a.exit("strikethroughSequenceTemporary"),_=ao(g);return w._open=!_||_===2&&!!T,w._close=!T||T===2&&!!_,o(g)}}}class HY{constructor(){this.map=[]}add(t,n,r){jY(this,t,n,r)}consume(t){if(this.map.sort(function(s,a){return s[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const s of i)t.push(s);i=r.pop()}this.map.length=0}}function jY(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function zY(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function WY(){return{flow:{null:{name:"table",tokenize:VY,resolveAll:$Y}}}}function VY(e,t,n){const r=this;let i=0,s=0,a;return o;function o(x){let Y=r.events.length-1;for(;Y>-1;){const xe=r.events[Y][1].type;if(xe==="lineEnding"||xe==="linePrefix")Y--;else break}const K=Y>-1?r.events[Y][1].type:null,_e=K==="tableHead"||K==="tableRow"?A:u;return _e===A&&r.parser.lazy[r.now().line]?n(x):_e(x)}function u(x){return e.enter("tableHead"),e.enter("tableRow"),l(x)}function l(x){return x===124||(a=!0,s+=1),d(x)}function d(x){return x===null?n(x):X(x)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),p):n(x):de(x)?ge(e,d,"whitespace")(x):(s+=1,a&&(a=!1,i+=1),x===124?(e.enter("tableCellDivider"),e.consume(x),e.exit("tableCellDivider"),a=!0,d):(e.enter("data"),c(x)))}function c(x){return x===null||x===124||ke(x)?(e.exit("data"),d(x)):(e.consume(x),x===92?f:c)}function f(x){return x===92||x===124?(e.consume(x),c):c(x)}function p(x){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(x):(e.enter("tableDelimiterRow"),a=!1,de(x)?ge(e,g,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(x):g(x))}function g(x){return x===45||x===58?w(x):x===124?(a=!0,e.enter("tableCellDivider"),e.consume(x),e.exit("tableCellDivider"),T):L(x)}function T(x){return de(x)?ge(e,w,"whitespace")(x):w(x)}function w(x){return x===58?(s+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(x),e.exit("tableDelimiterMarker"),_):x===45?(s+=1,_(x)):x===null||X(x)?k(x):L(x)}function _(x){return x===45?(e.enter("tableDelimiterFiller"),E(x)):L(x)}function E(x){return x===45?(e.consume(x),E):x===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(x),e.exit("tableDelimiterMarker"),y):(e.exit("tableDelimiterFiller"),y(x))}function y(x){return de(x)?ge(e,k,"whitespace")(x):k(x)}function k(x){return x===124?g(x):x===null||X(x)?!a||i!==s?L(x):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(x)):L(x)}function L(x){return n(x)}function A(x){return e.enter("tableRow"),P(x)}function P(x){return x===124?(e.enter("tableCellDivider"),e.consume(x),e.exit("tableCellDivider"),P):x===null||X(x)?(e.exit("tableRow"),t(x)):de(x)?ge(e,P,"whitespace")(x):(e.enter("data"),B(x))}function B(x){return x===null||x===124||ke(x)?(e.exit("data"),P(x)):(e.consume(x),x===92?Q:B)}function Q(x){return x===92||x===124?(e.consume(x),B):B(x)}}function $Y(e,t){let n=-1,r=!0,i=0,s=[0,0,0,0],a=[0,0,0,0],o=!1,u=0,l,d,c;const f=new HY;for(;++n<e.length;){const p=e[n],g=p[1];p[0]==="enter"?g.type==="tableHead"?(o=!1,u!==0&&(vv(f,t,u,l,d),d=void 0,u=0),l={type:"table",start:Object.assign({},g.start),end:Object.assign({},g.end)},f.add(n,0,[["enter",l,t]])):g.type==="tableRow"||g.type==="tableDelimiterRow"?(r=!0,c=void 0,s=[0,0,0,0],a=[0,n+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},g.start),end:Object.assign({},g.end)},f.add(n,0,[["enter",d,t]])),i=g.type==="tableDelimiterRow"?2:d?3:1):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(s[1]!==0&&(a[0]=a[1],c=Dc(f,t,s,i,void 0,c),s=[0,0,0,0]),a[2]=n)):g.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(a[0]=a[1],c=Dc(f,t,s,i,void 0,c)),s=a,a=[s[1],n,0,0])):g.type==="tableHead"?(o=!0,u=n):g.type==="tableRow"||g.type==="tableDelimiterRow"?(u=n,s[1]!==0?(a[0]=a[1],c=Dc(f,t,s,i,n,c)):a[1]!==0&&(c=Dc(f,t,a,i,n,c)),i=0):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")&&(a[3]=n)}for(u!==0&&vv(f,t,u,l,d),f.consume(t.events),n=-1;++n<t.events.length;){const p=t.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=zY(t.events,n))}return e}function Dc(e,t,n,r,i,s){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(s.end=Object.assign({},la(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const u=la(t.events,n[1]);if(s={type:a,start:Object.assign({},u),end:Object.assign({},u)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const l=la(t.events,n[2]),d=la(t.events,n[3]),c={type:o,start:Object.assign({},l),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",c,t]]),r!==2){const f=t.events[n[2]],p=t.events[n[3]];if(f[1].end=Object.assign({},p[1].end),f[1].type="chunkText",f[1].contentType="text",n[3]>n[2]+1){const g=n[2]+1,T=n[3]-n[2]-1;e.add(g,T,[])}}e.add(n[3]+1,0,[["exit",c,t]])}return i!==void 0&&(s.end=Object.assign({},la(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function vv(e,t,n,r,i){const s=[],a=la(t.events,n);i&&(i.end=Object.assign({},a),s.push(["exit",i,t])),r.end=Object.assign({},a),s.push(["exit",r,t]),e.add(n+1,0,s)}function la(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const YY={name:"tasklistCheck",tokenize:qY};function GY(){return{text:{91:YY}}}function qY(e,t,n){const r=this;return i;function i(u){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(u):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),s)}function s(u){return ke(u)?(e.enter("taskListCheckValueUnchecked"),e.consume(u),e.exit("taskListCheckValueUnchecked"),a):u===88||u===120?(e.enter("taskListCheckValueChecked"),e.consume(u),e.exit("taskListCheckValueChecked"),a):n(u)}function a(u){return u===93?(e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(u)}function o(u){return X(u)?t(u):de(u)?e.check({tokenize:KY},t,n)(u):n(u)}}function KY(e,t,n){return ge(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function QY(e){return pA([vY(),RY(),BY(e),WY(),GY()])}const XY={};function JY(e){const t=this,n=e||XY,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(QY(n)),s.push(_Y()),a.push(EY(n))}const bv=/[#.]/g;function ZY(e,t){const n=e||"",r={};let i=0,s,a;for(;i<n.length;){bv.lastIndex=i;const o=bv.exec(n),u=n.slice(i,o?o.index:n.length);u&&(s?s==="#"?r.id=u:Array.isArray(r.className)?r.className.push(u):r.className=[u]:a=u,i+=u.length),o&&(s=o[0],i++)}return{type:"element",tagName:a||t||"div",properties:r,children:[]}}function ak(e,t,n){const r=n?rG(n):void 0;function i(s,a,...o){let u;if(s==null){u={type:"root",children:[]};const l=a;o.unshift(l)}else{u=ZY(s,t);const l=u.tagName.toLowerCase(),d=r?r.get(l):void 0;if(u.tagName=d||l,eG(a))o.unshift(a);else for(const[c,f]of Object.entries(a))tG(e,u.properties,c,f)}for(const l of o)$0(u.children,l);return u.type==="element"&&u.tagName==="template"&&(u.content={type:"root",children:u.children},u.children=[]),u}return i}function eG(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const r of n){const i=t[r];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const s=i;for(const a of s)if(typeof a!="number"&&typeof a!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function tG(e,t,n,r){const i=T_(e,n);let s;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;s=r}else typeof r=="boolean"?s=r:typeof r=="string"?i.spaceSeparated?s=xT(r):i.commaSeparated?s=wT(r):i.commaOrSpaceSeparated?s=xT(wT(r).join(" ")):s=Cv(i,i.property,r):Array.isArray(r)?s=[...r]:s=i.property==="style"?nG(r):String(r);if(Array.isArray(s)){const a=[];for(const o of s)a.push(Cv(i,i.property,o));s=a}i.property==="className"&&Array.isArray(t.className)&&(s=t.className.concat(s)),t[i.property]=s}}function $0(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)$0(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?$0(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function Cv(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||wl(n)===wl(t)))return!0}return n}function nG(e){const t=[];for(const[n,r]of Object.entries(e))t.push([n,r].join(": "));return t.join("; ")}function rG(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const iG=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],sG=ak(hf,"div"),aG=ak(Io,"g",iG);function oG(e){const t=String(e),n=[];return{toOffset:i,toPoint:r};function r(s){if(typeof s=="number"&&s>-1&&s<=t.length){let a=0;for(;;){let o=n[a];if(o===void 0){const u=wv(t,n[a-1]);o=u===-1?t.length+1:u+1,n[a]=o}if(o>s)return{line:a+1,column:s-(a>0?n[a-1]:0)+1,offset:s};a++}}}function i(s){if(s&&typeof s.line=="number"&&typeof s.column=="number"&&!Number.isNaN(s.line)&&!Number.isNaN(s.column)){for(;n.length<s.line;){const o=n[n.length-1],u=wv(t,o),l=u===-1?t.length+1:u+1;if(o===l)break;n.push(l)}const a=(s.line>1?n[s.line-2]:0)+s.column-1;if(a<n[s.line-1])return a}}}function wv(e,t){const n=e.indexOf("\r",t),r=e.indexOf(`
`,t);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const _s={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ok={}.hasOwnProperty,uG=Object.prototype;function lG(e,t){const n=t||{};return D_({file:n.file||void 0,location:!1,schema:n.space==="svg"?Io:hf,verbose:n.verbose||!1},e)}function D_(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},id(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:uk(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const s=String(e.file),a=oG(s),o=a.toPoint(0),u=a.toPoint(s.length);n.position={start:o,end:u}}return n}case"#documentType":{const r=t;return n={type:"doctype"},id(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},id(e,r,n),n}default:return n=cG(e,t),n}}function uk(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=D_(e,t[n]);r.push(i)}return r}function cG(e,t){const n=e.schema;e.schema=t.namespaceURI===_s.svg?Io:hf;let r=-1;const i={};for(;++r<t.attrs.length;){const o=t.attrs[r],u=(o.prefix?o.prefix+":":"")+o.name;ok.call(uG,u)||(i[u]=o.value)}const a=(e.schema.space==="svg"?aG:sG)(t.tagName,i,uk(e,t.childNodes));if(id(e,t,a),a.tagName==="template"){const o=t,u=o.sourceCodeLocation,l=u&&u.startTag&&Ia(u.startTag),d=u&&u.endTag&&Ia(u.endTag),c=D_(e,o.content);l&&d&&e.file&&(c.position={start:l.end,end:d.start}),a.content=c}return e.schema=n,a}function id(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=dG(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function dG(e,t,n){const r=Ia(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const s={};let a;if(n.attrs)for(a in n.attrs)ok.call(n.attrs,a)&&(s[T_(e.schema,a).property]=Ia(n.attrs[a]));n.startTag;const o=Ia(n.startTag),u=n.endTag?Ia(n.endTag):void 0,l={opening:o};u&&(l.closing=u),l.properties=s,t.data={position:l}}}return r}function Ia(e){const t=Iv({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=Iv({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function Iv(e){return e.line&&e.column?e:void 0}class oc{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}oc.prototype.property={};oc.prototype.normal={};oc.prototype.space=null;function lk(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new oc(n,r,t)}function Y0(e){return e.toLowerCase()}class Bn{constructor(t,n){this.property=t,this.attribute=n}}Bn.prototype.space=null;Bn.prototype.boolean=!1;Bn.prototype.booleanish=!1;Bn.prototype.overloadedBoolean=!1;Bn.prototype.number=!1;Bn.prototype.commaSeparated=!1;Bn.prototype.spaceSeparated=!1;Bn.prototype.commaOrSpaceSeparated=!1;Bn.prototype.mustUseProperty=!1;Bn.prototype.defined=!1;let hG=0;const ie=Zs(),it=Zs(),ck=Zs(),z=Zs(),Re=Zs(),Ha=Zs(),on=Zs();function Zs(){return 2**++hG}const G0=Object.freeze(Object.defineProperty({__proto__:null,boolean:ie,booleanish:it,commaOrSpaceSeparated:on,commaSeparated:Ha,number:z,overloadedBoolean:ck,spaceSeparated:Re},Symbol.toStringTag,{value:"Module"})),Fp=Object.keys(G0);class M_ extends Bn{constructor(t,n,r,i){let s=-1;if(super(t,n),Sv(this,"space",i),typeof r=="number")for(;++s<Fp.length;){const a=Fp[s];Sv(this,Fp[s],(r&G0[a])===G0[a])}}}M_.prototype.defined=!0;function Sv(e,t,n){n&&(e[t]=n)}const fG={}.hasOwnProperty;function Ao(e){const t={},n={};let r;for(r in e.properties)if(fG.call(e.properties,r)){const i=e.properties[r],s=new M_(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[Y0(r)]=r,n[Y0(s.attribute)]=r}return new oc(t,n,e.space)}const dk=Ao({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),hk=Ao({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function fk(e,t){return t in e?e[t]:t}function pk(e,t){return fk(e,t.toLowerCase())}const mk=Ao({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:pk,properties:{xmlns:null,xmlnsXLink:null}}),gk=Ao({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:it,ariaAutoComplete:null,ariaBusy:it,ariaChecked:it,ariaColCount:z,ariaColIndex:z,ariaColSpan:z,ariaControls:Re,ariaCurrent:null,ariaDescribedBy:Re,ariaDetails:null,ariaDisabled:it,ariaDropEffect:Re,ariaErrorMessage:null,ariaExpanded:it,ariaFlowTo:Re,ariaGrabbed:it,ariaHasPopup:null,ariaHidden:it,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Re,ariaLevel:z,ariaLive:null,ariaModal:it,ariaMultiLine:it,ariaMultiSelectable:it,ariaOrientation:null,ariaOwns:Re,ariaPlaceholder:null,ariaPosInSet:z,ariaPressed:it,ariaReadOnly:it,ariaRelevant:null,ariaRequired:it,ariaRoleDescription:Re,ariaRowCount:z,ariaRowIndex:z,ariaRowSpan:z,ariaSelected:it,ariaSetSize:z,ariaSort:null,ariaValueMax:z,ariaValueMin:z,ariaValueNow:z,ariaValueText:null,role:null}}),pG=Ao({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:pk,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ha,acceptCharset:Re,accessKey:Re,action:null,allow:null,allowFullScreen:ie,allowPaymentRequest:ie,allowUserMedia:ie,alt:null,as:null,async:ie,autoCapitalize:null,autoComplete:Re,autoFocus:ie,autoPlay:ie,blocking:Re,capture:null,charSet:null,checked:ie,cite:null,className:Re,cols:z,colSpan:null,content:null,contentEditable:it,controls:ie,controlsList:Re,coords:z|Ha,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ie,defer:ie,dir:null,dirName:null,disabled:ie,download:ck,draggable:it,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ie,formTarget:null,headers:Re,height:z,hidden:ie,high:z,href:null,hrefLang:null,htmlFor:Re,httpEquiv:Re,id:null,imageSizes:null,imageSrcSet:null,inert:ie,inputMode:null,integrity:null,is:null,isMap:ie,itemId:null,itemProp:Re,itemRef:Re,itemScope:ie,itemType:Re,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ie,low:z,manifest:null,max:null,maxLength:z,media:null,method:null,min:null,minLength:z,multiple:ie,muted:ie,name:null,nonce:null,noModule:ie,noValidate:ie,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ie,optimum:z,pattern:null,ping:Re,placeholder:null,playsInline:ie,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ie,referrerPolicy:null,rel:Re,required:ie,reversed:ie,rows:z,rowSpan:z,sandbox:Re,scope:null,scoped:ie,seamless:ie,selected:ie,shadowRootClonable:ie,shadowRootDelegatesFocus:ie,shadowRootMode:null,shape:null,size:z,sizes:null,slot:null,span:z,spellCheck:it,src:null,srcDoc:null,srcLang:null,srcSet:null,start:z,step:null,style:null,tabIndex:z,target:null,title:null,translate:null,type:null,typeMustMatch:ie,useMap:null,value:it,width:z,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Re,axis:null,background:null,bgColor:null,border:z,borderColor:null,bottomMargin:z,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ie,declare:ie,event:null,face:null,frame:null,frameBorder:null,hSpace:z,leftMargin:z,link:null,longDesc:null,lowSrc:null,marginHeight:z,marginWidth:z,noResize:ie,noHref:ie,noShade:ie,noWrap:ie,object:null,profile:null,prompt:null,rev:null,rightMargin:z,rules:null,scheme:null,scrolling:it,standby:null,summary:null,text:null,topMargin:z,valueType:null,version:null,vAlign:null,vLink:null,vSpace:z,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ie,disableRemotePlayback:ie,prefix:null,property:null,results:z,security:null,unselectable:null}}),mG=Ao({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:fk,properties:{about:on,accentHeight:z,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:z,amplitude:z,arabicForm:null,ascent:z,attributeName:null,attributeType:null,azimuth:z,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:z,by:null,calcMode:null,capHeight:z,className:Re,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:z,diffuseConstant:z,direction:null,display:null,dur:null,divisor:z,dominantBaseline:null,download:ie,dx:null,dy:null,edgeMode:null,editable:null,elevation:z,enableBackground:null,end:null,event:null,exponent:z,externalResourcesRequired:null,fill:null,fillOpacity:z,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ha,g2:Ha,glyphName:Ha,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:z,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:z,horizOriginX:z,horizOriginY:z,id:null,ideographic:z,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:z,k:z,k1:z,k2:z,k3:z,k4:z,kernelMatrix:on,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:z,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:z,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:z,overlineThickness:z,paintOrder:null,panose1:null,path:null,pathLength:z,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Re,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:z,pointsAtY:z,pointsAtZ:z,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:on,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:on,rev:on,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:on,requiredFeatures:on,requiredFonts:on,requiredFormats:on,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:z,specularExponent:z,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:z,strikethroughThickness:z,string:null,stroke:null,strokeDashArray:on,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:z,strokeOpacity:z,strokeWidth:null,style:null,surfaceScale:z,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:on,tabIndex:z,tableValues:null,target:null,targetX:z,targetY:z,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:on,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:z,underlineThickness:z,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:z,values:null,vAlphabetic:z,vMathematical:z,vectorEffect:null,vHanging:z,vIdeographic:z,version:null,vertAdvY:z,vertOriginX:z,vertOriginY:z,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:z,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),gG=/^data[-\w.:]+$/i,Av=/-[a-z]/g,_G=/[A-Z]/g;function EG(e,t){const n=Y0(t);let r=t,i=Bn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&gG.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(Av,TG);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!Av.test(s)){let a=s.replace(_G,yG);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=M_}return new i(r,t)}function yG(e){return"-"+e.toLowerCase()}function TG(e){return e.charAt(1).toUpperCase()}const vG=lk([hk,dk,mk,gk,pG],"html"),_k=lk([hk,dk,mk,gk,mG],"svg"),bG={},CG={}.hasOwnProperty,Ek=HA("type",{handlers:{root:IG,element:NG,text:kG,comment:xG,doctype:AG}});function wG(e,t){const r=(t||bG).space;return Ek(e,r==="svg"?_k:vG)}function IG(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=F_(e.children,n,t),ko(e,n),n}function SG(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=F_(e.children,n,t),ko(e,n),n}function AG(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return ko(e,t),t}function kG(e){const t={nodeName:"#text",value:e.value,parentNode:null};return ko(e,t),t}function xG(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return ko(e,t),t}function NG(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=_k);const i=[];let s;if(e.properties){for(s in e.properties)if(s!=="children"&&CG.call(e.properties,s)){const u=RG(r,s,e.properties[s]);u&&i.push(u)}}const a=r.space,o={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:_s[a],childNodes:[],parentNode:null};return o.childNodes=F_(e.children,o,r),ko(e,o),e.tagName==="template"&&e.content&&(o.content=SG(e.content,r)),o}function RG(e,t,n){const r=EG(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?X3(n):aA(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const s=i.name.indexOf(":");s<0?i.prefix="":(i.name=i.name.slice(s+1),i.prefix=r.attribute.slice(0,s)),i.namespace=_s[r.space]}return i}function F_(e,t,n){let r=-1;const i=[];if(e)for(;++r<e.length;){const s=Ek(e[r],n);s.parentNode=t,i.push(s)}return i}function ko(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const PG=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],OG=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Be="";var v;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(v||(v={}));const Wt={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function yk(e){return e>=55296&&e<=57343}function LG(e){return e>=56320&&e<=57343}function DG(e,t){return(e-55296)*1024+9216+t}function Tk(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function vk(e){return e>=64976&&e<=65007||OG.has(e)}var O;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(O||(O={}));const MG=65536;class FG{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=MG,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:r,col:i,offset:s}=this,a=i+n,o=s+n;return{code:t,startLine:r,endLine:r,startCol:a,endCol:a,startOffset:o,endOffset:o}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(LG(n))return this.pos++,this._addGap(),DG(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,v.EOF;return this._err(O.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,v.EOF;const r=this.html.charCodeAt(n);return r===v.CARRIAGE_RETURN?v.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,v.EOF;let t=this.html.charCodeAt(this.pos);return t===v.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,v.LINE_FEED):t===v.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,yk(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===v.LINE_FEED||t===v.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){Tk(t)?this._err(O.controlCharacterInInputStream):vk(t)&&this._err(O.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var oe;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(oe||(oe={}));function bk(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const Ck=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),UG=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var Up;const BG=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),HG=(Up=String.fromCodePoint)!==null&&Up!==void 0?Up:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function jG(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=BG.get(e))!==null&&t!==void 0?t:e}var Tt;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Tt||(Tt={}));const zG=32;var Ti;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Ti||(Ti={}));function q0(e){return e>=Tt.ZERO&&e<=Tt.NINE}function WG(e){return e>=Tt.UPPER_A&&e<=Tt.UPPER_F||e>=Tt.LOWER_A&&e<=Tt.LOWER_F}function VG(e){return e>=Tt.UPPER_A&&e<=Tt.UPPER_Z||e>=Tt.LOWER_A&&e<=Tt.LOWER_Z||q0(e)}function $G(e){return e===Tt.EQUALS||VG(e)}var pt;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(pt||(pt={}));var Rr;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Rr||(Rr={}));class wk{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=pt.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Rr.Strict}startEntity(t){this.decodeMode=t,this.state=pt.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case pt.EntityStart:return t.charCodeAt(n)===Tt.NUM?(this.state=pt.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=pt.NamedEntity,this.stateNamedEntity(t,n));case pt.NumericStart:return this.stateNumericStart(t,n);case pt.NumericDecimal:return this.stateNumericDecimal(t,n);case pt.NumericHex:return this.stateNumericHex(t,n);case pt.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|zG)===Tt.LOWER_X?(this.state=pt.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=pt.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+parseInt(t.substr(n,s),i),this.consumed+=s}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(q0(i)||WG(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(q0(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Tt.SEMI)this.consumed+=1;else if(this.decodeMode===Rr.Strict)return 0;return this.emitCodePoint(jG(this.result),this.consumed),this.errors&&(t!==Tt.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&Ti.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const a=t.charCodeAt(n);if(this.treeIndex=YG(r,i,this.treeIndex+Math.max(1,s),a),this.treeIndex<0)return this.result===0||this.decodeMode===Rr.Attribute&&(s===0||$G(a))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&Ti.VALUE_LENGTH)>>14,s!==0){if(a===Tt.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==Rr.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&Ti.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~Ti.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case pt.NamedEntity:return this.result!==0&&(this.decodeMode!==Rr.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case pt.NumericDecimal:return this.emitNumericEntity(0,2);case pt.NumericHex:return this.emitNumericEntity(0,3);case pt.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case pt.EntityStart:return 0}}}function Ik(e){let t="";const n=new wk(e,r=>t+=HG(r));return function(i,s){let a=0,o=0;for(;(o=i.indexOf("&",o))>=0;){t+=i.slice(a,o),n.startEntity(s);const l=n.write(i,o+1);if(l<0){a=o+n.end();break}a=o+l,o=l===0?a+1:a}const u=t+i.slice(a);return t="",u}}function YG(e,t,n,r){const i=(t&Ti.BRANCH_LENGTH)>>7,s=t&Ti.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const u=r-s;return u<0||u>=i?-1:e[n+u]-1}let a=n,o=a+i-1;for(;a<=o;){const u=a+o>>>1,l=e[u];if(l<r)a=u+1;else if(l>r)o=u-1;else return e[u+i]}return-1}Ik(Ck);Ik(UG);var M;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(M||(M={}));var Is;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(Is||(Is={}));var Sn;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Sn||(Sn={}));var N;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(N||(N={}));var h;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(h||(h={}));const GG=new Map([[N.A,h.A],[N.ADDRESS,h.ADDRESS],[N.ANNOTATION_XML,h.ANNOTATION_XML],[N.APPLET,h.APPLET],[N.AREA,h.AREA],[N.ARTICLE,h.ARTICLE],[N.ASIDE,h.ASIDE],[N.B,h.B],[N.BASE,h.BASE],[N.BASEFONT,h.BASEFONT],[N.BGSOUND,h.BGSOUND],[N.BIG,h.BIG],[N.BLOCKQUOTE,h.BLOCKQUOTE],[N.BODY,h.BODY],[N.BR,h.BR],[N.BUTTON,h.BUTTON],[N.CAPTION,h.CAPTION],[N.CENTER,h.CENTER],[N.CODE,h.CODE],[N.COL,h.COL],[N.COLGROUP,h.COLGROUP],[N.DD,h.DD],[N.DESC,h.DESC],[N.DETAILS,h.DETAILS],[N.DIALOG,h.DIALOG],[N.DIR,h.DIR],[N.DIV,h.DIV],[N.DL,h.DL],[N.DT,h.DT],[N.EM,h.EM],[N.EMBED,h.EMBED],[N.FIELDSET,h.FIELDSET],[N.FIGCAPTION,h.FIGCAPTION],[N.FIGURE,h.FIGURE],[N.FONT,h.FONT],[N.FOOTER,h.FOOTER],[N.FOREIGN_OBJECT,h.FOREIGN_OBJECT],[N.FORM,h.FORM],[N.FRAME,h.FRAME],[N.FRAMESET,h.FRAMESET],[N.H1,h.H1],[N.H2,h.H2],[N.H3,h.H3],[N.H4,h.H4],[N.H5,h.H5],[N.H6,h.H6],[N.HEAD,h.HEAD],[N.HEADER,h.HEADER],[N.HGROUP,h.HGROUP],[N.HR,h.HR],[N.HTML,h.HTML],[N.I,h.I],[N.IMG,h.IMG],[N.IMAGE,h.IMAGE],[N.INPUT,h.INPUT],[N.IFRAME,h.IFRAME],[N.KEYGEN,h.KEYGEN],[N.LABEL,h.LABEL],[N.LI,h.LI],[N.LINK,h.LINK],[N.LISTING,h.LISTING],[N.MAIN,h.MAIN],[N.MALIGNMARK,h.MALIGNMARK],[N.MARQUEE,h.MARQUEE],[N.MATH,h.MATH],[N.MENU,h.MENU],[N.META,h.META],[N.MGLYPH,h.MGLYPH],[N.MI,h.MI],[N.MO,h.MO],[N.MN,h.MN],[N.MS,h.MS],[N.MTEXT,h.MTEXT],[N.NAV,h.NAV],[N.NOBR,h.NOBR],[N.NOFRAMES,h.NOFRAMES],[N.NOEMBED,h.NOEMBED],[N.NOSCRIPT,h.NOSCRIPT],[N.OBJECT,h.OBJECT],[N.OL,h.OL],[N.OPTGROUP,h.OPTGROUP],[N.OPTION,h.OPTION],[N.P,h.P],[N.PARAM,h.PARAM],[N.PLAINTEXT,h.PLAINTEXT],[N.PRE,h.PRE],[N.RB,h.RB],[N.RP,h.RP],[N.RT,h.RT],[N.RTC,h.RTC],[N.RUBY,h.RUBY],[N.S,h.S],[N.SCRIPT,h.SCRIPT],[N.SEARCH,h.SEARCH],[N.SECTION,h.SECTION],[N.SELECT,h.SELECT],[N.SOURCE,h.SOURCE],[N.SMALL,h.SMALL],[N.SPAN,h.SPAN],[N.STRIKE,h.STRIKE],[N.STRONG,h.STRONG],[N.STYLE,h.STYLE],[N.SUB,h.SUB],[N.SUMMARY,h.SUMMARY],[N.SUP,h.SUP],[N.TABLE,h.TABLE],[N.TBODY,h.TBODY],[N.TEMPLATE,h.TEMPLATE],[N.TEXTAREA,h.TEXTAREA],[N.TFOOT,h.TFOOT],[N.TD,h.TD],[N.TH,h.TH],[N.THEAD,h.THEAD],[N.TITLE,h.TITLE],[N.TR,h.TR],[N.TRACK,h.TRACK],[N.TT,h.TT],[N.U,h.U],[N.UL,h.UL],[N.SVG,h.SVG],[N.VAR,h.VAR],[N.WBR,h.WBR],[N.XMP,h.XMP]]);function xo(e){var t;return(t=GG.get(e))!==null&&t!==void 0?t:h.UNKNOWN}const F=h,qG={[M.HTML]:new Set([F.ADDRESS,F.APPLET,F.AREA,F.ARTICLE,F.ASIDE,F.BASE,F.BASEFONT,F.BGSOUND,F.BLOCKQUOTE,F.BODY,F.BR,F.BUTTON,F.CAPTION,F.CENTER,F.COL,F.COLGROUP,F.DD,F.DETAILS,F.DIR,F.DIV,F.DL,F.DT,F.EMBED,F.FIELDSET,F.FIGCAPTION,F.FIGURE,F.FOOTER,F.FORM,F.FRAME,F.FRAMESET,F.H1,F.H2,F.H3,F.H4,F.H5,F.H6,F.HEAD,F.HEADER,F.HGROUP,F.HR,F.HTML,F.IFRAME,F.IMG,F.INPUT,F.LI,F.LINK,F.LISTING,F.MAIN,F.MARQUEE,F.MENU,F.META,F.NAV,F.NOEMBED,F.NOFRAMES,F.NOSCRIPT,F.OBJECT,F.OL,F.P,F.PARAM,F.PLAINTEXT,F.PRE,F.SCRIPT,F.SECTION,F.SELECT,F.SOURCE,F.STYLE,F.SUMMARY,F.TABLE,F.TBODY,F.TD,F.TEMPLATE,F.TEXTAREA,F.TFOOT,F.TH,F.THEAD,F.TITLE,F.TR,F.TRACK,F.UL,F.WBR,F.XMP]),[M.MATHML]:new Set([F.MI,F.MO,F.MN,F.MS,F.MTEXT,F.ANNOTATION_XML]),[M.SVG]:new Set([F.TITLE,F.FOREIGN_OBJECT,F.DESC]),[M.XLINK]:new Set,[M.XML]:new Set,[M.XMLNS]:new Set},K0=new Set([F.H1,F.H2,F.H3,F.H4,F.H5,F.H6]);N.STYLE,N.SCRIPT,N.XMP,N.IFRAME,N.NOEMBED,N.NOFRAMES,N.PLAINTEXT;var b;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(b||(b={}));const et={DATA:b.DATA,RCDATA:b.RCDATA,RAWTEXT:b.RAWTEXT,SCRIPT_DATA:b.SCRIPT_DATA,PLAINTEXT:b.PLAINTEXT,CDATA_SECTION:b.CDATA_SECTION};function KG(e){return e>=v.DIGIT_0&&e<=v.DIGIT_9}function uu(e){return e>=v.LATIN_CAPITAL_A&&e<=v.LATIN_CAPITAL_Z}function QG(e){return e>=v.LATIN_SMALL_A&&e<=v.LATIN_SMALL_Z}function ai(e){return QG(e)||uu(e)}function kv(e){return ai(e)||KG(e)}function Mc(e){return e+32}function Sk(e){return e===v.SPACE||e===v.LINE_FEED||e===v.TABULATION||e===v.FORM_FEED}function xv(e){return Sk(e)||e===v.SOLIDUS||e===v.GREATER_THAN_SIGN}function XG(e){return e===v.NULL?O.nullCharacterReference:e>1114111?O.characterReferenceOutsideUnicodeRange:yk(e)?O.surrogateCharacterReference:vk(e)?O.noncharacterCharacterReference:Tk(e)||e===v.CARRIAGE_RETURN?O.controlCharacterReference:null}class JG{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=b.DATA,this.returnState=b.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new FG(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new wk(Ck,(r,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(O.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(O.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const i=XG(r);i&&this._err(i,1)}}:void 0)}_err(t,n=0){var r,i;(i=(r=this.handler).onParseError)===null||i===void 0||i.call(r,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:oe.START_TAG,tagName:"",tagID:h.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:oe.END_TAG,tagName:"",tagID:h.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:oe.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:oe.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(bk(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(O.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=xo(t.tagName),t.type===oe.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(O.endTagWithAttributes),t.selfClosing&&this._err(O.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case oe.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case oe.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case oe.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:oe.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=Sk(t)?oe.WHITESPACE_CHARACTER:t===v.NULL?oe.NULL_CHARACTER:oe.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(oe.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=b.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Rr.Attribute:Rr.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===b.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===b.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===b.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case b.DATA:{this._stateData(t);break}case b.RCDATA:{this._stateRcdata(t);break}case b.RAWTEXT:{this._stateRawtext(t);break}case b.SCRIPT_DATA:{this._stateScriptData(t);break}case b.PLAINTEXT:{this._statePlaintext(t);break}case b.TAG_OPEN:{this._stateTagOpen(t);break}case b.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case b.TAG_NAME:{this._stateTagName(t);break}case b.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case b.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case b.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case b.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case b.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case b.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case b.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case b.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case b.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case b.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case b.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case b.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case b.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case b.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case b.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case b.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case b.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case b.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case b.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case b.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case b.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case b.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case b.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case b.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case b.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case b.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case b.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case b.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case b.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case b.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case b.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case b.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case b.BOGUS_COMMENT:{this._stateBogusComment(t);break}case b.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case b.COMMENT_START:{this._stateCommentStart(t);break}case b.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case b.COMMENT:{this._stateComment(t);break}case b.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case b.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case b.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case b.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case b.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case b.COMMENT_END:{this._stateCommentEnd(t);break}case b.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case b.DOCTYPE:{this._stateDoctype(t);break}case b.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case b.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case b.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case b.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case b.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case b.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case b.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case b.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case b.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case b.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case b.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case b.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case b.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case b.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case b.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case b.CDATA_SECTION:{this._stateCdataSection(t);break}case b.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case b.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case b.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case b.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case v.LESS_THAN_SIGN:{this.state=b.TAG_OPEN;break}case v.AMPERSAND:{this._startCharacterReference();break}case v.NULL:{this._err(O.unexpectedNullCharacter),this._emitCodePoint(t);break}case v.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case v.AMPERSAND:{this._startCharacterReference();break}case v.LESS_THAN_SIGN:{this.state=b.RCDATA_LESS_THAN_SIGN;break}case v.NULL:{this._err(O.unexpectedNullCharacter),this._emitChars(Be);break}case v.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case v.LESS_THAN_SIGN:{this.state=b.RAWTEXT_LESS_THAN_SIGN;break}case v.NULL:{this._err(O.unexpectedNullCharacter),this._emitChars(Be);break}case v.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case v.LESS_THAN_SIGN:{this.state=b.SCRIPT_DATA_LESS_THAN_SIGN;break}case v.NULL:{this._err(O.unexpectedNullCharacter),this._emitChars(Be);break}case v.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case v.NULL:{this._err(O.unexpectedNullCharacter),this._emitChars(Be);break}case v.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(ai(t))this._createStartTagToken(),this.state=b.TAG_NAME,this._stateTagName(t);else switch(t){case v.EXCLAMATION_MARK:{this.state=b.MARKUP_DECLARATION_OPEN;break}case v.SOLIDUS:{this.state=b.END_TAG_OPEN;break}case v.QUESTION_MARK:{this._err(O.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=b.BOGUS_COMMENT,this._stateBogusComment(t);break}case v.EOF:{this._err(O.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(O.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=b.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(ai(t))this._createEndTagToken(),this.state=b.TAG_NAME,this._stateTagName(t);else switch(t){case v.GREATER_THAN_SIGN:{this._err(O.missingEndTagName),this.state=b.DATA;break}case v.EOF:{this._err(O.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(O.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=b.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:{this.state=b.BEFORE_ATTRIBUTE_NAME;break}case v.SOLIDUS:{this.state=b.SELF_CLOSING_START_TAG;break}case v.GREATER_THAN_SIGN:{this.state=b.DATA,this.emitCurrentTagToken();break}case v.NULL:{this._err(O.unexpectedNullCharacter),n.tagName+=Be;break}case v.EOF:{this._err(O.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(uu(t)?Mc(t):t)}}_stateRcdataLessThanSign(t){t===v.SOLIDUS?this.state=b.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=b.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){ai(t)?(this.state=b.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=b.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=b.BEFORE_ATTRIBUTE_NAME,!1;case v.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=b.SELF_CLOSING_START_TAG,!1;case v.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=b.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=b.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===v.SOLIDUS?this.state=b.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=b.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){ai(t)?(this.state=b.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=b.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=b.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case v.SOLIDUS:{this.state=b.SCRIPT_DATA_END_TAG_OPEN;break}case v.EXCLAMATION_MARK:{this.state=b.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=b.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){ai(t)?(this.state=b.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=b.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=b.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===v.HYPHEN_MINUS?(this.state=b.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=b.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===v.HYPHEN_MINUS?(this.state=b.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=b.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case v.HYPHEN_MINUS:{this.state=b.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case v.LESS_THAN_SIGN:{this.state=b.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case v.NULL:{this._err(O.unexpectedNullCharacter),this._emitChars(Be);break}case v.EOF:{this._err(O.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case v.HYPHEN_MINUS:{this.state=b.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case v.LESS_THAN_SIGN:{this.state=b.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case v.NULL:{this._err(O.unexpectedNullCharacter),this.state=b.SCRIPT_DATA_ESCAPED,this._emitChars(Be);break}case v.EOF:{this._err(O.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=b.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case v.HYPHEN_MINUS:{this._emitChars("-");break}case v.LESS_THAN_SIGN:{this.state=b.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case v.GREATER_THAN_SIGN:{this.state=b.SCRIPT_DATA,this._emitChars(">");break}case v.NULL:{this._err(O.unexpectedNullCharacter),this.state=b.SCRIPT_DATA_ESCAPED,this._emitChars(Be);break}case v.EOF:{this._err(O.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=b.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===v.SOLIDUS?this.state=b.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:ai(t)?(this._emitChars("<"),this.state=b.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=b.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){ai(t)?(this.state=b.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=b.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=b.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(Wt.SCRIPT,!1)&&xv(this.preprocessor.peek(Wt.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Wt.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=b.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case v.HYPHEN_MINUS:{this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case v.LESS_THAN_SIGN:{this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case v.NULL:{this._err(O.unexpectedNullCharacter),this._emitChars(Be);break}case v.EOF:{this._err(O.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case v.HYPHEN_MINUS:{this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case v.LESS_THAN_SIGN:{this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case v.NULL:{this._err(O.unexpectedNullCharacter),this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Be);break}case v.EOF:{this._err(O.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case v.HYPHEN_MINUS:{this._emitChars("-");break}case v.LESS_THAN_SIGN:{this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case v.GREATER_THAN_SIGN:{this.state=b.SCRIPT_DATA,this._emitChars(">");break}case v.NULL:{this._err(O.unexpectedNullCharacter),this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Be);break}case v.EOF:{this._err(O.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===v.SOLIDUS?(this.state=b.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(Wt.SCRIPT,!1)&&xv(this.preprocessor.peek(Wt.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Wt.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=b.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.SOLIDUS:case v.GREATER_THAN_SIGN:case v.EOF:{this.state=b.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case v.EQUALS_SIGN:{this._err(O.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=b.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=b.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:case v.SOLIDUS:case v.GREATER_THAN_SIGN:case v.EOF:{this._leaveAttrName(),this.state=b.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case v.EQUALS_SIGN:{this._leaveAttrName(),this.state=b.BEFORE_ATTRIBUTE_VALUE;break}case v.QUOTATION_MARK:case v.APOSTROPHE:case v.LESS_THAN_SIGN:{this._err(O.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case v.NULL:{this._err(O.unexpectedNullCharacter),this.currentAttr.name+=Be;break}default:this.currentAttr.name+=String.fromCodePoint(uu(t)?Mc(t):t)}}_stateAfterAttributeName(t){switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.SOLIDUS:{this.state=b.SELF_CLOSING_START_TAG;break}case v.EQUALS_SIGN:{this.state=b.BEFORE_ATTRIBUTE_VALUE;break}case v.GREATER_THAN_SIGN:{this.state=b.DATA,this.emitCurrentTagToken();break}case v.EOF:{this._err(O.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=b.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.QUOTATION_MARK:{this.state=b.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case v.APOSTROPHE:{this.state=b.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case v.GREATER_THAN_SIGN:{this._err(O.missingAttributeValue),this.state=b.DATA,this.emitCurrentTagToken();break}default:this.state=b.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case v.QUOTATION_MARK:{this.state=b.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case v.AMPERSAND:{this._startCharacterReference();break}case v.NULL:{this._err(O.unexpectedNullCharacter),this.currentAttr.value+=Be;break}case v.EOF:{this._err(O.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case v.APOSTROPHE:{this.state=b.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case v.AMPERSAND:{this._startCharacterReference();break}case v.NULL:{this._err(O.unexpectedNullCharacter),this.currentAttr.value+=Be;break}case v.EOF:{this._err(O.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:{this._leaveAttrValue(),this.state=b.BEFORE_ATTRIBUTE_NAME;break}case v.AMPERSAND:{this._startCharacterReference();break}case v.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=b.DATA,this.emitCurrentTagToken();break}case v.NULL:{this._err(O.unexpectedNullCharacter),this.currentAttr.value+=Be;break}case v.QUOTATION_MARK:case v.APOSTROPHE:case v.LESS_THAN_SIGN:case v.EQUALS_SIGN:case v.GRAVE_ACCENT:{this._err(O.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case v.EOF:{this._err(O.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:{this._leaveAttrValue(),this.state=b.BEFORE_ATTRIBUTE_NAME;break}case v.SOLIDUS:{this._leaveAttrValue(),this.state=b.SELF_CLOSING_START_TAG;break}case v.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=b.DATA,this.emitCurrentTagToken();break}case v.EOF:{this._err(O.eofInTag),this._emitEOFToken();break}default:this._err(O.missingWhitespaceBetweenAttributes),this.state=b.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case v.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=b.DATA,this.emitCurrentTagToken();break}case v.EOF:{this._err(O.eofInTag),this._emitEOFToken();break}default:this._err(O.unexpectedSolidusInTag),this.state=b.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case v.GREATER_THAN_SIGN:{this.state=b.DATA,this.emitCurrentComment(n);break}case v.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case v.NULL:{this._err(O.unexpectedNullCharacter),n.data+=Be;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Wt.DASH_DASH,!0)?(this._createCommentToken(Wt.DASH_DASH.length+1),this.state=b.COMMENT_START):this._consumeSequenceIfMatch(Wt.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Wt.DOCTYPE.length+1),this.state=b.DOCTYPE):this._consumeSequenceIfMatch(Wt.CDATA_START,!0)?this.inForeignNode?this.state=b.CDATA_SECTION:(this._err(O.cdataInHtmlContent),this._createCommentToken(Wt.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=b.BOGUS_COMMENT):this._ensureHibernation()||(this._err(O.incorrectlyOpenedComment),this._createCommentToken(2),this.state=b.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case v.HYPHEN_MINUS:{this.state=b.COMMENT_START_DASH;break}case v.GREATER_THAN_SIGN:{this._err(O.abruptClosingOfEmptyComment),this.state=b.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=b.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case v.HYPHEN_MINUS:{this.state=b.COMMENT_END;break}case v.GREATER_THAN_SIGN:{this._err(O.abruptClosingOfEmptyComment),this.state=b.DATA,this.emitCurrentComment(n);break}case v.EOF:{this._err(O.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=b.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case v.HYPHEN_MINUS:{this.state=b.COMMENT_END_DASH;break}case v.LESS_THAN_SIGN:{n.data+="<",this.state=b.COMMENT_LESS_THAN_SIGN;break}case v.NULL:{this._err(O.unexpectedNullCharacter),n.data+=Be;break}case v.EOF:{this._err(O.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case v.EXCLAMATION_MARK:{n.data+="!",this.state=b.COMMENT_LESS_THAN_SIGN_BANG;break}case v.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=b.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===v.HYPHEN_MINUS?this.state=b.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=b.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===v.HYPHEN_MINUS?this.state=b.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=b.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==v.GREATER_THAN_SIGN&&t!==v.EOF&&this._err(O.nestedComment),this.state=b.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case v.HYPHEN_MINUS:{this.state=b.COMMENT_END;break}case v.EOF:{this._err(O.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=b.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case v.GREATER_THAN_SIGN:{this.state=b.DATA,this.emitCurrentComment(n);break}case v.EXCLAMATION_MARK:{this.state=b.COMMENT_END_BANG;break}case v.HYPHEN_MINUS:{n.data+="-";break}case v.EOF:{this._err(O.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=b.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case v.HYPHEN_MINUS:{n.data+="--!",this.state=b.COMMENT_END_DASH;break}case v.GREATER_THAN_SIGN:{this._err(O.incorrectlyClosedComment),this.state=b.DATA,this.emitCurrentComment(n);break}case v.EOF:{this._err(O.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=b.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:{this.state=b.BEFORE_DOCTYPE_NAME;break}case v.GREATER_THAN_SIGN:{this.state=b.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case v.EOF:{this._err(O.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(O.missingWhitespaceBeforeDoctypeName),this.state=b.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(uu(t))this._createDoctypeToken(String.fromCharCode(Mc(t))),this.state=b.DOCTYPE_NAME;else switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.NULL:{this._err(O.unexpectedNullCharacter),this._createDoctypeToken(Be),this.state=b.DOCTYPE_NAME;break}case v.GREATER_THAN_SIGN:{this._err(O.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=b.DATA;break}case v.EOF:{this._err(O.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=b.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:{this.state=b.AFTER_DOCTYPE_NAME;break}case v.GREATER_THAN_SIGN:{this.state=b.DATA,this.emitCurrentDoctype(n);break}case v.NULL:{this._err(O.unexpectedNullCharacter),n.name+=Be;break}case v.EOF:{this._err(O.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(uu(t)?Mc(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.GREATER_THAN_SIGN:{this.state=b.DATA,this.emitCurrentDoctype(n);break}case v.EOF:{this._err(O.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Wt.PUBLIC,!1)?this.state=b.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Wt.SYSTEM,!1)?this.state=b.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(O.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=b.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:{this.state=b.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case v.QUOTATION_MARK:{this._err(O.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=b.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case v.APOSTROPHE:{this._err(O.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=b.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case v.GREATER_THAN_SIGN:{this._err(O.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=b.DATA,this.emitCurrentDoctype(n);break}case v.EOF:{this._err(O.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(O.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=b.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.QUOTATION_MARK:{n.publicId="",this.state=b.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case v.APOSTROPHE:{n.publicId="",this.state=b.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case v.GREATER_THAN_SIGN:{this._err(O.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=b.DATA,this.emitCurrentDoctype(n);break}case v.EOF:{this._err(O.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(O.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=b.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case v.QUOTATION_MARK:{this.state=b.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case v.NULL:{this._err(O.unexpectedNullCharacter),n.publicId+=Be;break}case v.GREATER_THAN_SIGN:{this._err(O.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=b.DATA;break}case v.EOF:{this._err(O.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case v.APOSTROPHE:{this.state=b.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case v.NULL:{this._err(O.unexpectedNullCharacter),n.publicId+=Be;break}case v.GREATER_THAN_SIGN:{this._err(O.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=b.DATA;break}case v.EOF:{this._err(O.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:{this.state=b.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case v.GREATER_THAN_SIGN:{this.state=b.DATA,this.emitCurrentDoctype(n);break}case v.QUOTATION_MARK:{this._err(O.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=b.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case v.APOSTROPHE:{this._err(O.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=b.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case v.EOF:{this._err(O.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(O.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=b.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=b.DATA;break}case v.QUOTATION_MARK:{n.systemId="",this.state=b.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case v.APOSTROPHE:{n.systemId="",this.state=b.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case v.EOF:{this._err(O.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(O.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=b.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:{this.state=b.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case v.QUOTATION_MARK:{this._err(O.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=b.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case v.APOSTROPHE:{this._err(O.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=b.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case v.GREATER_THAN_SIGN:{this._err(O.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=b.DATA,this.emitCurrentDoctype(n);break}case v.EOF:{this._err(O.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(O.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=b.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.QUOTATION_MARK:{n.systemId="",this.state=b.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case v.APOSTROPHE:{n.systemId="",this.state=b.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case v.GREATER_THAN_SIGN:{this._err(O.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=b.DATA,this.emitCurrentDoctype(n);break}case v.EOF:{this._err(O.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(O.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=b.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case v.QUOTATION_MARK:{this.state=b.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case v.NULL:{this._err(O.unexpectedNullCharacter),n.systemId+=Be;break}case v.GREATER_THAN_SIGN:{this._err(O.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=b.DATA;break}case v.EOF:{this._err(O.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case v.APOSTROPHE:{this.state=b.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case v.NULL:{this._err(O.unexpectedNullCharacter),n.systemId+=Be;break}case v.GREATER_THAN_SIGN:{this._err(O.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=b.DATA;break}case v.EOF:{this._err(O.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case v.SPACE:case v.LINE_FEED:case v.TABULATION:case v.FORM_FEED:break;case v.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=b.DATA;break}case v.EOF:{this._err(O.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(O.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=b.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case v.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=b.DATA;break}case v.NULL:{this._err(O.unexpectedNullCharacter);break}case v.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case v.RIGHT_SQUARE_BRACKET:{this.state=b.CDATA_SECTION_BRACKET;break}case v.EOF:{this._err(O.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===v.RIGHT_SQUARE_BRACKET?this.state=b.CDATA_SECTION_END:(this._emitChars("]"),this.state=b.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case v.GREATER_THAN_SIGN:{this.state=b.DATA;break}case v.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=b.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(v.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&kv(this.preprocessor.peek(1))?b.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){kv(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===v.SEMICOLON&&this._err(O.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const Ak=new Set([h.DD,h.DT,h.LI,h.OPTGROUP,h.OPTION,h.P,h.RB,h.RP,h.RT,h.RTC]),Nv=new Set([...Ak,h.CAPTION,h.COLGROUP,h.TBODY,h.TD,h.TFOOT,h.TH,h.THEAD,h.TR]),uh=new Set([h.APPLET,h.CAPTION,h.HTML,h.MARQUEE,h.OBJECT,h.TABLE,h.TD,h.TEMPLATE,h.TH]),ZG=new Set([...uh,h.OL,h.UL]),eq=new Set([...uh,h.BUTTON]),Rv=new Set([h.ANNOTATION_XML,h.MI,h.MN,h.MO,h.MS,h.MTEXT]),Pv=new Set([h.DESC,h.FOREIGN_OBJECT,h.TITLE]),tq=new Set([h.TR,h.TEMPLATE,h.HTML]),nq=new Set([h.TBODY,h.TFOOT,h.THEAD,h.TEMPLATE,h.HTML]),rq=new Set([h.TABLE,h.TEMPLATE,h.HTML]),iq=new Set([h.TD,h.TH]);class sq{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=h.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===h.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===M.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==M.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(n<0?0:n)}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(K0,M.HTML)}popUntilTableCellPopped(){this.popUntilPopped(iq,M.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(rq,M.HTML)}clearBackToTableBodyContext(){this.clearBackTo(nq,M.HTML)}clearBackToTableRowContext(){this.clearBackTo(tq,M.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===h.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===h.HTML}hasInDynamicScope(t,n){for(let r=this.stackTop;r>=0;r--){const i=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case M.HTML:{if(i===t)return!0;if(n.has(i))return!1;break}case M.SVG:{if(Pv.has(i))return!1;break}case M.MATHML:{if(Rv.has(i))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,uh)}hasInListItemScope(t){return this.hasInDynamicScope(t,ZG)}hasInButtonScope(t){return this.hasInDynamicScope(t,eq)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case M.HTML:{if(K0.has(n))return!0;if(uh.has(n))return!1;break}case M.SVG:{if(Pv.has(n))return!1;break}case M.MATHML:{if(Rv.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===M.HTML)switch(this.tagIDs[n]){case t:return!0;case h.TABLE:case h.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===M.HTML)switch(this.tagIDs[t]){case h.TBODY:case h.THEAD:case h.TFOOT:return!0;case h.TABLE:case h.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===M.HTML)switch(this.tagIDs[n]){case t:return!0;case h.OPTION:case h.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;Ak.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;Nv.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&Nv.has(this.currentTagId);)this.pop()}}const Bp=3;var ur;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(ur||(ur={}));const Ov={type:ur.Marker};class aq{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,s=this.treeAdapter.getTagName(t),a=this.treeAdapter.getNamespaceURI(t);for(let o=0;o<this.entries.length;o++){const u=this.entries[o];if(u.type===ur.Marker)break;const{element:l}=u;if(this.treeAdapter.getTagName(l)===s&&this.treeAdapter.getNamespaceURI(l)===a){const d=this.treeAdapter.getAttrList(l);d.length===i&&r.push({idx:o,attrs:d})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<Bp)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<Bp)return;const i=new Map(n.map(a=>[a.name,a.value]));let s=0;for(let a=0;a<r.length;a++){const o=r[a];o.attrs.every(u=>i.get(u.name)===u.value)&&(s+=1,s>=Bp&&this.entries.splice(o.idx,1))}}insertMarker(){this.entries.unshift(Ov)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:ur.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:ur.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(Ov);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===ur.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===ur.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===ur.Element&&n.element===t)}}const oi={createDocument(){return{nodeName:"#document",mode:Sn.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const s={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};oi.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(oi.isTextNode(n)){n.value+=t;return}}oi.appendChild(e,oi.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&oi.isTextNode(r)?r.value+=t:oi.insertBefore(e,oi.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},kk="html",oq="about:legacy-compat",uq="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",xk=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],lq=[...xk,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],cq=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),Nk=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],dq=[...Nk,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function Lv(e,t){return t.some(n=>e.startsWith(n))}function hq(e){return e.name===kk&&e.publicId===null&&(e.systemId===null||e.systemId===oq)}function fq(e){if(e.name!==kk)return Sn.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===uq)return Sn.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),cq.has(n))return Sn.QUIRKS;let r=t===null?lq:xk;if(Lv(n,r))return Sn.QUIRKS;if(r=t===null?Nk:dq,Lv(n,r))return Sn.LIMITED_QUIRKS}return Sn.NO_QUIRKS}const Dv={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},pq="definitionurl",mq="definitionURL",gq=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),_q=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:M.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:M.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:M.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:M.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:M.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:M.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:M.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:M.XML}],["xml:space",{prefix:"xml",name:"space",namespace:M.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:M.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:M.XMLNS}]]),Eq=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),yq=new Set([h.B,h.BIG,h.BLOCKQUOTE,h.BODY,h.BR,h.CENTER,h.CODE,h.DD,h.DIV,h.DL,h.DT,h.EM,h.EMBED,h.H1,h.H2,h.H3,h.H4,h.H5,h.H6,h.HEAD,h.HR,h.I,h.IMG,h.LI,h.LISTING,h.MENU,h.META,h.NOBR,h.OL,h.P,h.PRE,h.RUBY,h.S,h.SMALL,h.SPAN,h.STRONG,h.STRIKE,h.SUB,h.SUP,h.TABLE,h.TT,h.U,h.UL,h.VAR]);function Tq(e){const t=e.tagID;return t===h.FONT&&e.attrs.some(({name:r})=>r===Is.COLOR||r===Is.SIZE||r===Is.FACE)||yq.has(t)}function Rk(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===pq){e.attrs[t].name=mq;break}}function Pk(e){for(let t=0;t<e.attrs.length;t++){const n=gq.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function U_(e){for(let t=0;t<e.attrs.length;t++){const n=_q.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function vq(e){const t=Eq.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=xo(e.tagName))}function bq(e,t){return t===M.MATHML&&(e===h.MI||e===h.MO||e===h.MN||e===h.MS||e===h.MTEXT)}function Cq(e,t,n){if(t===M.MATHML&&e===h.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===Is.ENCODING){const i=n[r].value.toLowerCase();return i===Dv.TEXT_HTML||i===Dv.APPLICATION_XML}}return t===M.SVG&&(e===h.FOREIGN_OBJECT||e===h.DESC||e===h.TITLE)}function wq(e,t,n,r){return(!r||r===M.HTML)&&Cq(e,t,n)||(!r||r===M.MATHML)&&bq(e,t)}const Iq="hidden",Sq=8,Aq=3;var I;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(I||(I={}));const kq={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},Ok=new Set([h.TABLE,h.TBODY,h.TFOOT,h.THEAD,h.TR]),Mv={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:oi,onParseError:null};class Fv{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=I.INITIAL,this.originalInsertionMode=I.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...Mv,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new JG(this.options,this),this.activeFormattingElements=new aq(this.treeAdapter),this.fragmentContextID=r?xo(this.treeAdapter.getTagName(r)):h.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new sq(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...Mv,...n};t??(t=r.treeAdapter.createElement(N.TEMPLATE,M.HTML,[]));const i=r.treeAdapter.createElement("documentmock",M.HTML,[]),s=new this(r,i,t);return s.fragmentContextID===h.TEMPLATE&&s.tmplInsertionModeStack.unshift(I.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const s=(i=t.location)!==null&&i!==void 0?i:kq,a={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:r?s.startLine:s.endLine,endCol:r?s.startCol:s.endCol,endOffset:r?s.startOffset:s.endOffset};this.onParseError(a)}onItemPush(t,n,r){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let s,a;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,a=this.fragmentContextID):{current:s,currentTagId:a}=this.openElements,this._setContextModes(s,a)}}_setContextModes(t,n){const r=t===this.document||this.treeAdapter.getNamespaceURI(t)===M.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,M.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=I.TEXT}switchToPlaintextParsing(){this.insertionMode=I.TEXT,this.originalInsertionMode=I.IN_BODY,this.tokenizer.state=et.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===N.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==M.HTML))switch(this.fragmentContextID){case h.TITLE:case h.TEXTAREA:{this.tokenizer.state=et.RCDATA;break}case h.STYLE:case h.XMP:case h.IFRAME:case h.NOEMBED:case h.NOFRAMES:case h.NOSCRIPT:{this.tokenizer.state=et.RAWTEXT;break}case h.SCRIPT:{this.tokenizer.state=et.SCRIPT_DATA;break}case h.PLAINTEXT:{this.tokenizer.state=et.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const a=this.treeAdapter.getChildNodes(this.document).find(o=>this.treeAdapter.isDocumentTypeNode(o));a&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,M.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,M.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(N.HTML,M.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,h.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),s=r?i.lastIndexOf(r):i.length,a=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(a)){const{endLine:u,endCol:l,endOffset:d}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(a,{endLine:u,endCol:l,endOffset:d})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),s=n.type===oe.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===h.SVG&&this.treeAdapter.getTagName(n)===N.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===M.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===h.MGLYPH||t.tagID===h.MALIGNMARK)&&!this._isIntegrationPoint(r,n,M.HTML)}_processToken(t){switch(t.type){case oe.CHARACTER:{this.onCharacter(t);break}case oe.NULL_CHARACTER:{this.onNullCharacter(t);break}case oe.COMMENT:{this.onComment(t);break}case oe.DOCTYPE:{this.onDoctype(t);break}case oe.START_TAG:{this._processStartTag(t);break}case oe.END_TAG:{this.onEndTag(t);break}case oe.EOF:{this.onEof(t);break}case oe.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return wq(t,i,s,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===ur.Marker||this.openElements.contains(i.element)),r=n<0?t-1:n-1;for(let i=r;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=I.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(h.P),this.openElements.popUntilTagNamePopped(h.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case h.TR:{this.insertionMode=I.IN_ROW;return}case h.TBODY:case h.THEAD:case h.TFOOT:{this.insertionMode=I.IN_TABLE_BODY;return}case h.CAPTION:{this.insertionMode=I.IN_CAPTION;return}case h.COLGROUP:{this.insertionMode=I.IN_COLUMN_GROUP;return}case h.TABLE:{this.insertionMode=I.IN_TABLE;return}case h.BODY:{this.insertionMode=I.IN_BODY;return}case h.FRAMESET:{this.insertionMode=I.IN_FRAMESET;return}case h.SELECT:{this._resetInsertionModeForSelect(t);return}case h.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case h.HTML:{this.insertionMode=this.headElement?I.AFTER_HEAD:I.BEFORE_HEAD;return}case h.TD:case h.TH:{if(t>0){this.insertionMode=I.IN_CELL;return}break}case h.HEAD:{if(t>0){this.insertionMode=I.IN_HEAD;return}break}}this.insertionMode=I.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===h.TEMPLATE)break;if(r===h.TABLE){this.insertionMode=I.IN_SELECT_IN_TABLE;return}}this.insertionMode=I.IN_SELECT}_isElementCausesFosterParenting(t){return Ok.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case h.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===M.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case h.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return qG[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){iQ(this,t);return}switch(this.insertionMode){case I.INITIAL:{Xo(this,t);break}case I.BEFORE_HTML:{Ou(this,t);break}case I.BEFORE_HEAD:{Lu(this,t);break}case I.IN_HEAD:{Du(this,t);break}case I.IN_HEAD_NO_SCRIPT:{Mu(this,t);break}case I.AFTER_HEAD:{Fu(this,t);break}case I.IN_BODY:case I.IN_CAPTION:case I.IN_CELL:case I.IN_TEMPLATE:{Dk(this,t);break}case I.TEXT:case I.IN_SELECT:case I.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case I.IN_TABLE:case I.IN_TABLE_BODY:case I.IN_ROW:{Hp(this,t);break}case I.IN_TABLE_TEXT:{jk(this,t);break}case I.IN_COLUMN_GROUP:{lh(this,t);break}case I.AFTER_BODY:{ch(this,t);break}case I.AFTER_AFTER_BODY:{sd(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){rQ(this,t);return}switch(this.insertionMode){case I.INITIAL:{Xo(this,t);break}case I.BEFORE_HTML:{Ou(this,t);break}case I.BEFORE_HEAD:{Lu(this,t);break}case I.IN_HEAD:{Du(this,t);break}case I.IN_HEAD_NO_SCRIPT:{Mu(this,t);break}case I.AFTER_HEAD:{Fu(this,t);break}case I.TEXT:{this._insertCharacters(t);break}case I.IN_TABLE:case I.IN_TABLE_BODY:case I.IN_ROW:{Hp(this,t);break}case I.IN_COLUMN_GROUP:{lh(this,t);break}case I.AFTER_BODY:{ch(this,t);break}case I.AFTER_AFTER_BODY:{sd(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){Q0(this,t);return}switch(this.insertionMode){case I.INITIAL:case I.BEFORE_HTML:case I.BEFORE_HEAD:case I.IN_HEAD:case I.IN_HEAD_NO_SCRIPT:case I.AFTER_HEAD:case I.IN_BODY:case I.IN_TABLE:case I.IN_CAPTION:case I.IN_COLUMN_GROUP:case I.IN_TABLE_BODY:case I.IN_ROW:case I.IN_CELL:case I.IN_SELECT:case I.IN_SELECT_IN_TABLE:case I.IN_TEMPLATE:case I.IN_FRAMESET:case I.AFTER_FRAMESET:{Q0(this,t);break}case I.IN_TABLE_TEXT:{Jo(this,t);break}case I.AFTER_BODY:{Dq(this,t);break}case I.AFTER_AFTER_BODY:case I.AFTER_AFTER_FRAMESET:{Mq(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case I.INITIAL:{Fq(this,t);break}case I.BEFORE_HEAD:case I.IN_HEAD:case I.IN_HEAD_NO_SCRIPT:case I.AFTER_HEAD:{this._err(t,O.misplacedDoctype);break}case I.IN_TABLE_TEXT:{Jo(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,O.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?sQ(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case I.INITIAL:{Xo(this,t);break}case I.BEFORE_HTML:{Uq(this,t);break}case I.BEFORE_HEAD:{Hq(this,t);break}case I.IN_HEAD:{nr(this,t);break}case I.IN_HEAD_NO_SCRIPT:{Wq(this,t);break}case I.AFTER_HEAD:{$q(this,t);break}case I.IN_BODY:{Mt(this,t);break}case I.IN_TABLE:{uo(this,t);break}case I.IN_TABLE_TEXT:{Jo(this,t);break}case I.IN_CAPTION:{jK(this,t);break}case I.IN_COLUMN_GROUP:{j_(this,t);break}case I.IN_TABLE_BODY:{bf(this,t);break}case I.IN_ROW:{Cf(this,t);break}case I.IN_CELL:{VK(this,t);break}case I.IN_SELECT:{Vk(this,t);break}case I.IN_SELECT_IN_TABLE:{YK(this,t);break}case I.IN_TEMPLATE:{qK(this,t);break}case I.AFTER_BODY:{QK(this,t);break}case I.IN_FRAMESET:{XK(this,t);break}case I.AFTER_FRAMESET:{ZK(this,t);break}case I.AFTER_AFTER_BODY:{tQ(this,t);break}case I.AFTER_AFTER_FRAMESET:{nQ(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?aQ(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case I.INITIAL:{Xo(this,t);break}case I.BEFORE_HTML:{Bq(this,t);break}case I.BEFORE_HEAD:{jq(this,t);break}case I.IN_HEAD:{zq(this,t);break}case I.IN_HEAD_NO_SCRIPT:{Vq(this,t);break}case I.AFTER_HEAD:{Yq(this,t);break}case I.IN_BODY:{vf(this,t);break}case I.TEXT:{RK(this,t);break}case I.IN_TABLE:{Al(this,t);break}case I.IN_TABLE_TEXT:{Jo(this,t);break}case I.IN_CAPTION:{zK(this,t);break}case I.IN_COLUMN_GROUP:{WK(this,t);break}case I.IN_TABLE_BODY:{X0(this,t);break}case I.IN_ROW:{Wk(this,t);break}case I.IN_CELL:{$K(this,t);break}case I.IN_SELECT:{$k(this,t);break}case I.IN_SELECT_IN_TABLE:{GK(this,t);break}case I.IN_TEMPLATE:{KK(this,t);break}case I.AFTER_BODY:{Gk(this,t);break}case I.IN_FRAMESET:{JK(this,t);break}case I.AFTER_FRAMESET:{eQ(this,t);break}case I.AFTER_AFTER_BODY:{sd(this,t);break}}}onEof(t){switch(this.insertionMode){case I.INITIAL:{Xo(this,t);break}case I.BEFORE_HTML:{Ou(this,t);break}case I.BEFORE_HEAD:{Lu(this,t);break}case I.IN_HEAD:{Du(this,t);break}case I.IN_HEAD_NO_SCRIPT:{Mu(this,t);break}case I.AFTER_HEAD:{Fu(this,t);break}case I.IN_BODY:case I.IN_TABLE:case I.IN_CAPTION:case I.IN_COLUMN_GROUP:case I.IN_TABLE_BODY:case I.IN_ROW:case I.IN_CELL:case I.IN_SELECT:case I.IN_SELECT_IN_TABLE:{Bk(this,t);break}case I.TEXT:{PK(this,t);break}case I.IN_TABLE_TEXT:{Jo(this,t);break}case I.IN_TEMPLATE:{Yk(this,t);break}case I.AFTER_BODY:case I.IN_FRAMESET:case I.AFTER_FRAMESET:case I.AFTER_AFTER_BODY:case I.AFTER_AFTER_FRAMESET:{H_(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===v.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case I.IN_HEAD:case I.IN_HEAD_NO_SCRIPT:case I.AFTER_HEAD:case I.TEXT:case I.IN_COLUMN_GROUP:case I.IN_SELECT:case I.IN_SELECT_IN_TABLE:case I.IN_FRAMESET:case I.AFTER_FRAMESET:{this._insertCharacters(t);break}case I.IN_BODY:case I.IN_CAPTION:case I.IN_CELL:case I.IN_TEMPLATE:case I.AFTER_BODY:case I.AFTER_AFTER_BODY:case I.AFTER_AFTER_FRAMESET:{Lk(this,t);break}case I.IN_TABLE:case I.IN_TABLE_BODY:case I.IN_ROW:{Hp(this,t);break}case I.IN_TABLE_TEXT:{Hk(this,t);break}}}}function xq(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):Uk(e,t),n}function Nq(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function Rq(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let s=0,a=i;a!==n;s++,a=i){i=e.openElements.getCommonAncestor(a);const o=e.activeFormattingElements.getElementEntry(a),u=o&&s>=Aq;!o||u?(u&&e.activeFormattingElements.removeEntry(o),e.openElements.remove(a)):(a=Pq(e,o),r===t&&(e.activeFormattingElements.bookmark=o),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(a,r),r=a)}return r}function Pq(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function Oq(e,t,n){const r=e.treeAdapter.getTagName(t),i=xo(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const s=e.treeAdapter.getNamespaceURI(t);i===h.TEMPLATE&&s===M.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function Lq(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,s=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,s,i.tagID)}function B_(e,t){for(let n=0;n<Sq;n++){const r=xq(e,t);if(!r)break;const i=Nq(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const s=Rq(e,i,r.element),a=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(s),a&&Oq(e,a,s),Lq(e,i,r)}}function Q0(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function Dq(e,t){e._appendCommentNode(t,e.openElements.items[0])}function Mq(e,t){e._appendCommentNode(t,e.document)}function H_(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],a=e.treeAdapter.getNodeSourceCodeLocation(s);a&&!a.endTag&&e._setEndLocation(s,t)}}}}function Fq(e,t){e._setDocumentType(t);const n=t.forceQuirks?Sn.QUIRKS:fq(t);hq(t)||e._err(t,O.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=I.BEFORE_HTML}function Xo(e,t){e._err(t,O.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Sn.QUIRKS),e.insertionMode=I.BEFORE_HTML,e._processToken(t)}function Uq(e,t){t.tagID===h.HTML?(e._insertElement(t,M.HTML),e.insertionMode=I.BEFORE_HEAD):Ou(e,t)}function Bq(e,t){const n=t.tagID;(n===h.HTML||n===h.HEAD||n===h.BODY||n===h.BR)&&Ou(e,t)}function Ou(e,t){e._insertFakeRootElement(),e.insertionMode=I.BEFORE_HEAD,e._processToken(t)}function Hq(e,t){switch(t.tagID){case h.HTML:{Mt(e,t);break}case h.HEAD:{e._insertElement(t,M.HTML),e.headElement=e.openElements.current,e.insertionMode=I.IN_HEAD;break}default:Lu(e,t)}}function jq(e,t){const n=t.tagID;n===h.HEAD||n===h.BODY||n===h.HTML||n===h.BR?Lu(e,t):e._err(t,O.endTagWithoutMatchingOpenElement)}function Lu(e,t){e._insertFakeElement(N.HEAD,h.HEAD),e.headElement=e.openElements.current,e.insertionMode=I.IN_HEAD,e._processToken(t)}function nr(e,t){switch(t.tagID){case h.HTML:{Mt(e,t);break}case h.BASE:case h.BASEFONT:case h.BGSOUND:case h.LINK:case h.META:{e._appendElement(t,M.HTML),t.ackSelfClosing=!0;break}case h.TITLE:{e._switchToTextParsing(t,et.RCDATA);break}case h.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,et.RAWTEXT):(e._insertElement(t,M.HTML),e.insertionMode=I.IN_HEAD_NO_SCRIPT);break}case h.NOFRAMES:case h.STYLE:{e._switchToTextParsing(t,et.RAWTEXT);break}case h.SCRIPT:{e._switchToTextParsing(t,et.SCRIPT_DATA);break}case h.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=I.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(I.IN_TEMPLATE);break}case h.HEAD:{e._err(t,O.misplacedStartTagForHeadElement);break}default:Du(e,t)}}function zq(e,t){switch(t.tagID){case h.HEAD:{e.openElements.pop(),e.insertionMode=I.AFTER_HEAD;break}case h.BODY:case h.BR:case h.HTML:{Du(e,t);break}case h.TEMPLATE:{ea(e,t);break}default:e._err(t,O.endTagWithoutMatchingOpenElement)}}function ea(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==h.TEMPLATE&&e._err(t,O.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(h.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,O.endTagWithoutMatchingOpenElement)}function Du(e,t){e.openElements.pop(),e.insertionMode=I.AFTER_HEAD,e._processToken(t)}function Wq(e,t){switch(t.tagID){case h.HTML:{Mt(e,t);break}case h.BASEFONT:case h.BGSOUND:case h.HEAD:case h.LINK:case h.META:case h.NOFRAMES:case h.STYLE:{nr(e,t);break}case h.NOSCRIPT:{e._err(t,O.nestedNoscriptInHead);break}default:Mu(e,t)}}function Vq(e,t){switch(t.tagID){case h.NOSCRIPT:{e.openElements.pop(),e.insertionMode=I.IN_HEAD;break}case h.BR:{Mu(e,t);break}default:e._err(t,O.endTagWithoutMatchingOpenElement)}}function Mu(e,t){const n=t.type===oe.EOF?O.openElementsLeftAfterEof:O.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=I.IN_HEAD,e._processToken(t)}function $q(e,t){switch(t.tagID){case h.HTML:{Mt(e,t);break}case h.BODY:{e._insertElement(t,M.HTML),e.framesetOk=!1,e.insertionMode=I.IN_BODY;break}case h.FRAMESET:{e._insertElement(t,M.HTML),e.insertionMode=I.IN_FRAMESET;break}case h.BASE:case h.BASEFONT:case h.BGSOUND:case h.LINK:case h.META:case h.NOFRAMES:case h.SCRIPT:case h.STYLE:case h.TEMPLATE:case h.TITLE:{e._err(t,O.abandonedHeadElementChild),e.openElements.push(e.headElement,h.HEAD),nr(e,t),e.openElements.remove(e.headElement);break}case h.HEAD:{e._err(t,O.misplacedStartTagForHeadElement);break}default:Fu(e,t)}}function Yq(e,t){switch(t.tagID){case h.BODY:case h.HTML:case h.BR:{Fu(e,t);break}case h.TEMPLATE:{ea(e,t);break}default:e._err(t,O.endTagWithoutMatchingOpenElement)}}function Fu(e,t){e._insertFakeElement(N.BODY,h.BODY),e.insertionMode=I.IN_BODY,Tf(e,t)}function Tf(e,t){switch(t.type){case oe.CHARACTER:{Dk(e,t);break}case oe.WHITESPACE_CHARACTER:{Lk(e,t);break}case oe.COMMENT:{Q0(e,t);break}case oe.START_TAG:{Mt(e,t);break}case oe.END_TAG:{vf(e,t);break}case oe.EOF:{Bk(e,t);break}}}function Lk(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function Dk(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function Gq(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function qq(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function Kq(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,M.HTML),e.insertionMode=I.IN_FRAMESET)}function Qq(e,t){e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e._insertElement(t,M.HTML)}function Xq(e,t){e.openElements.hasInButtonScope(h.P)&&e._closePElement(),K0.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,M.HTML)}function Jq(e,t){e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e._insertElement(t,M.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function Zq(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e._insertElement(t,M.HTML),n||(e.formElement=e.openElements.current))}function eK(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===h.LI&&i===h.LI||(n===h.DD||n===h.DT)&&(i===h.DD||i===h.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==h.ADDRESS&&i!==h.DIV&&i!==h.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e._insertElement(t,M.HTML)}function tK(e,t){e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e._insertElement(t,M.HTML),e.tokenizer.state=et.PLAINTEXT}function nK(e,t){e.openElements.hasInScope(h.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(h.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,M.HTML),e.framesetOk=!1}function rK(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(N.A);n&&(B_(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,M.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function iK(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,M.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function sK(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(h.NOBR)&&(B_(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,M.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function aK(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,M.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function oK(e,t){e.treeAdapter.getDocumentMode(e.document)!==Sn.QUIRKS&&e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e._insertElement(t,M.HTML),e.framesetOk=!1,e.insertionMode=I.IN_TABLE}function Mk(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,M.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Fk(e){const t=bk(e,Is.TYPE);return t!=null&&t.toLowerCase()===Iq}function uK(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,M.HTML),Fk(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function lK(e,t){e._appendElement(t,M.HTML),t.ackSelfClosing=!0}function cK(e,t){e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e._appendElement(t,M.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function dK(e,t){t.tagName=N.IMG,t.tagID=h.IMG,Mk(e,t)}function hK(e,t){e._insertElement(t,M.HTML),e.skipNextNewLine=!0,e.tokenizer.state=et.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=I.TEXT}function fK(e,t){e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,et.RAWTEXT)}function pK(e,t){e.framesetOk=!1,e._switchToTextParsing(t,et.RAWTEXT)}function Uv(e,t){e._switchToTextParsing(t,et.RAWTEXT)}function mK(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,M.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===I.IN_TABLE||e.insertionMode===I.IN_CAPTION||e.insertionMode===I.IN_TABLE_BODY||e.insertionMode===I.IN_ROW||e.insertionMode===I.IN_CELL?I.IN_SELECT_IN_TABLE:I.IN_SELECT}function gK(e,t){e.openElements.currentTagId===h.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,M.HTML)}function _K(e,t){e.openElements.hasInScope(h.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,M.HTML)}function EK(e,t){e.openElements.hasInScope(h.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(h.RTC),e._insertElement(t,M.HTML)}function yK(e,t){e._reconstructActiveFormattingElements(),Rk(t),U_(t),t.selfClosing?e._appendElement(t,M.MATHML):e._insertElement(t,M.MATHML),t.ackSelfClosing=!0}function TK(e,t){e._reconstructActiveFormattingElements(),Pk(t),U_(t),t.selfClosing?e._appendElement(t,M.SVG):e._insertElement(t,M.SVG),t.ackSelfClosing=!0}function Bv(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,M.HTML)}function Mt(e,t){switch(t.tagID){case h.I:case h.S:case h.B:case h.U:case h.EM:case h.TT:case h.BIG:case h.CODE:case h.FONT:case h.SMALL:case h.STRIKE:case h.STRONG:{iK(e,t);break}case h.A:{rK(e,t);break}case h.H1:case h.H2:case h.H3:case h.H4:case h.H5:case h.H6:{Xq(e,t);break}case h.P:case h.DL:case h.OL:case h.UL:case h.DIV:case h.DIR:case h.NAV:case h.MAIN:case h.MENU:case h.ASIDE:case h.CENTER:case h.FIGURE:case h.FOOTER:case h.HEADER:case h.HGROUP:case h.DIALOG:case h.DETAILS:case h.ADDRESS:case h.ARTICLE:case h.SEARCH:case h.SECTION:case h.SUMMARY:case h.FIELDSET:case h.BLOCKQUOTE:case h.FIGCAPTION:{Qq(e,t);break}case h.LI:case h.DD:case h.DT:{eK(e,t);break}case h.BR:case h.IMG:case h.WBR:case h.AREA:case h.EMBED:case h.KEYGEN:{Mk(e,t);break}case h.HR:{cK(e,t);break}case h.RB:case h.RTC:{_K(e,t);break}case h.RT:case h.RP:{EK(e,t);break}case h.PRE:case h.LISTING:{Jq(e,t);break}case h.XMP:{fK(e,t);break}case h.SVG:{TK(e,t);break}case h.HTML:{Gq(e,t);break}case h.BASE:case h.LINK:case h.META:case h.STYLE:case h.TITLE:case h.SCRIPT:case h.BGSOUND:case h.BASEFONT:case h.TEMPLATE:{nr(e,t);break}case h.BODY:{qq(e,t);break}case h.FORM:{Zq(e,t);break}case h.NOBR:{sK(e,t);break}case h.MATH:{yK(e,t);break}case h.TABLE:{oK(e,t);break}case h.INPUT:{uK(e,t);break}case h.PARAM:case h.TRACK:case h.SOURCE:{lK(e,t);break}case h.IMAGE:{dK(e,t);break}case h.BUTTON:{nK(e,t);break}case h.APPLET:case h.OBJECT:case h.MARQUEE:{aK(e,t);break}case h.IFRAME:{pK(e,t);break}case h.SELECT:{mK(e,t);break}case h.OPTION:case h.OPTGROUP:{gK(e,t);break}case h.NOEMBED:case h.NOFRAMES:{Uv(e,t);break}case h.FRAMESET:{Kq(e,t);break}case h.TEXTAREA:{hK(e,t);break}case h.NOSCRIPT:{e.options.scriptingEnabled?Uv(e,t):Bv(e,t);break}case h.PLAINTEXT:{tK(e,t);break}case h.COL:case h.TH:case h.TD:case h.TR:case h.HEAD:case h.FRAME:case h.TBODY:case h.TFOOT:case h.THEAD:case h.CAPTION:case h.COLGROUP:break;default:Bv(e,t)}}function vK(e,t){if(e.openElements.hasInScope(h.BODY)&&(e.insertionMode=I.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function bK(e,t){e.openElements.hasInScope(h.BODY)&&(e.insertionMode=I.AFTER_BODY,Gk(e,t))}function CK(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function wK(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(h.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(h.FORM):n&&e.openElements.remove(n))}function IK(e){e.openElements.hasInButtonScope(h.P)||e._insertFakeElement(N.P,h.P),e._closePElement()}function SK(e){e.openElements.hasInListItemScope(h.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(h.LI),e.openElements.popUntilTagNamePopped(h.LI))}function AK(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function kK(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function xK(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function NK(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(N.BR,h.BR),e.openElements.pop(),e.framesetOk=!1}function Uk(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const s=e.openElements.items[i],a=e.openElements.tagIDs[i];if(r===a&&(r!==h.UNKNOWN||e.treeAdapter.getTagName(s)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(s,a))break}}function vf(e,t){switch(t.tagID){case h.A:case h.B:case h.I:case h.S:case h.U:case h.EM:case h.TT:case h.BIG:case h.CODE:case h.FONT:case h.NOBR:case h.SMALL:case h.STRIKE:case h.STRONG:{B_(e,t);break}case h.P:{IK(e);break}case h.DL:case h.UL:case h.OL:case h.DIR:case h.DIV:case h.NAV:case h.PRE:case h.MAIN:case h.MENU:case h.ASIDE:case h.BUTTON:case h.CENTER:case h.FIGURE:case h.FOOTER:case h.HEADER:case h.HGROUP:case h.DIALOG:case h.ADDRESS:case h.ARTICLE:case h.DETAILS:case h.SEARCH:case h.SECTION:case h.SUMMARY:case h.LISTING:case h.FIELDSET:case h.BLOCKQUOTE:case h.FIGCAPTION:{CK(e,t);break}case h.LI:{SK(e);break}case h.DD:case h.DT:{AK(e,t);break}case h.H1:case h.H2:case h.H3:case h.H4:case h.H5:case h.H6:{kK(e);break}case h.BR:{NK(e);break}case h.BODY:{vK(e,t);break}case h.HTML:{bK(e,t);break}case h.FORM:{wK(e);break}case h.APPLET:case h.OBJECT:case h.MARQUEE:{xK(e,t);break}case h.TEMPLATE:{ea(e,t);break}default:Uk(e,t)}}function Bk(e,t){e.tmplInsertionModeStack.length>0?Yk(e,t):H_(e,t)}function RK(e,t){var n;t.tagID===h.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function PK(e,t){e._err(t,O.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function Hp(e,t){if(Ok.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=I.IN_TABLE_TEXT,t.type){case oe.CHARACTER:{jk(e,t);break}case oe.WHITESPACE_CHARACTER:{Hk(e,t);break}}else uc(e,t)}function OK(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,M.HTML),e.insertionMode=I.IN_CAPTION}function LK(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,M.HTML),e.insertionMode=I.IN_COLUMN_GROUP}function DK(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(N.COLGROUP,h.COLGROUP),e.insertionMode=I.IN_COLUMN_GROUP,j_(e,t)}function MK(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,M.HTML),e.insertionMode=I.IN_TABLE_BODY}function FK(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(N.TBODY,h.TBODY),e.insertionMode=I.IN_TABLE_BODY,bf(e,t)}function UK(e,t){e.openElements.hasInTableScope(h.TABLE)&&(e.openElements.popUntilTagNamePopped(h.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function BK(e,t){Fk(t)?e._appendElement(t,M.HTML):uc(e,t),t.ackSelfClosing=!0}function HK(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,M.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function uo(e,t){switch(t.tagID){case h.TD:case h.TH:case h.TR:{FK(e,t);break}case h.STYLE:case h.SCRIPT:case h.TEMPLATE:{nr(e,t);break}case h.COL:{DK(e,t);break}case h.FORM:{HK(e,t);break}case h.TABLE:{UK(e,t);break}case h.TBODY:case h.TFOOT:case h.THEAD:{MK(e,t);break}case h.INPUT:{BK(e,t);break}case h.CAPTION:{OK(e,t);break}case h.COLGROUP:{LK(e,t);break}default:uc(e,t)}}function Al(e,t){switch(t.tagID){case h.TABLE:{e.openElements.hasInTableScope(h.TABLE)&&(e.openElements.popUntilTagNamePopped(h.TABLE),e._resetInsertionMode());break}case h.TEMPLATE:{ea(e,t);break}case h.BODY:case h.CAPTION:case h.COL:case h.COLGROUP:case h.HTML:case h.TBODY:case h.TD:case h.TFOOT:case h.TH:case h.THEAD:case h.TR:break;default:uc(e,t)}}function uc(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,Tf(e,t),e.fosterParentingEnabled=n}function Hk(e,t){e.pendingCharacterTokens.push(t)}function jk(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Jo(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)uc(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const zk=new Set([h.CAPTION,h.COL,h.COLGROUP,h.TBODY,h.TD,h.TFOOT,h.TH,h.THEAD,h.TR]);function jK(e,t){const n=t.tagID;zk.has(n)?e.openElements.hasInTableScope(h.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(h.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=I.IN_TABLE,uo(e,t)):Mt(e,t)}function zK(e,t){const n=t.tagID;switch(n){case h.CAPTION:case h.TABLE:{e.openElements.hasInTableScope(h.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(h.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=I.IN_TABLE,n===h.TABLE&&Al(e,t));break}case h.BODY:case h.COL:case h.COLGROUP:case h.HTML:case h.TBODY:case h.TD:case h.TFOOT:case h.TH:case h.THEAD:case h.TR:break;default:vf(e,t)}}function j_(e,t){switch(t.tagID){case h.HTML:{Mt(e,t);break}case h.COL:{e._appendElement(t,M.HTML),t.ackSelfClosing=!0;break}case h.TEMPLATE:{nr(e,t);break}default:lh(e,t)}}function WK(e,t){switch(t.tagID){case h.COLGROUP:{e.openElements.currentTagId===h.COLGROUP&&(e.openElements.pop(),e.insertionMode=I.IN_TABLE);break}case h.TEMPLATE:{ea(e,t);break}case h.COL:break;default:lh(e,t)}}function lh(e,t){e.openElements.currentTagId===h.COLGROUP&&(e.openElements.pop(),e.insertionMode=I.IN_TABLE,e._processToken(t))}function bf(e,t){switch(t.tagID){case h.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,M.HTML),e.insertionMode=I.IN_ROW;break}case h.TH:case h.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(N.TR,h.TR),e.insertionMode=I.IN_ROW,Cf(e,t);break}case h.CAPTION:case h.COL:case h.COLGROUP:case h.TBODY:case h.TFOOT:case h.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=I.IN_TABLE,uo(e,t));break}default:uo(e,t)}}function X0(e,t){const n=t.tagID;switch(t.tagID){case h.TBODY:case h.TFOOT:case h.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=I.IN_TABLE);break}case h.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=I.IN_TABLE,Al(e,t));break}case h.BODY:case h.CAPTION:case h.COL:case h.COLGROUP:case h.HTML:case h.TD:case h.TH:case h.TR:break;default:Al(e,t)}}function Cf(e,t){switch(t.tagID){case h.TH:case h.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,M.HTML),e.insertionMode=I.IN_CELL,e.activeFormattingElements.insertMarker();break}case h.CAPTION:case h.COL:case h.COLGROUP:case h.TBODY:case h.TFOOT:case h.THEAD:case h.TR:{e.openElements.hasInTableScope(h.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=I.IN_TABLE_BODY,bf(e,t));break}default:uo(e,t)}}function Wk(e,t){switch(t.tagID){case h.TR:{e.openElements.hasInTableScope(h.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=I.IN_TABLE_BODY);break}case h.TABLE:{e.openElements.hasInTableScope(h.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=I.IN_TABLE_BODY,X0(e,t));break}case h.TBODY:case h.TFOOT:case h.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(h.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=I.IN_TABLE_BODY,X0(e,t));break}case h.BODY:case h.CAPTION:case h.COL:case h.COLGROUP:case h.HTML:case h.TD:case h.TH:break;default:Al(e,t)}}function VK(e,t){const n=t.tagID;zk.has(n)?(e.openElements.hasInTableScope(h.TD)||e.openElements.hasInTableScope(h.TH))&&(e._closeTableCell(),Cf(e,t)):Mt(e,t)}function $K(e,t){const n=t.tagID;switch(n){case h.TD:case h.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=I.IN_ROW);break}case h.TABLE:case h.TBODY:case h.TFOOT:case h.THEAD:case h.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),Wk(e,t));break}case h.BODY:case h.CAPTION:case h.COL:case h.COLGROUP:case h.HTML:break;default:vf(e,t)}}function Vk(e,t){switch(t.tagID){case h.HTML:{Mt(e,t);break}case h.OPTION:{e.openElements.currentTagId===h.OPTION&&e.openElements.pop(),e._insertElement(t,M.HTML);break}case h.OPTGROUP:{e.openElements.currentTagId===h.OPTION&&e.openElements.pop(),e.openElements.currentTagId===h.OPTGROUP&&e.openElements.pop(),e._insertElement(t,M.HTML);break}case h.HR:{e.openElements.currentTagId===h.OPTION&&e.openElements.pop(),e.openElements.currentTagId===h.OPTGROUP&&e.openElements.pop(),e._appendElement(t,M.HTML),t.ackSelfClosing=!0;break}case h.INPUT:case h.KEYGEN:case h.TEXTAREA:case h.SELECT:{e.openElements.hasInSelectScope(h.SELECT)&&(e.openElements.popUntilTagNamePopped(h.SELECT),e._resetInsertionMode(),t.tagID!==h.SELECT&&e._processStartTag(t));break}case h.SCRIPT:case h.TEMPLATE:{nr(e,t);break}}}function $k(e,t){switch(t.tagID){case h.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===h.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===h.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===h.OPTGROUP&&e.openElements.pop();break}case h.OPTION:{e.openElements.currentTagId===h.OPTION&&e.openElements.pop();break}case h.SELECT:{e.openElements.hasInSelectScope(h.SELECT)&&(e.openElements.popUntilTagNamePopped(h.SELECT),e._resetInsertionMode());break}case h.TEMPLATE:{ea(e,t);break}}}function YK(e,t){const n=t.tagID;n===h.CAPTION||n===h.TABLE||n===h.TBODY||n===h.TFOOT||n===h.THEAD||n===h.TR||n===h.TD||n===h.TH?(e.openElements.popUntilTagNamePopped(h.SELECT),e._resetInsertionMode(),e._processStartTag(t)):Vk(e,t)}function GK(e,t){const n=t.tagID;n===h.CAPTION||n===h.TABLE||n===h.TBODY||n===h.TFOOT||n===h.THEAD||n===h.TR||n===h.TD||n===h.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(h.SELECT),e._resetInsertionMode(),e.onEndTag(t)):$k(e,t)}function qK(e,t){switch(t.tagID){case h.BASE:case h.BASEFONT:case h.BGSOUND:case h.LINK:case h.META:case h.NOFRAMES:case h.SCRIPT:case h.STYLE:case h.TEMPLATE:case h.TITLE:{nr(e,t);break}case h.CAPTION:case h.COLGROUP:case h.TBODY:case h.TFOOT:case h.THEAD:{e.tmplInsertionModeStack[0]=I.IN_TABLE,e.insertionMode=I.IN_TABLE,uo(e,t);break}case h.COL:{e.tmplInsertionModeStack[0]=I.IN_COLUMN_GROUP,e.insertionMode=I.IN_COLUMN_GROUP,j_(e,t);break}case h.TR:{e.tmplInsertionModeStack[0]=I.IN_TABLE_BODY,e.insertionMode=I.IN_TABLE_BODY,bf(e,t);break}case h.TD:case h.TH:{e.tmplInsertionModeStack[0]=I.IN_ROW,e.insertionMode=I.IN_ROW,Cf(e,t);break}default:e.tmplInsertionModeStack[0]=I.IN_BODY,e.insertionMode=I.IN_BODY,Mt(e,t)}}function KK(e,t){t.tagID===h.TEMPLATE&&ea(e,t)}function Yk(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(h.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):H_(e,t)}function QK(e,t){t.tagID===h.HTML?Mt(e,t):ch(e,t)}function Gk(e,t){var n;if(t.tagID===h.HTML){if(e.fragmentContext||(e.insertionMode=I.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===h.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else ch(e,t)}function ch(e,t){e.insertionMode=I.IN_BODY,Tf(e,t)}function XK(e,t){switch(t.tagID){case h.HTML:{Mt(e,t);break}case h.FRAMESET:{e._insertElement(t,M.HTML);break}case h.FRAME:{e._appendElement(t,M.HTML),t.ackSelfClosing=!0;break}case h.NOFRAMES:{nr(e,t);break}}}function JK(e,t){t.tagID===h.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==h.FRAMESET&&(e.insertionMode=I.AFTER_FRAMESET))}function ZK(e,t){switch(t.tagID){case h.HTML:{Mt(e,t);break}case h.NOFRAMES:{nr(e,t);break}}}function eQ(e,t){t.tagID===h.HTML&&(e.insertionMode=I.AFTER_AFTER_FRAMESET)}function tQ(e,t){t.tagID===h.HTML?Mt(e,t):sd(e,t)}function sd(e,t){e.insertionMode=I.IN_BODY,Tf(e,t)}function nQ(e,t){switch(t.tagID){case h.HTML:{Mt(e,t);break}case h.NOFRAMES:{nr(e,t);break}}}function rQ(e,t){t.chars=Be,e._insertCharacters(t)}function iQ(e,t){e._insertCharacters(t),e.framesetOk=!1}function qk(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==M.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function sQ(e,t){if(Tq(t))qk(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===M.MATHML?Rk(t):r===M.SVG&&(vq(t),Pk(t)),U_(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function aQ(e,t){if(t.tagID===h.P||t.tagID===h.BR){qk(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===M.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}N.AREA,N.BASE,N.BASEFONT,N.BGSOUND,N.BR,N.COL,N.EMBED,N.FRAME,N.HR,N.IMG,N.INPUT,N.KEYGEN,N.LINK,N.META,N.PARAM,N.SOURCE,N.TRACK,N.WBR;const oQ=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,uQ=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),Hv={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function Kk(e,t){const n=EQ(e),r=HA("type",{handlers:{root:lQ,element:cQ,text:dQ,comment:Xk,doctype:hQ,raw:pQ},unknown:mQ}),i={parser:n?new Fv(Hv):Fv.getFragmentParser(void 0,Hv),handle(o){r(o,i)},stitches:!1,options:t||{}};r(e,i),No(i,Ir());const s=n?i.parser.document:i.parser.getFragment(),a=lG(s,{file:i.options.file});return i.stitches&&yf(a,"comment",function(o,u,l){const d=o;if(d.value.stitch&&l&&u!==void 0){const c=l.children;return c[u]=d.value.stitch,u}}),a.type==="root"&&a.children.length===1&&a.children[0].type===e.type?a.children[0]:a}function Qk(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function lQ(e,t){Qk(e.children,t)}function cQ(e,t){gQ(e,t),Qk(e.children,t),_Q(e,t)}function dQ(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const n={type:oe.CHARACTER,chars:e.value,location:lc(e)};No(t,Ir(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function hQ(e,t){const n={type:oe.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:lc(e)};No(t,Ir(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function fQ(e,t){t.stitches=!0;const n=yQ(e);if("children"in e&&"children"in n){const r=Kk({type:"root",children:e.children},t.options);n.children=r.children}Xk({type:"comment",value:{stitch:n}},t)}function Xk(e,t){const n=e.value,r={type:oe.COMMENT,data:n,location:lc(e)};No(t,Ir(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function pQ(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,Jk(t,Ir(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(oQ,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function mQ(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))fQ(n,t);else{let r="";throw uQ.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function No(e,t){Jk(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=et.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function Jk(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function gQ(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===et.PLAINTEXT)return;No(t,Ir(e));const r=t.parser.openElements.current;let i="namespaceURI"in r?r.namespaceURI:_s.html;i===_s.html&&n==="svg"&&(i=_s.svg);const s=wG({...e,children:[]},{space:i===_s.svg?"svg":"html"}),a={type:oe.START_TAG,tagName:n,tagID:xo(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in s?s.attrs:[],location:lc(e)};t.parser.currentToken=a,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n}function _Q(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&PG.includes(n)||t.parser.tokenizer.state===et.PLAINTEXT)return;No(t,ff(e));const r={type:oe.END_TAG,tagName:n,tagID:xo(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:lc(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===et.RCDATA||t.parser.tokenizer.state===et.RAWTEXT||t.parser.tokenizer.state===et.SCRIPT_DATA)&&(t.parser.tokenizer.state=et.DATA)}function EQ(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function lc(e){const t=Ir(e)||{line:void 0,column:void 0,offset:void 0},n=ff(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function yQ(e){return"children"in e?oo({...e,children:[]}):oo(e)}function TQ(e){return function(t,n){return Kk(t,{...e,file:n})}}function vQ({message:e,messagePath:t,history:n,setLoading:r,setHistory:i}){const[s,a]=R.useState(""),[o,u]=R.useState(!1),[l]=R.useState(tt.find(d=>d.symbole===window.location.pathname.at(6)).name.toUpperCase());return R.useEffect(()=>{var d;if(((d=e==null?void 0:e.file)==null?void 0:d.length)>0){if(!e.file[0])return;const c=new Image;c.src=e.file[0],c.onload=()=>u(!0),c.onerror=()=>u(!1)}else u(!1)},[e.file]),R.useEffect(()=>{(async()=>{const c=await Xs(),f=e.author==="ai"?c.length:8192;if(e.loading===!0){const p=e.text.split(" ").slice(0,f),T=2e3/p.length;let w=0;a("");const _=setInterval(()=>{const E=p.slice(0,w+1).join(" ");if(a(E),w++,w>=p.length){clearInterval(_);const y=tt.find(L=>L.symbole===window.location.pathname.at(6)).name.toUpperCase(),k=`chats/${le.currentUser.uid}/${y}/${t}/${e.key}`;Te.ref(k).update({loading:!1})}},T);return()=>clearInterval(_)}else a(e.text.slice(0,f))})()},[e,t]),m.jsxs("div",{className:`message${(e==null?void 0:e.author)==="user"?" author":""}${(e==null?void 0:e.invalid)===!0?" invalid":""}`,children:[m.jsx("div",{className:"leftside",children:m.jsx("img",{src:rc,alt:"logo of user"})}),m.jsxs("div",{className:"rightside",children:[m.jsxs("div",{className:"top",children:[o?m.jsxs("div",{className:"images",children:[e.file.slice(0,4).map((d,c)=>m.jsx("img",{src:d,alt:"Message file"},c)),e.file.length>4?m.jsxs("div",{className:"count",children:["+",e.file.length-4]}):null]}):null,e.text.startsWith("data:image")?m.jsx("img",{src:e.text,alt:"Embedded image"}):(e==null?void 0:e.author)==="user"?m.jsx("div",{className:"message-content",children:m.jsx("p",{style:{whiteSpace:"pre-line"},children:s})}):m.jsx("div",{className:"message-content",children:m.jsx(BV,{children:s,remarkPlugins:[JY],rehypePlugins:[TQ],components:{ul:({node:d,...c})=>m.jsx("ul",{style:{listStyleType:"none",paddingLeft:"1em"},...c}),li:({node:d,...c})=>m.jsx("li",{style:{fontSize:"0.9em"},children:c.children}),code:({node:d,inline:c,className:f,children:p,...g})=>m.jsx("code",{style:{padding:"2px 4px",borderRadius:"4px"},...g,children:p}),table:({node:d,...c})=>m.jsx("table",{style:{borderCollapse:"collapse",width:"100%"},...c}),th:({node:d,...c})=>m.jsx("th",{style:{border:"1px solid #ddd",padding:"8px"},...c}),td:({node:d,...c})=>m.jsx("td",{style:{border:"1px solid #ddd",padding:"8px"},...c})}})})]}),m.jsxs("div",{className:"bottom",children:[l!=="ALLY-IMAGINE"?m.jsx("button",{onClick:()=>bH(e,n,r,i),children:m.jsx(he,{icon:Z6})}):null,m.jsx("button",{onClick:()=>vH(e.text),children:m.jsx(he,{icon:cR})})]})]})]})}function bQ(e,t,n){const r=tt.find(s=>s.symbole===window.location.pathname.at(6)).name.toUpperCase(),i=Te.ref(`chats/${le.currentUser.uid}/${r}/${t}/`);return new Promise((s,a)=>{i.on("value",o=>{if(!o.exists()){s("back");return}const u=[],l=[];o.forEach(d=>{const c={text:d.val().message,date:d.val().time,author:d.val().author,loading:d.val().loading||!1,username:d.val().username,file:d.val().file||null,invalid:d.val().invalid,key:d.key};if(!ou(d.val().message)&&d.val().message!==O0){const f={role:d.val().author==="user"?"user":"model",parts:[{text:d.val().message}]};l.push(f)}u.push(c)}),e(u),n(l),s("success")})})}const CQ=e=>{Te.ref(`users/${le.currentUser.uid}/`).update({opinion:e})};function wQ(){const e=[{text:"I love it!",emoji:G6},{text:"Pretty good",emoji:pR},{text:"It's okay",emoji:aR},{text:"Could be better",emoji:nR},{text:"Not great",emoji:TR},{text:"Needs work",emoji:gR}],[t,n]=R.useState("");function r({opinion:i}){return m.jsxs("button",{onClick:()=>{CQ(i.text),n(i.text)},children:[m.jsx(he,{icon:i.emoji})," ",i.text]})}return t===""&&m.jsxs("div",{className:"message",children:[m.jsx("div",{className:"leftside",children:m.jsx("img",{src:rc,alt:"logo of user"})}),m.jsx("div",{className:"rightside",children:m.jsxs("div",{className:"top",children:[m.jsx("p",{children:"Help us develop, give your own opinion about us"}),m.jsx("div",{className:"feedback",children:m.jsx("div",{className:"feedback_buttons",children:e.map((i,s)=>m.jsx(r,{opinion:i},s))})})]})})]})}function IQ({history:e,setMessage:t,message:n}){const[r,i]=R.useState([]);R.useEffect(()=>{if(!e)return;(async()=>{const o=await KB(e);i(Array.isArray(o)?o:[])})()},[e]);function s({suggestion:a}){return m.jsxs("div",{className:"suggestion",onClick:()=>t(a.trim()),children:[m.jsx("span",{children:m.jsx(he,{icon:sR})}),m.jsx("p",{children:a.length>=40?`${a.substring(0,40)}...`:a})]})}return n.trim().length>0&&m.jsx("div",{className:"suggestions",children:r.slice(0,3).filter(a=>a.toLowerCase().includes(n.toLowerCase())).map((a,o)=>m.jsx(s,{suggestion:a},o))})}function SQ({setActivate:e,uid:t,id:n}){const r=Fn(),[i,s]=R.useState({}),a=()=>{r("/chats")},o=()=>{e(!1),r(`/chat/${n.split("from")[0]}`)};return R.useEffect(()=>{(async()=>{const d={username:await Q3(t)};s(d)})()},[t]),m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"blurred-bg"}),m.jsxs("div",{className:"floating_chats",children:[m.jsx("div",{className:"top",children:m.jsx("div",{className:"leftside",children:m.jsxs("span",{children:["Chat imported from ",i.username]})})}),m.jsx("div",{className:"bottom",children:m.jsxs("div",{className:"buttons",children:[m.jsxs("button",{onClick:()=>o(),children:[m.jsx(he,{icon:Q6})," Open chat"]}),m.jsxs("button",{onClick:()=>a(),children:[m.jsx(he,{icon:yR})," Back to chats"]})]})})]})]})}function AQ({message:e,setHistory:t,id:n,loading:r,history:i,setLoading:s,setMessage:a,experimental:o}){const[u,l]=R.useState([]),d=Fn(),c=R.useRef(null),[f,p]=R.useState(0),g=tt.find(E=>E.symbole===window.location.pathname.at(6)).name.toUpperCase(),[T,w]=R.useState(!1);R.useEffect(()=>{(async()=>{if(!(n.split("from").length>1))await bQ(l,n,t)==="back"&&d("/chats");else{const k=await yH(n);k==="back"?w(!0):k==="error"&&d("/chats")}})()},[n,d,t]),R.useEffect(()=>{(async()=>{p(await nc(g.toUpperCase()))})()},[i]),R.useEffect(()=>{c.current&&c.current.scrollTo({top:c.current.scrollHeight,behavior:"smooth"})},[u]);function _(){return m.jsxs("div",{className:"message wait",children:[m.jsx("div",{className:"leftside",children:m.jsx("img",{src:rc,alt:"logo of user"})}),m.jsxs("div",{className:"rightside",children:[m.jsx("div",{className:"line"}),m.jsx("div",{className:"line"}),m.jsx("div",{className:"line"})]})]})}return m.jsxs("div",{className:"messages",ref:c,children:[u.map((E,y)=>m.jsx(vQ,{message:E,messagePath:n,history:i,setLoading:s,setHistory:t},y)),r?m.jsx(_,{}):null,T&&m.jsx(SQ,{setActivate:w,uid:n.split("from")[1],id:n}),!r&&f>0&&f%5===0?m.jsx(wQ,{}):null,o&&m.jsx(IQ,{message:e,history:i,setMessage:a})]})}function kQ({currentChat:e,history:t,setLoading:n,loading:r,message:i,setMessage:s}){const[a,o]=R.useState(0),[u,l]=R.useState([]),d=tt.find(E=>E.symbole===window.location.pathname.at(6)).name.toUpperCase(),[c,f]=R.useState(!1);R.useEffect(()=>{(async()=>{const y=await Co();f(y)})()},[]),R.useEffect(()=>{(async()=>{o(await nc(d.toUpperCase()))})()},[t]);const p=E=>{r||df(d.toUpperCase(),i,s,E,e,t,n,u,l)},g=E=>{E.key==="Enter"&&!E.shiftKey&&(E.preventDefault(),p(E))},T=async E=>{const y=E.target.files;l(y?Array.from(y):null)},w=E=>{const y=E.clipboardData.items;for(let k=0;k<y.length;k++)if(y[k].type.startsWith("image/")){const L=y[k].getAsFile();L&&l(A=>[...A,L]);break}},_=c?999:tt.find(E=>E.name.toUpperCase()===d.toUpperCase()).dailyLimit;return m.jsx("div",{className:"input",onPaste:w,children:m.jsxs("form",{className:"content",onSubmit:E=>p(E),children:[m.jsx("input",{id:"upload",type:"file",multiple:!0,accept:"image/*",disabled:r,onClick:()=>u?l([]):null,onChange:T}),d==="ALLY-IMAGINE"?null:m.jsxs("label",{className:u.length>0?"uploaded":"",htmlFor:"upload",children:[u.length>0?m.jsx("span",{children:u.length}):null,m.jsx(he,{icon:lR})]}),m.jsx("textarea",{disabled:r||a>=_,onKeyDown:g,type:"text",placeholder:a>=_?"Prompts limit reached for today":r?"Wait for response...":"Ask question",onChange:E=>s(E.target.value),value:i}),m.jsx("button",{disabled:r||i.trim().length===0||a>=_,children:m.jsx(he,{icon:_w})})]})})}function xQ(){var c;const e=Zi(),t=Fn(),[n,r]=R.useState([]),[i,s]=R.useState(((c=e.state)==null?void 0:c.loading)||!1),{id:a}=uw(),[o,u]=R.useState(""),[l,d]=R.useState(!1);return R.useEffect(()=>{t(`/chat/${a}`,{replace:!0,state:null})},[t,a]),R.useEffect(()=>{n.length===2&&s(!1),(async()=>{const p=await Xs();d(p.experimental)})()},[n]),m.jsxs(m.Fragment,{children:[m.jsx(so,{}),m.jsxs("section",{className:"chat",children:[m.jsx(TH,{id:a,experimental:l}),m.jsx(AQ,{message:o,setMessage:u,setHistory:r,id:a,loading:i,history:n,setLoading:s,experimental:l}),m.jsx(kQ,{message:o,setMessage:u,currentChat:a,history:n,setLoading:s,loading:i})]})]})}const NQ=["auto","English","Spanish","French","German","Russian","Chinese","Japanese","Korean","Arabic","Portuguese","Italian","Hindi","Bengali","Persian","Punjabi","Vietnamese","Malay","Telugu","Tamil","Marathi","Turkish","Urdu","Indonesian","German","Swedish","Norwegian","Danish","Dutch","Polish","Czech","Slovak","Hungarian","Romanian","Greek","Finnish","Hebrew","Thai","Filipino"],RQ=["neutral","friendly","formal","informative","professional"];function PQ(){const[e,t]=R.useState("Loading..."),[n,r]=R.useState("Loading..."),[i,s]=R.useState(!1),[a,o]=R.useState("auto"),[u,l]=R.useState("neutral"),[d,c]=R.useState(""),[f,p]=R.useState(!1),g=R.useRef(null);R.useEffect(()=>{(async()=>{const B=await Xs();t(B.temperature.toString()),r(B.length.toString()),o(B.language),c(B.rules),l(B.tone)})()},[]);function T(P){P!==a&&(o(P),s(!1))}function w(P){P!==u&&(l(P),p(!1))}const _=()=>{s(!i)},E=()=>{p(!f)},y=()=>{const P=g.current;P&&(P.style.height="auto",P.style.height=`${P.scrollHeight}px`)},k=P=>{c(P.target.value),y()};function L({lang:P}){return m.jsxs("div",{className:`language${P===a&&i?" primary":""}`,onClick:()=>T(P),children:[m.jsx("span",{children:P}),P===a?m.jsx("button",{onClick:()=>_(),children:m.jsx(he,{icon:Mm})}):null]})}function A({lang:P}){return m.jsxs("div",{className:`language${P===u&&f?" primary":""}`,onClick:()=>w(P),children:[m.jsx("span",{children:P}),P===u?m.jsx("button",{onClick:()=>E(),children:m.jsx(he,{icon:Mm})}):null]})}return m.jsxs("div",{className:"container",children:[m.jsx("h2",{children:"Output Settings"}),m.jsxs("div",{className:"list",children:[m.jsx("span",{children:"Temperature"}),m.jsx("p",{children:"Temperature controls the randomness of the output. Use higher values for more creative responses, and lower values for more deterministic responses. Values can range from [0.0, 2.0]."}),m.jsx("input",{type:"text",maxLength:1,placeholder:"Values can range from [0.0, 2.0].",value:e,onChange:P=>t(P.target.value)})]}),m.jsxs("div",{className:"list",children:[m.jsx("span",{children:"Output Language"}),m.jsx("p",{children:"Select the language in which you want to receive replies"}),m.jsxs("div",{className:"select_language",children:[m.jsx(L,{lang:a},"English"),i?m.jsx("div",{className:"lang_list",children:NQ.filter(P=>P!==a).map((P,B)=>m.jsx(L,{lang:P},B))}):null]})]}),m.jsxs("div",{className:"list",children:[m.jsx("span",{children:"Output Length"}),m.jsx("p",{children:"Control how long the text of the displayed response can be. Values can range from [1024, 8192]"}),m.jsx("input",{type:"text",placeholder:"Values can range from [1024, 8192].",value:n,onChange:P=>r(P.target.value)})]}),m.jsxs("div",{className:"list",children:[m.jsx("span",{children:"Output Tone"}),m.jsx("p",{children:"Control the tone of the messages you receive"}),m.jsxs("div",{className:"select_language",children:[m.jsx(A,{lang:u},"neutral"),f?m.jsx("div",{className:"lang_list",children:RQ.filter(P=>P!==u).map((P,B)=>m.jsx(A,{lang:P},B))}):null]})]}),m.jsxs("div",{className:"list",children:[m.jsx("span",{children:"Custom Instructions"}),m.jsx("p",{children:"Provide your own rules that AllyAI will follow in each of your chats"}),m.jsxs("div",{className:"rules",children:[m.jsx("textarea",{ref:g,value:d,onChange:k,maxLength:300,type:"text",placeholder:"Your instructions..."}),m.jsx("span",{children:300-d.length})]}),m.jsx("button",{onClick:()=>jB(e,n,t,r,a,o,d,c,u,l),children:"SAVE SETTINGS"})]})]})}function OQ({tabs:e,selectedTab:t,setSelectedTab:n}){const r=s=>{n(s)};function i({tab:s}){return m.jsx("button",{onClick:()=>r(s),className:`settings_selecting_tab ${t===s?"active":""}`,children:s},s)}return m.jsxs("div",{className:"settings_selecting",children:[m.jsx("h2",{children:"Settings"}),m.jsx("div",{className:"settings_selecting_tabs",children:e.map((s,a)=>m.jsx(i,{tab:s.title},a))})]})}const LQ=()=>{le.signOut().then(()=>{localStorage.removeItem("user"),window.location.reload()})},DQ={prefix:"far",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-111 111-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L369 209z"]},Zk=DQ,MQ={prefix:"far",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M64 112c-8.8 0-16 7.2-16 16l0 22.1L220.5 291.7c20.7 17 50.4 17 71.1 0L464 150.1l0-22.1c0-8.8-7.2-16-16-16L64 112zM48 212.2L48 384c0 8.8 7.2 16 16 16l384 0c8.8 0 16-7.2 16-16l0-171.8L322 328.8c-38.4 31.5-93.7 31.5-132 0L48 212.2zM0 128C0 92.7 28.7 64 64 64l384 0c35.3 0 64 28.7 64 64l0 256c0 35.3-28.7 64-64 64L64 448c-35.3 0-64-28.7-64-64L0 128z"]};function FQ({isPremium:e}){function t(){return m.jsx("stripe-buy-button",{"buy-button-id":"buy_btn_1Qc57XP2S3Dculr8dq3ppuby","publishable-key":"pk_live_51Qc4feP2S3Dculr8fK4R12r5FZeWzaH0xG52XVPQpJ9FAH3jaTsB73HFtJm34MqyNuzCE7TjAdKkfwn1yelhw21400xAygROAl","customer-email":le.currentUser.email,"success-url":"https://ally-ai.lol/success?session_id={CHECKOUT_SESSION_ID}","cancel-url":"https://ally-ai.lol/settings"})}return m.jsxs("div",{className:"container",children:[m.jsx("h2",{children:"User settings"}),m.jsxs("div",{className:"list",children:[m.jsx("span",{children:"Premium account"}),m.jsx("p",{children:"Get access to additional features before the premiere by enabling access to the experimental features tab. Unlimited prompts and more"}),e?m.jsxs("div",{className:"checkbox checkbox-wide",children:["PREMIUM ENABLED ",m.jsx(he,{icon:Zk})]}):m.jsx(t,{})]}),m.jsxs("div",{className:"list",children:[m.jsx("span",{children:"Logout"}),m.jsx("p",{children:"Log out of your account to prevent unwanted authorization, you will not be automatically logged in the next time you visit the site"}),m.jsx("button",{onClick:()=>LQ(),children:"LOGOUT"})]})]})}const UQ=e=>{Te.ref(`users/${le.currentUser.uid}/custom`).update({rules:e})};function BQ(){const[e,t]=R.useState(!1),[n,r]=R.useState(!1),i=R.useRef(null),[s,a]=R.useState("");R.useEffect(()=>{(async()=>{const c=await Xs();t(c.experimental)})()},[]);const o=()=>{t(!e),Te.ref(`users/${le.currentUser.uid}/settings`).update({experimental:!e})},u=()=>{const d=i.current;d&&(d.style.height="auto",d.style.height=`${d.scrollHeight}px`)},l=d=>{a(d.target.value),u()};return m.jsxs("div",{className:"container",children:[m.jsx("h2",{children:"Experimental Settings"}),e&&m.jsxs("div",{className:"list",children:[m.jsx("span",{children:"Chats Management"}),m.jsx("p",{children:"Manage all the chats you own"}),m.jsxs("div",{className:`checkbox checkbox-wide${n?" active":""}`,onClick:()=>_H(r),children:[m.jsx(he,{icon:n?fy:rR}),n?"Deleted successfully":"Delete all chats"]})]}),e&&m.jsxs("div",{className:"list",children:[m.jsx("span",{children:"AI Assistant"}),m.jsx("p",{children:"Set the rules for your own AI assistant"}),m.jsxs("div",{className:"rules",children:[m.jsx("textarea",{ref:i,value:s,onChange:l,maxLength:300,type:"text",placeholder:"Your instructions..."}),m.jsx("span",{children:300-s.length})]}),m.jsx("button",{onClick:()=>UQ(s),children:"SAVE RULES"})]}),m.jsxs("div",{className:"list",children:[m.jsx("span",{children:"Experimental Beta Features"}),m.jsx("p",{children:"Allow experimental changes that will appear in the next updates, may be unstable (run at your own risk)"}),m.jsx("div",{className:`checkbox ${e&&"active"}`,onClick:()=>o(),children:m.jsx(he,{icon:e?fy:fR})})]})]})}function HQ(){var u,l;const e=Zi(),t=Fn(),[n,r]=R.useState(((u=e.state)==null?void 0:u.category)||"User settings"),[i,s]=R.useState(!1);R.useEffect(()=>{t("/settings",{replace:!0,state:null})},[t]),R.useEffect(()=>{(async()=>{const c=await Co();s(c)})()},[]);const o=[{title:"Output settings",component:m.jsx(PQ,{})},{title:"User settings",component:m.jsx(FQ,{isPremium:i})},{title:"Experimental settings",component:m.jsx(BQ,{}),display:i}].filter(d=>!("display"in d)||d.display);return m.jsxs(m.Fragment,{children:[m.jsx(so,{}),m.jsxs("section",{className:"settings",children:[m.jsx(OQ,{tabs:o,selectedTab:n,setSelectedTab:r}),(l=o.find(d=>d.title===n))==null?void 0:l.component]})]})}const jQ="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";function zQ(){const[e,t]=R.useState(!1),[n,r]=R.useState({});return R.useEffect(()=>{const s=new URLSearchParams(window.location.search).get("session_id");(async()=>{try{const u=await(await fetch(`https://api.stripe.com/v1/checkout/sessions/${s}`,{method:"GET",headers:{Authorization:`Bearer ${jQ}`}})).json();r(u),u.payment_status==="paid"&&le.currentUser.email===u.customer_details.email?(t(!0),nH()):t(!1)}catch(o){console.error("Bd weryfikacji patnoci:",o)}})()},[]),e?m.jsxs(m.Fragment,{children:[m.jsx(so,{}),m.jsx("section",{className:"success",children:m.jsxs("div",{className:"success__container",children:[m.jsx("div",{className:"success__icon",children:m.jsx(he,{icon:Zk})}),m.jsx("h1",{children:"Payment was Successful!"}),m.jsx("p",{children:"Your payment has been successfully done."}),m.jsxs("div",{className:"success__details",children:[m.jsxs("div",{className:"success__row",children:[m.jsx("span",{children:"Total Payment"}),m.jsxs("strong",{children:[(n==null?void 0:n.currency.toUpperCase())||"PLN"," ",(n==null?void 0:n.amount_total)||"15"]})]}),m.jsxs("div",{className:"success__row",children:[m.jsx("span",{children:"Email"}),m.jsx("strong",{children:(n==null?void 0:n.customer_details.email)||"undefined"})]})]})]})})]}):m.jsxs(m.Fragment,{children:[m.jsx(so,{}),m.jsx("section",{className:"success",children:m.jsxs("div",{className:"success__container",children:[m.jsx("h1",{children:"Payment Failed!"}),m.jsx("p",{children:"Your payment has not been successfully done."})]})})]})}function WQ(){return m.jsxs("nav",{className:"navbar",children:[m.jsx("div",{className:"logo",children:m.jsx("h2",{children:"AllyAI"})}),m.jsxs("div",{className:"nav-links",children:[m.jsx("a",{href:"#",children:"Home"}),m.jsx("a",{href:"#about",children:"About"}),m.jsx("a",{href:"#pricing",children:"Pricing"}),m.jsx(Ll,{to:"/chats",className:"sign-in",children:"Get Started"})]})]})}const VQ="/assets/presentation-ssP90fKL.png",$Q=()=>{const e=window.navigator.userAgent.toLowerCase();switch(!0){case e.includes("windows"):return"Windows";case e.includes("linux"):return"Linux";default:return""}},ex={prefix:"fab",iconName:"google",icon:[488,512,[],"f1a0","M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"]},YQ={prefix:"fab",iconName:"windows",icon:[448,512,[],"f17a","M0 93.7l183.6-25.3v177.4H0V93.7zm0 324.6l183.6 25.3V268.4H0v149.9zm203.8 28L448 480V268.4H203.8v177.9zm0-380.6v180.1H448V32L203.8 65.7z"]},GQ={prefix:"fab",iconName:"linux",icon:[448,512,[],"f17c","M220.8 123.3c1 .5 1.8 1.7 3 1.7 1.1 0 2.8-.4 2.9-1.5.2-1.4-1.9-2.3-3.2-2.9-1.7-.7-3.9-1-5.5-.1-.4.2-.8.7-.6 1.1.3 1.3 2.3 1.1 3.4 1.7zm-21.9 1.7c1.2 0 2-1.2 3-1.7 1.1-.6 3.1-.4 3.5-1.6.2-.4-.2-.9-.6-1.1-1.6-.9-3.8-.6-5.5.1-1.3.6-3.4 1.5-3.2 2.9.1 1 1.8 1.5 2.8 1.4zM420 403.8c-3.6-4-5.3-11.6-7.2-19.7-1.8-8.1-3.9-16.8-10.5-22.4-1.3-1.1-2.6-2.1-4-2.9-1.3-.8-2.7-1.5-4.1-2 9.2-27.3 5.6-54.5-3.7-79.1-11.4-30.1-31.3-56.4-46.5-74.4-17.1-21.5-33.7-41.9-33.4-72C311.1 85.4 315.7.1 234.8 0 132.4-.2 158 103.4 156.9 135.2c-1.7 23.4-6.4 41.8-22.5 64.7-18.9 22.5-45.5 58.8-58.1 96.7-6 17.9-8.8 36.1-6.2 53.3-6.5 5.8-11.4 14.7-16.6 20.2-4.2 4.3-10.3 5.9-17 8.3s-14 6-18.5 14.5c-2.1 3.9-2.8 8.1-2.8 12.4 0 3.9.6 7.9 1.2 11.8 1.2 8.1 2.5 15.7.8 20.8-5.2 14.4-5.9 24.4-2.2 31.7 3.8 7.3 11.4 10.5 20.1 12.3 17.3 3.6 40.8 2.7 59.3 12.5 19.8 10.4 39.9 14.1 55.9 10.4 11.6-2.6 21.1-9.6 25.9-20.2 12.5-.1 26.3-5.4 48.3-6.6 14.9-1.2 33.6 5.3 55.1 4.1.6 2.3 1.4 4.6 2.5 6.7v.1c8.3 16.7 23.8 24.3 40.3 23 16.6-1.3 34.1-11 48.3-27.9 13.6-16.4 36-23.2 50.9-32.2 7.4-4.5 13.4-10.1 13.9-18.3.4-8.2-4.4-17.3-15.5-29.7zM223.7 87.3c9.8-22.2 34.2-21.8 44-.4 6.5 14.2 3.6 30.9-4.3 40.4-1.6-.8-5.9-2.6-12.6-4.9 1.1-1.2 3.1-2.7 3.9-4.6 4.8-11.8-.2-27-9.1-27.3-7.3-.5-13.9 10.8-11.8 23-4.1-2-9.4-3.5-13-4.4-1-6.9-.3-14.6 2.9-21.8zM183 75.8c10.1 0 20.8 14.2 19.1 33.5-3.5 1-7.1 2.5-10.2 4.6 1.2-8.9-3.3-20.1-9.6-19.6-8.4.7-9.8 21.2-1.8 28.1 1 .8 1.9-.2-5.9 5.5-15.6-14.6-10.5-52.1 8.4-52.1zm-13.6 60.7c6.2-4.6 13.6-10 14.1-10.5 4.7-4.4 13.5-14.2 27.9-14.2 7.1 0 15.6 2.3 25.9 8.9 6.3 4.1 11.3 4.4 22.6 9.3 8.4 3.5 13.7 9.7 10.5 18.2-2.6 7.1-11 14.4-22.7 18.1-11.1 3.6-19.8 16-38.2 14.9-3.9-.2-7-1-9.6-2.1-8-3.5-12.2-10.4-20-15-8.6-4.8-13.2-10.4-14.7-15.3-1.4-4.9 0-9 4.2-12.3zm3.3 334c-2.7 35.1-43.9 34.4-75.3 18-29.9-15.8-68.6-6.5-76.5-21.9-2.4-4.7-2.4-12.7 2.6-26.4v-.2c2.4-7.6.6-16-.6-23.9-1.2-7.8-1.8-15 .9-20 3.5-6.7 8.5-9.1 14.8-11.3 10.3-3.7 11.8-3.4 19.6-9.9 5.5-5.7 9.5-12.9 14.3-18 5.1-5.5 10-8.1 17.7-6.9 8.1 1.2 15.1 6.8 21.9 16l19.6 35.6c9.5 19.9 43.1 48.4 41 68.9zm-1.4-25.9c-4.1-6.6-9.6-13.6-14.4-19.6 7.1 0 14.2-2.2 16.7-8.9 2.3-6.2 0-14.9-7.4-24.9-13.5-18.2-38.3-32.5-38.3-32.5-13.5-8.4-21.1-18.7-24.6-29.9s-3-23.3-.3-35.2c5.2-22.9 18.6-45.2 27.2-59.2 2.3-1.7.8 3.2-8.7 20.8-8.5 16.1-24.4 53.3-2.6 82.4.6-20.7 5.5-41.8 13.8-61.5 12-27.4 37.3-74.9 39.3-112.7 1.1.8 4.6 3.2 6.2 4.1 4.6 2.7 8.1 6.7 12.6 10.3 12.4 10 28.5 9.2 42.4 1.2 6.2-3.5 11.2-7.5 15.9-9 9.9-3.1 17.8-8.6 22.3-15 7.7 30.4 25.7 74.3 37.2 95.7 6.1 11.4 18.3 35.5 23.6 64.6 3.3-.1 7 .4 10.9 1.4 13.8-35.7-11.7-74.2-23.3-84.9-4.7-4.6-4.9-6.6-2.6-6.5 12.6 11.2 29.2 33.7 35.2 59 2.8 11.6 3.3 23.7.4 35.7 16.4 6.8 35.9 17.9 30.7 34.8-2.2-.1-3.2 0-4.2 0 3.2-10.1-3.9-17.6-22.8-26.1-19.6-8.6-36-8.6-38.3 12.5-12.1 4.2-18.3 14.7-21.4 27.3-2.8 11.2-3.6 24.7-4.4 39.9-.5 7.7-3.6 18-6.8 29-32.1 22.9-76.7 32.9-114.3 7.2zm257.4-11.5c-.9 16.8-41.2 19.9-63.2 46.5-13.2 15.7-29.4 24.4-43.6 25.5s-26.5-4.8-33.7-19.3c-4.7-11.1-2.4-23.1 1.1-36.3 3.7-14.2 9.2-28.8 9.9-40.6.8-15.2 1.7-28.5 4.2-38.7 2.6-10.3 6.6-17.2 13.7-21.1.3-.2.7-.3 1-.5.8 13.2 7.3 26.6 18.8 29.5 12.6 3.3 30.7-7.5 38.4-16.3 9-.3 15.7-.9 22.6 5.1 9.9 8.5 7.1 30.3 17.1 41.6 10.6 11.6 14 19.5 13.7 24.6zM173.3 148.7c2 1.9 4.7 4.5 8 7.1 6.6 5.2 15.8 10.6 27.3 10.6 11.6 0 22.5-5.9 31.8-10.8 4.9-2.6 10.9-7 14.8-10.4s5.9-6.3 3.1-6.6-2.6 2.6-6 5.1c-4.4 3.2-9.7 7.4-13.9 9.8-7.4 4.2-19.5 10.2-29.9 10.2s-18.7-4.8-24.9-9.7c-3.1-2.5-5.7-5-7.7-6.9-1.5-1.4-1.9-4.6-4.3-4.9-1.4-.1-1.8 3.7 1.7 6.5z"]},tx={prefix:"fab",iconName:"facebook",icon:[512,512,[62e3],"f09a","M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256C0 376 82.7 476.8 194.2 504.5V334.2H141.4V256h52.8V222.3c0-87.1 39.4-127.5 125-127.5c16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1c-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287V510.1C413.8 494.8 512 386.9 512 256h0z"]},qQ=e=>{e==="windows"?window.open("https://github.com/Adiksuu/AllyAI-website/releases/download/v1.0.0/AllyAI-1.0.0-win.zip","_blank"):window.open("https://github.com/Adiksuu/AllyAI-website/releases/download/v1.0.0/allyai.appimage","_blank")};function KQ(){const[e,t]=R.useState("windows");return R.useEffect(()=>{t($Q())},[]),m.jsxs("section",{className:"hero",children:[m.jsxs("div",{className:"hero-content",children:[m.jsx("h1",{children:"Your Intelligent Chatbot"}),m.jsx("p",{children:"Take advantage of the new AI powered chatbot on the market"}),m.jsxs("div",{className:"cta-buttons",children:[m.jsx(Ll,{to:"/chats",className:"try-free",children:"Try For Free"}),e==="Windows"||e==="Linux"?m.jsxs("a",{onClick:()=>qQ(e),className:"download",children:["Download for ",e," ",m.jsx(he,{icon:e==="Windows"?YQ:GQ})]}):null]})]}),m.jsx("div",{className:"hero-image",children:m.jsx("img",{src:VQ,alt:"showcase image"})})]})}function QQ(){return m.jsxs("section",{id:"pricing",className:"pricing",children:[m.jsx("h2",{children:"Pricing Plans"}),m.jsx("div",{className:"pricing-cards",children:m.jsxs("div",{className:"price-card popular",children:[m.jsx("div",{className:"popular-badge",children:"Most Popular"}),m.jsxs("div",{className:"card-header",children:[m.jsx("h3",{children:"Premium"}),m.jsxs("p",{className:"price",children:["PLN 15",m.jsx("span",{children:"/forever"})]})]}),m.jsxs("ul",{children:[m.jsx("li",{children:"All Free features"}),m.jsx("li",{children:"Unlimited prompts"}),m.jsx("li",{children:"Priority response time"}),m.jsx("li",{children:"Experimental features"})]}),m.jsx(Ll,{to:"/settings",className:"get-started",children:"Try Premium"})]})})]})}function XQ(){return m.jsxs("section",{id:"about",className:"about",children:[m.jsx("h2",{children:"About"}),m.jsxs("div",{className:"features-grid",children:[m.jsxs("div",{className:"feature-card",children:[m.jsx("div",{className:"icon",children:""}),m.jsx("h3",{children:"Customizable"}),m.jsx("p",{children:"Adjust tone, formality, and language style to your preferences"})]}),m.jsxs("div",{className:"feature-card",children:[m.jsx("div",{className:"icon",children:""}),m.jsx("h3",{children:"Smart Learning"}),m.jsx("p",{children:"Adapts to your communication style and remembers your preferences"})]}),m.jsxs("div",{className:"feature-card",children:[m.jsx("div",{className:"icon",children:""}),m.jsx("h3",{children:"Secure & Private"}),m.jsx("p",{children:"Enterprise-grade security with end-to-end encryption"})]}),m.jsxs("div",{className:"feature-card",children:[m.jsx("div",{className:"icon",children:""}),m.jsx("h3",{children:"Lightning Fast"}),m.jsx("p",{children:"Get instant responses powered by cutting-edge AI technology"})]})]})]})}function JQ(){return m.jsxs("div",{className:"main",children:[m.jsx(WQ,{}),m.jsx(KQ,{}),m.jsx(XQ,{}),m.jsx(QQ,{})]})}function ZQ(){const e=[{path:"/",element:m.jsx(JQ,{})},{path:"/chats",element:m.jsx(hH,{})},{path:"/settings",element:m.jsx(HQ,{})},{path:"/models",element:m.jsx(mH,{})},{path:"/chat/:id",element:m.jsx(xQ,{})},{path:"/success",element:m.jsx(zQ,{})}];return m.jsx(R6,{children:e.map((t,n)=>m.jsx(hw,{path:t.path,element:t.element},n))})}function nx(e,t,n,r,i,s,a,o){if(e.preventDefault(),t==="login")le.signInWithEmailAndPassword(n,r).then(async()=>{a(!0);const u={email:n,password:r};localStorage.setItem("user",JSON.stringify(u)),await o(le.currentUser.emailVerified)}).catch(u=>{u.code==="auth/invalid-email"?i("This email is invalid, try another one"):u.code==="auth/missing-password"?i("The invalid password"):u.code==="auth/invalid-credential"?i("The email or password is wrong, try again"):i(u.code)});else{if(s.trim().length<3){i("The username is too short");return}le.createUserWithEmailAndPassword(n,r).then(()=>{const u={email:n,password:r,username:s,prompts:{"ALLY-2":0,"ALLY-LIE":0,"ALLY-IMAGINE":0,"ALLY-CUSTOM":0,resetAt:new Date().getTime()+864e5},settings:{temperature:1,length:8192,language:"auto",rules:""}};Te.ref(`users/${le.currentUser.uid}/`).set(u),a(!0),localStorage.setItem("user",JSON.stringify(u))}).catch(u=>{u.code==="auth/email-already-in-use"?i("This email is already in use, try another one"):u.code==="auth/invalid-email"?i("This email is invalid, try another one"):u.code==="auth/weak-password"?i("The password is too weak, it should be at least 6 characters long"):i(u.code)})}}function rx(e,t,n,r){h_(e,t).then(async i=>{const s=i.user,a={email:s.email,password:`google-${s.uid}`,username:s.displayName,prompts:{"ALLY-2":0,"ALLY-LIE":0,"ALLY-IMAGINE":0,"ALLY-CUSTOM":0,resetAt:new Date().getTime()+24*60*60*1e3},settings:{temperature:1,length:8192,language:"auto",rules:""}};(await Te.ref(`users/${s.uid}/`).once("value")).exists()||Te.ref(`users/${s.uid}/`).set(a),n(!0),r(s.emailVerified)}).catch(i=>{console.log(i)})}function ix(e,t,n,r){h_(e,t).then(async i=>{const s=i.user,a={email:s.email,password:`facebook-${s.uid}`,username:s.displayName,prompts:{"ALLY-2":0,"ALLY-LIE":0,"ALLY-IMAGINE":0,"ALLY-CUSTOM":0,resetAt:new Date().getTime()+24*60*60*1e3},settings:{temperature:1,length:8192,language:"auto",rules:""}};(await Te.ref(`users/${s.uid}/`).once("value")).exists()||Te.ref(`users/${s.uid}/`).set(a),n(!0),r(s.emailVerified)}).catch(i=>{console.log(i)})}function eX({setCurrentView:e,setAuthorized:t,setEmailVerified:n}){const[r,i]=R.useState(""),[s,a]=R.useState(""),[o,u]=R.useState("");return m.jsx("section",{className:"auth",children:m.jsxs("div",{className:"auth-container",children:[m.jsx("h1",{children:"Welcome back"}),m.jsxs("div",{onClick:()=>rx(le,V3,t,n),className:"google-btn",children:[m.jsx(he,{icon:ex})," Continue with Google"]}),m.jsxs("div",{onClick:()=>ix(le,$3,t,n),className:"google-btn",children:[m.jsx(he,{icon:tx})," Continue with Facebook"]}),m.jsx("div",{className:"divider",children:m.jsx("span",{children:"OR"})}),m.jsxs("form",{onSubmit:l=>nx(l,"login",r,s,u,"",t,n),children:[m.jsx("input",{type:"email",placeholder:"Enter email address",value:r,onChange:l=>i(l.target.value),required:!0}),m.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:l=>a(l.target.value),required:!0}),o&&m.jsx("div",{className:"error",children:o}),m.jsx("button",{type:"submit",className:"continue-btn",children:"Continue"})]}),m.jsxs("p",{className:"terms",children:["Don't have an account? ",m.jsx("span",{onClick:()=>e("register"),children:"Sign Up"})]})]})})}function tX({setCurrentView:e,setAuthorized:t,setEmailVerified:n}){const[r,i]=R.useState(""),[s,a]=R.useState(""),[o,u]=R.useState(""),[l,d]=R.useState("");return m.jsx("section",{className:"auth",children:m.jsxs("div",{className:"auth-container",children:[m.jsx("h1",{children:"Create your account"}),m.jsxs("div",{onClick:()=>rx(le,V3,t,n),className:"google-btn",children:[m.jsx(he,{icon:ex})," Continue with Google"]}),m.jsxs("div",{onClick:()=>ix(le,$3,t,n),className:"google-btn",children:[m.jsx(he,{icon:tx})," Continue with Facebook"]}),m.jsx("div",{className:"divider",children:m.jsx("span",{children:"OR"})}),m.jsxs("form",{onSubmit:c=>nx(c,"register",r,s,d,o,t),children:[m.jsx("input",{type:"text",placeholder:"Email...",value:r,onChange:c=>i(c.target.value)}),m.jsx("input",{type:"text",placeholder:"Username...",value:o,onChange:c=>u(c.target.value)}),m.jsx("input",{type:"password",placeholder:"Password...",value:s,onChange:c=>a(c.target.value)}),m.jsx("button",{type:"submit",className:"continue-btn",children:"Continue"}),l.length>0?m.jsx("span",{children:l}):null]}),m.jsxs("p",{className:"terms",children:["Don't have an account? ",m.jsx("span",{onClick:()=>e("login"),children:"Sign Up"})]})]})})}function nX(){return m.jsx("section",{className:"loading",children:m.jsx("img",{src:rc,alt:"logo of app"})})}function rX({setAuthorized:e,setEmailVerified:t}){const[n,r]=R.useState("login"),[i,s]=R.useState(!0);return R.useEffect(()=>{le.onAuthStateChanged(a=>{a&&(e(!0),t(a.emailVerified)),s(!1)})},[]),i?m.jsx(nX,{}):m.jsx(m.Fragment,{children:n==="login"?m.jsx(eX,{setCurrentView:r,setAuthorized:e,setEmailVerified:t}):m.jsx(tX,{setCurrentView:r,setAuthorized:e,setEmailVerified:t})})}const iX=()=>{le.currentUser.sendEmailVerification()};function sX(){return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"blurred-bg"}),m.jsxs("div",{className:"verify_email",children:[m.jsx("div",{className:"top",children:m.jsx("div",{className:"icon",children:m.jsx(he,{icon:MQ})})}),m.jsxs("div",{className:"info",children:[m.jsx("h2",{children:"Please verify your email"}),m.jsxs("p",{children:["We have sent confirmation to ",m.jsx("strong",{children:le.currentUser.email}),". Check your email to verify"]})]}),m.jsx("div",{className:"buttons",children:m.jsx("button",{onClick:()=>iX(),children:"Send again"})})]})]})}function aX(){const e=Zi(),[t,n]=R.useState(!1),[r,i]=R.useState(!1);return!t&&e.pathname!=="/"?m.jsx(rX,{setAuthorized:n,setEmailVerified:i}):m.jsxs(m.Fragment,{children:[t&&!r?m.jsx(sX,{}):null,m.jsx(ZQ,{})]})}function oX(){return m.jsx(U6,{children:m.jsx(aX,{})})}ZC(document.getElementById("root")).render(m.jsx(R.StrictMode,{children:m.jsx(oX,{})}));
